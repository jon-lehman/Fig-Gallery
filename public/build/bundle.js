var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let a;function s(t,e){return a||(a=document.createElement("a")),a.href=e,t===a.href}function u(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}const c="undefined"!=typeof window;let l=c?()=>window.performance.now():()=>Date.now(),h=c?t=>requestAnimationFrame(t):t;const f=new Set;function d(t){f.forEach((e=>{e.c(t)||(f.delete(e),e.f())})),0!==f.size&&h(d)}function p(t,e){t.appendChild(e)}function v(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode&&t.parentNode.removeChild(t)}function g(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function _(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function b(t){return document.createTextNode(t)}function w(){return b(" ")}function I(){return b("")}function C(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function T(t){return function(e){return e.preventDefault(),t.call(this,e)}}function E(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function k(t,e){e=""+e,t.data!==e&&(t.data=e)}function S(t,e){t.value=null==e?"":e}function N(t,e,n,r){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function A(t,e,n){t.classList[n?"add":"remove"](e)}let x;function P(t){x=t}function R(){const t=function(){if(!x)throw new Error("Function called outside component initialization");return x}();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=function(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}(e,n,{cancelable:r});return i.slice().forEach((e=>{e.call(t,o)})),!o.defaultPrevented}return!0}}const O=[],D=[];let L=[];const M=[],F=Promise.resolve();let $=!1;function j(t){L.push(t)}function q(t){M.push(t)}const U=new Set;let V=0;function W(){if(0!==V)return;const t=x;do{try{for(;V<O.length;){const t=O[V];V++,P(t),B(t.$$)}}catch(t){throw O.length=0,V=0,t}for(P(null),O.length=0,V=0;D.length;)D.pop()();for(let t=0;t<L.length;t+=1){const e=L[t];U.has(e)||(U.add(e),e())}L.length=0}while(O.length);for(;M.length;)M.pop()();$=!1,U.clear(),P(t)}function B(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(j)}}const H=new Set;let z;function K(){z={r:0,c:[],p:z}}function G(){z.r||r(z.c),z=z.p}function Y(t,e){t&&t.i&&(H.delete(t),t.i(e))}function X(t,e,n,r){if(t&&t.o){if(H.has(t))return;H.add(t),z.c.push((()=>{H.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function Q(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function J(t){t&&t.c()}function Z(t,n,o,a){const{fragment:s,after_update:u}=t.$$;s&&s.m(n,o),a||j((()=>{const n=t.$$.on_mount.map(e).filter(i);t.$$.on_destroy?t.$$.on_destroy.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(j)}function tt(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];L.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),L=e}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function et(t,e){-1===t.$$.dirty[0]&&(O.push(t),$||($=!0,F.then(W)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function nt(e,i,o,a,s,u,c,l=[-1]){const h=x;P(e);const f=e.$$={fragment:null,ctx:[],props:u,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(h?h.$$.context:[])),callbacks:n(),dirty:l,skip_bound:!1,root:i.target||h.$$.root};c&&c(f.root);let d=!1;if(f.ctx=o?o(e,i.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=i)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](i),d&&et(e,t)),n})):[],f.update(),d=!0,r(f.before_update),f.fragment=!!a&&a(f.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);f.fragment&&f.fragment.l(t),t.forEach(m)}else f.fragment&&f.fragment.c();i.intro&&Y(e.$$.fragment),Z(e,i.target,i.anchor,i.customElement),W()}P(h)}class rt{$destroy(){tt(this,1),this.$destroy=t}$on(e,n){if(!i(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const it=[];var ot=function(t,e){return ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},ot(t,e)};function at(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}ot(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var st=function(){return st=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},st.apply(this,arguments)};function ut(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function ct(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}function lt(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ht(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function ft(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var dt=!1,pt="${JSCORE_VERSION}",vt=function(t,e){if(!t)throw mt(e)},mt=function(t){return new Error("Firebase Database ("+pt+") INTERNAL ASSERT FAILED: "+t)},gt=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},yt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gt(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},_t=function(t){var e=gt(t);return yt.encodeByteArray(e,!0)},bt=function(t){return _t(t).replace(/\./g,"")},wt=function(t){try{return yt.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function It(t){return Ct(void 0,t)}function Ct(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=Ct(t[n],e[n]));return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Tt=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Et(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function kt(){return!0===dt}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var St=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Nt.prototype.create),o}return at(e,t),e}(Error),Nt=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?function(t,e){return t.replace(At,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").";return new St(i,s,r)},t}();var At=/\{\$([^}]+)}/g;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function xt(t){return JSON.parse(t)}function Pt(t){return JSON.stringify(t)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Rt=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=xt(wt(o[0])||""),n=xt(wt(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Ot(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Dt(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function Lt(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mt(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ft=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function $t(t,e){var n=new jt(t,e);return n.subscribe.bind(n)}var jt=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=qt),void 0===r.error&&(r.error=qt),void 0===r.complete&&(r.complete=qt);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function qt(){}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ut=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Vt(t,e){return t+" failed: "+e+" argument "}function Wt(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(Vt(t,e)+"must be a valid function.")}function Bt(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(Vt(t,e)+"must be a valid context object.")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ht=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function zt(t){return t&&t._delegate?t._delegate:t}var Kt=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),Gt="[DEFAULT]",Yt=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Tt;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t))try{this.getOrInitializeService({instanceIdentifier:Gt})}catch(t){}try{for(var r=lt(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=ht(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=Gt),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return ut(this,void 0,void 0,(function(){var t;return ct(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(ft(ft([],ht(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),ht(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=Gt),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=Gt),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var s=lt(this.instancesDeferred.entries()),u=s.next();!u.done;u=s.next()){var c=ht(u.value,2),l=c[0],h=c[1];o===this.normalizeInstanceIdentifier(l)&&h.resolve(a)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r,i=this.onInitCallbacks.get(e);if(i)try{for(var o=lt(i),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(t,e)}catch(t){}}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===Gt?void 0:e),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(t){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=Gt),this.component?this.component.multipleInstances?t:Gt:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Xt,Qt=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Yt(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function Jt(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Zt,te=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(Zt||(Zt={}));var ee,ne={debug:Zt.DEBUG,verbose:Zt.VERBOSE,info:Zt.INFO,warn:Zt.WARN,error:Zt.ERROR,silent:Zt.SILENT},re=Zt.INFO,ie=((Xt={})[Zt.DEBUG]="log",Xt[Zt.VERBOSE]="log",Xt[Zt.INFO]="info",Xt[Zt.WARN]="warn",Xt[Zt.ERROR]="error",Xt),oe=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=ie[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,Jt(["["+i+"]  "+t.name+":"],n))}},ae=function(){function t(t){this.name=t,this._logLevel=re,this._logHandler=oe,this._userLogHandler=null,te.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Zt))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?ne[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Jt([this,Zt.DEBUG],t)),this._logHandler.apply(this,Jt([this,Zt.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Jt([this,Zt.VERBOSE],t)),this._logHandler.apply(this,Jt([this,Zt.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Jt([this,Zt.INFO],t)),this._logHandler.apply(this,Jt([this,Zt.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Jt([this,Zt.WARN],t)),this._logHandler.apply(this,Jt([this,Zt.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Jt([this,Zt.ERROR],t)),this._logHandler.apply(this,Jt([this,Zt.ERROR],t))},t}();function se(t){te.forEach((function(e){e.setLogLevel(t)}))}var ue,ce=((ee={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ee["bad-app-name"]="Illegal App name: '{$appName}",ee["duplicate-app"]="Firebase App named '{$appName}' already exists",ee["app-deleted"]="Firebase App named '{$appName}' already deleted",ee["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ee["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ee),le=new Nt("app","Firebase",ce),he="@firebase/app",fe="[DEFAULT]",de=((ue={})[he]="fire-core",ue["@firebase/analytics"]="fire-analytics",ue["@firebase/app-check"]="fire-app-check",ue["@firebase/auth"]="fire-auth",ue["@firebase/database"]="fire-rtdb",ue["@firebase/functions"]="fire-fn",ue["@firebase/installations"]="fire-iid",ue["@firebase/messaging"]="fire-fcm",ue["@firebase/performance"]="fire-perf",ue["@firebase/remote-config"]="fire-rc",ue["@firebase/storage"]="fire-gcs",ue["@firebase/firestore"]="fire-fst",ue["fire-js"]="fire-js",ue["firebase-wrapper"]="fire-js-all",ue),pe=new ae("@firebase/app"),ve=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=It(t),this.container=new Qt(e.name),this._addComponent(new Kt("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e=fe),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=fe),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){pe.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw le.create("app-deleted",{appName:this.name_})},t}();ve.prototype.name&&ve.prototype.options||ve.prototype.delete||console.log("dc");var me="8.10.0";
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ge(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=fe);var a=o.name;if("string"!=typeof a||!a)throw le.create("bad-app-name",{appName:String(a)});if(Ot(e,a))throw le.create("duplicate-app",{appName:a});var s=new t(n,o,r);return e[a]=s,s},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=de[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void pe.warn(u.join(" "))}o(new Kt(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:se,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw le.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=ne[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:Zt[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=te;r<i.length;r++)n(i[r])}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t,e)},apps:null,SDK_VERSION:me,INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;var n=e;return n}}};function i(t){if(!Ot(e,t=t||fe))throw le.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return pe.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw le.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Ct(s,o.serviceProps),r[a]=s,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++){var l=c[u];e[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ye=function t(){var e=ge(ve);return e.INTERNAL=st(st({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Ct(e,t)},createSubscribe:$t,ErrorFactory:Nt,deepExtend:Ct}),e}(),_e=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){pe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var be=self.firebase.SDK_VERSION;be&&be.indexOf("LITE")>=0&&pe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var we=ye.initializeApp;ye.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}()&&pe.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),we.apply(void 0,t)};var Ie=ye;!function(t,e){t.INTERNAL.registerComponent(new Kt("platform-logger",(function(t){return new _e(t)}),"PRIVATE")),t.registerVersion(he,"0.6.30",e),t.registerVersion("fire-js","")}(Ie);var Ce="8.10.1";
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
Ie.registerVersion("firebase",Ce,"app"),Ie.SDK_VERSION=Ce;var Te="";function Ee(t){Te=t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ke,Se=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Pt(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:xt(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),Ne=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Ot(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),Ae=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Se(e)}}catch(t){}return new Ne},xe=Ae("localStorage"),Pe=Ae("sessionStorage"),Re=new ae("@firebase/database"),Oe=(ke=1,function(){return ke++}),De=function(t){var e=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,vt(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new Ft;n.update(e);var r=n.digest();return yt.encodeByteArray(r)},Le=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=Le.apply(null,i):n+="object"==typeof i?Pt(i):i,n+=" "}return n},Me=null,Fe=!0,$e=function(t,e){vt(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Re.logLevel=Zt.VERBOSE,Me=Re.log.bind(Re),e&&Pe.set("logging_enabled",!0)):"function"==typeof t?Me=t:(Me=null,Pe.remove("logging_enabled"))},je=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===Fe&&(Fe=!1,null===Me&&!0===Pe.get("logging_enabled")&&$e(!0)),Me){var n=Le.apply(null,t);Me(n)}},qe=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];je.apply(void 0,ft([t],ht(e)))}},Ue=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+Le.apply(void 0,ft([],ht(t)));Re.error(n)},Ve=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+Le.apply(void 0,ft([],ht(t)));throw Re.error(n),new Error(n)},We=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+Le.apply(void 0,ft([],ht(t)));Re.warn(n)},Be=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},He="[MIN_NAME]",ze="[MAX_NAME]",Ke=function(t,e){if(t===e)return 0;if(t===He||e===ze)return-1;if(e===He||t===ze)return 1;var n=rn(t),r=rn(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},Ge=function(t,e){return t===e?0:t<e?-1:1},Ye=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Pt(e))},Xe=function(t){if("object"!=typeof t||null===t)return Pt(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=Pt(e[i]),r+=":",r+=Xe(t[e[i]]);return r+="}"},Qe=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Je(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var Ze=function(t){vt(!Be(t),"Invalid JSON number");var e,n,r,i,o,a=1023;0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),a))+a,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var s=[];for(o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var u=s.join(""),c="";for(o=0;o<64;o+=8){var l=parseInt(u.substr(o,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var tn=new RegExp("^-?(0*)\\d{1,10}$"),en=-2147483648,nn=2147483647,rn=function(t){if(tn.test(t)){var e=Number(t);if(e>=en&&e<=nn)return e}return null},on=function(t){try{t()}catch(t){setTimeout((function(){var e=t.stack||"";throw We("Exception was thrown by user callback.",e),t}),Math.floor(0))}},an=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},sn=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then((function(t){return n.appCheck=t}))}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise((function(n,r){setTimeout((function(){e.appCheck?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then((function(e){return e.addTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){We('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),un=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(t){return r.auth_=t}))}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(je("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):new Promise((function(n,r){setTimeout((function(){e.auth_?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',We(t)},t}(),cn=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),ln=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,hn="ac",fn="websocket",dn="long_polling",pn=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xe.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&xe.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){var t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+e},t}();function vn(t,e,n){var r;if(vt("string"==typeof e,"typeof type must == string"),vt("object"==typeof n,"typeof params must == object"),e===fn)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==dn)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var i=[];return Je(n,(function(t,e){i.push(t+"="+e)})),r+i.join("&")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var mn=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Ot(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return It(this.counters_)},t}(),gn={},yn={};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function _n(t){var e=t.toString();return gn[e]||(gn[e]=new mn),gn[e]}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var bn=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&on((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},t}(),wn="start",In=function(){function t(t,e,n,r,i,o,a){var s=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=qe(t),this.stats_=_n(e),this.urlFn=function(t){return s.appCheckToken&&(t[hn]=s.appCheckToken),vn(e,dn,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new bn(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Cn((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ht(t,5),i=r[0],o=r[1],a=r[2];if(r[3],r[4],n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===wn)n.id=o,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ht(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var t={};t[wn]="t",t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t[hn]=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&ln.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!!t.forceAllow_||!(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Pt(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=_t(e),r=Qe(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},t.prototype.incrementIncomingBytes_=function(t){var e=Pt(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Cn=function(){function t(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=Oe(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(t){je("frame writing exception"),t.stack&&je(t.stack),je(t)}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||je("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){je("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}}),Math.floor(1))},t}(),Tn=null;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */"undefined"!=typeof MozWebSocket?Tn=MozWebSocket:"undefined"!=typeof WebSocket&&(Tn=WebSocket);var En=function(){function t(e,n,r,i,o,a,s){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=qe(this.connId),this.stats_=_n(n),this.connURL=t.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n,r){var i={v:"5"};return"undefined"!=typeof location&&location.hostname&&ln.test(location.hostname)&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),r&&(i[hn]=r),vn(t,fn,i)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xe.set("previous_websocket_failure",!0);try{if(kt());else{var r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Tn(this.connURL,[],r)}}catch(t){this.log_("Error instantiating WebSocket.");var i=t.message||t.data;return i&&this.log_(i),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Tn&&!t.forceDisallow_},t.previouslyFailed=function(){return xe.isInMemoryStorage||!0===xe.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){xe.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=xt(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(vt(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Pt(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=Qe(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),kn=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[In,En]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=En&&En.isAvailable(),o=i&&!En.previouslyFailed();if(e.webSocketOnly&&(i||We("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[En];else{var a=this.transports_=[];try{for(var s=lt(t.ALL_TRANSPORTS),u=s.next();!u.done;u=s.next()){var c=u.value;c&&c.isAvailable()&&a.push(c)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Sn=function(){function t(t,e,n,r,i,o,a,s,u,c){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=qe("c:"+this.id+":"),this.transportManager_=new kn(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=an((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=Ye("t",t),n=Ye("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=Ye("t",t),n=Ye("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=Ye("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?Ue("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ue("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&We("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),an((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):an((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xe.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Nn=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),An=function(){function t(t){this.allowedEvents_=t,this.listeners_={},vt(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=ft([],ht(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){vt(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),xn=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Et()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return at(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return vt("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(An),Pn=32,Rn=768,On=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Dn(){return new On("")}function Ln(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Mn(t){return t.pieces_.length-t.pieceNum_}function Fn(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new On(t.pieces_,e)}function $n(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function jn(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function qn(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new On(e,0)}function Un(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof On)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new On(n,0)}function Vn(t){return t.pieceNum_>=t.pieces_.length}function Wn(t,e){var n=Ln(t),r=Ln(e);if(null===n)return e;if(n===r)return Wn(Fn(t),Fn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Bn(t,e){for(var n=jn(t,0),r=jn(e,0),i=0;i<n.length&&i<r.length;i++){var o=Ke(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Hn(t,e){if(Mn(t)!==Mn(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function zn(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(Mn(t)>Mn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Kn=function(t,e){this.errorPrefix_=e,this.parts_=jn(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Ht(this.parts_[n]);Gn(this)};function Gn(t){if(t.byteLength_>Rn)throw new Error(t.errorPrefix_+"has a key path longer than "+Rn+" bytes ("+t.byteLength_+").");if(t.parts_.length>Pn)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Pn+") or object contains a cycle "+Yn(t))}function Yn(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Xn,Qn,Jn=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return at(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return vt("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(An),Zn=1e3,tr=function(t){function e(n,r,i,o,a,s,u,c){var l=t.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=o,l.onServerInfoUpdate_=a,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=e.nextPersistentConnectionId_++,l.log_=qe("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=Zn,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!kt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Jn.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&xn.getInstance().on("online",l.onOnline_,l),l}return at(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(Pt(i)),vt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new Tt,r={p:t._path.toString(),q:t._queryObject},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[o];void 0!==t&&i===t&&(delete e.outstandingGets_[o],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(o),n.promise},e.prototype.listen=function(t,e,n,r){this.initConnection_();var i=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),vt(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),vt(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Ot(t,"w")){var n=Dt(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',i=e._path.toString();We("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){var e;(t&&40===t.length||"object"==typeof(e=Rt(t).claims)&&!0===e.admin)&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},e.prototype.tryAuth=function(){var t,e=this;if(this.connected_&&this.authToken_){var n=this.authToken_,r=(t=Rt(n).claims)&&"object"==typeof t&&t.hasOwnProperty("iat")?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,(function(t){var r=t.s,i=t.d||"error";e.authToken_===n&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(e){var n=e.s,r=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,r)}))},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),vt(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){this.initConnection_();var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Pt(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):Ue("Unrecognized action received from server: "+Pt(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;vt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zn,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Zn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Zn),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return ut(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,h,f,d,p,v=this;return ct(this,(function(m){switch(m.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this.lastSessionId,a=!1,s=null,u=function(){s?s.close():(a=!0,r())},c=function(t){vt(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(t)},this.realtime_={close:u,sendRequest:c},l=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)])];case 2:return h=ht.apply(void 0,[m.sent(),2]),f=h[0],d=h[1],a?je("getToken() completed but was canceled"):(je("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=d&&d.token,s=new Sn(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,(function(t){We(t+" ("+v.repoInfo_.toString()+")"),v.interrupt("server_kill")}),o)),[3,4];case 3:return p=m.sent(),this.log_("Failed to get token: "+p),a||(this.repoInfo_.nodeAdmin&&We(p),u()),[3,4];case 4:return[2]}}))}))},e.prototype.interrupt=function(t){je("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){je("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Lt(this.interruptReasons_)&&(this.reconnectDelay_=Zn,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return Xe(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new On(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){je("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){je("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=lt(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,lt(a.values())),u=s.next();!u.done;u=s.next()){var c=u.value;this.sendListen_(c)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={};t["sdk.js."+Te.replace(/\./g,"-")]=1,Et()?t["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=xn.getInstance().currentlyOnline();return Lt(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Nn),er=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),nr=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new er(He,t),r=new er(He,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return er.MIN},t}(),rr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return at(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Xn},set:function(t){Xn=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return Ke(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw mt("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return er.MIN},e.prototype.maxPost=function(){return new er(ze,Xn)},e.prototype.makePost=function(t,e){return vt("string"==typeof t,"KeyIndex indexValue must always be a string."),new er(t,Xn)},e.prototype.toString=function(){return".key"},e}(nr),ir=new rr,or=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),ar=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:ur.EMPTY_NODE,this.right=null!=o?o:ur.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return ur.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return ur.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),sr=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new ar(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),ur=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ar.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ar.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new or(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new or(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new or(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new or(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new sr,t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function cr(t,e){return Ke(t.name,e.name)}function lr(t,e){return Ke(t,e)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var hr,fr,dr,pr=function(t){return"number"==typeof t?"number:"+Ze(t):"string:"+t},vr=function(t){if(t.isLeafNode()){var e=t.val();vt("string"==typeof e||"number"==typeof e||"object"==typeof e&&Ot(e,".sv"),"Priority must be a string or number.")}else vt(t===Qn||t.isEmpty(),"priority of unexpected type.");vt(t===Qn||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},mr=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,vt(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),vr(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return hr},set:function(t){hr=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return Vn(e)?this:".priority"===Ln(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=Ln(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(vt(".priority"!==r||1===Mn(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Fn(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+pr(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?Ze(this.value_):this.value_,this.lazyHash_=De(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(vt(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return vt(i>=0,"Unknown leaf type: "+n),vt(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var gr,yr,_r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return at(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?Ke(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return er.MIN},e.prototype.maxPost=function(){return new er(ze,new mr("[PRIORITY-POST]",dr))},e.prototype.makePost=function(t,e){var n=fr(t);return new er(e,new mr("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(nr),br=new _r,wr=Math.log(2),Ir=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/wr,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Cr=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,a,s=r-e;if(0===s)return null;if(1===s)return o=t[e],a=n?n(o):o,new ar(a,o.node,ar.BLACK,null,null);var u=parseInt(s/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],a=n?n(o):o,new ar(a,o.node,ar.BLACK,c,l)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var c=i(o+1,s),l=t[o],h=n?n(l):l;u(new ar(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,ar.BLACK):(s(h,ar.BLACK),s(h,ar.RED))}return o}(new Ir(t.length));return new ur(r||e,o)},Tr={},Er=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return vt(Tr&&br,"ChildrenNode.ts has not been loaded"),gr=gr||new t({".priority":Tr},{".priority":br})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Dt(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof ur?e:null},t.prototype.hasIndex=function(t){return Ot(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){vt(e!==ir,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,a=n.getIterator(er.Wrap),s=a.getNext();s;)o=o||e.isDefinedOn(s.node),i.push(s),s=a.getNext();r=o?Cr(i,e.getCompare()):Tr;var u=e.toString(),c=st({},this.indexSet_);c[u]=e;var l=st({},this.indexes_);return l[u]=r,new t(l,c)},t.prototype.addToIndexes=function(e,n){var r=this,i=Mt(this.indexes_,(function(t,i){var o=Dt(r.indexSet_,i);if(vt(o,"Missing index implementation for "+i),t===Tr){if(o.isDefinedOn(e.node)){for(var a=[],s=n.getIterator(er.Wrap),u=s.getNext();u;)u.name!==e.name&&a.push(u),u=s.getNext();return a.push(e),Cr(a,o.getCompare())}return Tr}var c=n.get(e.name),l=t;return c&&(l=l.remove(new er(e.name,c))),l.insert(e,e.node)}));return new t(i,this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Mt(this.indexes_,(function(t){if(t===Tr)return t;var r=n.get(e.name);return r?t.remove(new er(e.name,r)):t})),this.indexSet_)},t}(),kr=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&vr(this.priorityNode_),this.children_.isEmpty()&&vt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return yr||(yr=new t(new ur(lr),null,Er.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||yr},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?yr:e},t.prototype.getChild=function(t){var e=Ln(t);return null===e?this:this.getImmediateChild(e).getChild(Fn(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(vt(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new er(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?yr:this.priorityNode_;return new t(i,a,o)},t.prototype.updateChild=function(t,e){var n=Ln(t);if(null===n)return e;vt(".priority"!==Ln(t)||1===Mn(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Fn(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(br,(function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+pr(this.getPriority().val())+":"),this.forEachChild(br,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":De(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new er(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new er(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new er(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,er.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,er.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Sr?-1:0},t.prototype.withIndex=function(e){if(e===ir||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===ir||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(br),r=e.getIterator(br),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===ir?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Sr=new(function(t){function e(){return t.call(this,new ur(lr),kr.EMPTY_NODE,Er.Default)||this}return at(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return kr.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(kr));Object.defineProperties(er,{MIN:{value:new er(He,kr.EMPTY_NODE)},MAX:{value:new er(ze,Sr)}}),rr.__EMPTY_NODE=kr.EMPTY_NODE,mr.__childrenNodeConstructor=kr,Qn=Sr,function(t){dr=t}(Sr);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Nr=!0;function Ar(t,e){if(void 0===e&&(e=null),null===t)return kr.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),vt(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new mr(t,Ar(e));if(t instanceof Array||!Nr){var n=kr.EMPTY_NODE;return Je(t,(function(e,r){if(Ot(t,e)&&"."!==e.substring(0,1)){var i=Ar(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Ar(e))}var r=[],i=!1;if(Je(t,(function(t,e){if("."!==t.substring(0,1)){var n=Ar(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new er(t,n)))}})),0===r.length)return kr.EMPTY_NODE;var o=Cr(r,cr,(function(t){return t.name}),lr);if(i){var a=Cr(r,br.getCompare());return new kr(o,Ar(e),new Er({".priority":a},{".priority":br}))}return new kr(o,Ar(e),Er.Default)}!function(t){fr=t}(Ar);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var xr,Pr,Rr=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,vt(!Vn(e)&&".priority"!==Ln(e),"Can't create PathIndex with empty path or .priority key"),n}return at(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?Ke(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Ar(t),r=kr.EMPTY_NODE.updateChild(this.indexPath_,n);return new er(e,r)},e.prototype.maxPost=function(){var t=kr.EMPTY_NODE.updateChild(this.indexPath_,Sr);return new er(ze,t)},e.prototype.toString=function(){return jn(this.indexPath_,0).join("/")},e}(nr),Or=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return at(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?Ke(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return er.MIN},e.prototype.maxPost=function(){return er.MAX},e.prototype.makePost=function(t,e){var n=Ar(t);return new er(e,n)},e.prototype.toString=function(){return".value"},e}(nr),Dr=new Or,Lr="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Mr=(xr=0,Pr=[],function(t){var e,n=t===xr;xr=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=Lr.charAt(t%64),t=Math.floor(t/64);vt(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===Pr[e];e--)Pr[e]=0;Pr[e]++}else for(e=0;e<12;e++)Pr[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=Lr.charAt(Pr[e]);return vt(20===i.length,"nextPushId: Length should be 20."),i}),Fr=function(t){if(t===""+nn)return"-";var e=rn(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return ze;var o=n[i],a=Lr.charAt(Lr.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},$r=function(t){if(t===""+en)return He;var e=rn(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?""+nn:(delete n[n.length-1],n.join("")):(n[n.length-1]=Lr.charAt(Lr.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function jr(t){return{type:"value",snapshotNode:t}}function qr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ur(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Vr(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Wr=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){vt(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(Ur(e,a)):vt(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(qr(e,n)):o.trackChildChange(Vr(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(br,(function(t,r){e.hasChild(t)||n.trackChildChange(Ur(t,r))})),e.isLeafNode()||e.forEachChild(br,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(Vr(e,r,i))}else n.trackChildChange(qr(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?kr.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Br=function(){function t(e){this.indexedFilter_=new Wr(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new er(e,n))||(n=kr.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=kr.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(kr.EMPTY_NODE);var i=this;return e.forEachChild(br,(function(t,e){i.matches(new er(t,e))||(r=r.updateImmediateChild(t,kr.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),Hr=function(){function t(t){this.rangedFilter_=new Br(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new er(e,n))||(n=kr.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=kr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=kr.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(kr.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,kr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(t,e){return a(e,t)}}else o=this.index_.getCompare();var s=t;vt(s.numChildren()===this.limit_,"");var u=new er(e,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(e)){for(var h=s.getImmediateChild(e),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===e||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var d=null==f?1:o(f,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Vr(e,n,h)),s.updateImmediateChild(e,n);null!=i&&i.trackChildChange(Ur(e,h));var p=s.updateImmediateChild(e,kr.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(qr(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}return n.isEmpty()?t:l&&o(c,u)>=0?(null!=i&&(i.trackChildChange(Ur(c.name,c.node)),i.trackChildChange(qr(e,n))),s.updateImmediateChild(e,n).updateImmediateChild(c.name,kr.EMPTY_NODE)):t},t}(),zr=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=br}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return vt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return vt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:He},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return vt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return vt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ze},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return vt(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===br},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Kr(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Gr(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Yr(t,e){var n=t.copy();return n.index_=e,n}function Xr(t){var e,n={};return t.isDefault()||(t.index_===br?e="$priority":t.index_===Dr?e="$value":t.index_===ir?e="$key":(vt(t.index_ instanceof Rr,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Pt(e),t.startSet_&&(n.startAt=Pt(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Pt(t.indexStartName_))),t.endSet_&&(n.endAt=Pt(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Pt(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function Qr(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==br&&(e.i=t.index_.toString()),e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Jr=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=qe("p:rest:"),o.listens_={},o}return at(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(vt(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);var s=e.getListenId_(t,r),u={};this.listens_[s]=u;var c=Xr(t._queryParams);this.restRequest_(a+".json",c,(function(t,e){var n=e;(404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(a,n,!1,r),Dt(o.listens_,s)===u)&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=Xr(t._queryParams),r=t._path.toString(),i=new Tt;return this.restRequest_(r+".json",n,(function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var o=ht(i,2),a=o[0],s=o[1];a&&a.accessToken&&(e.auth=a.accessToken),s&&s.token&&(e.ac=s.token);var u=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}(e);r.log_("Sending REST request for "+u);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(n&&4===c.readyState){r.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);var t=null;if(c.status>=200&&c.status<300){try{t=xt(c.responseText)}catch(t){We("Failed to parse JSON response for "+u+": "+c.responseText)}n(null,t)}else 401!==c.status&&404!==c.status&&We("Got unsuccessful REST response for "+u+" Status: "+c.status),n(c.status);n=null}},c.open("GET",u,!0),c.send()}))},e}(Nn),Zr=function(){function t(){this.rootNode_=kr.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function ti(){return{value:null,children:new Map}}function ei(t,e,n){if(Vn(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=Ln(e);t.children.has(r)||t.children.set(r,ti()),ei(t.children.get(r),e=Fn(e),n)}}function ni(t,e){if(Vn(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(br,(function(e,n){ei(t,new On(e),n)})),ni(t,e)}if(t.children.size>0){var r=Ln(e);if(e=Fn(e),t.children.has(r))ni(t.children.get(r),e)&&t.children.delete(r);return 0===t.children.size}return!0}function ri(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach((function(t,n){e(n,t)}))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t,(function(t,r){ri(r,new On(e.toString()+"/"+t),n)}))}var ii,oi=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=st({},t);return this.last_&&Je(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),ai=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new oi(t);var n=1e4+2e4*Math.random();an(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;Je(e,(function(e,i){i>0&&Ot(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),an(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function si(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ii||(ii={}));var ui,ci=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ii.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(Vn(this.path)){if(null!=this.affectedTree.value)return vt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new On(e));return new t(Dn(),n,this.revert)}return vt(Ln(this.path)===e,"operationForChild called for unrelated child."),new t(Fn(this.path),this.affectedTree,this.revert)},t}(),li=function(){function t(t,e){this.source=t,this.path=e,this.type=ii.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return Vn(this.path)?new t(this.source,Dn()):new t(this.source,Fn(this.path))},t}(),hi=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ii.OVERWRITE}return t.prototype.operationForChild=function(e){return Vn(this.path)?new t(this.source,Dn(),this.snap.getImmediateChild(e)):new t(this.source,Fn(this.path),this.snap)},t}(),fi=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ii.MERGE}return t.prototype.operationForChild=function(e){if(Vn(this.path)){var n=this.children.subtree(new On(e));return n.isEmpty()?null:n.value?new hi(this.source,Dn(),n.value):new t(this.source,Dn(),n)}return vt(Ln(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,Fn(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),di=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(Vn(t))return this.isFullyInitialized()&&!this.filtered_;var e=Ln(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),pi=function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function vi(t,e,n,r,i,o){var a=r.filter((function(t){return t.type===n}));a.sort((function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw mt("Should only compare child_ events.");var r=new er(e.childName,e.snapshotNode),i=new er(n.childName,n.snapshotNode);return t.index_.compare(r,i)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t,e,n)})),a.forEach((function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,o);i.forEach((function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))}))}))}function mi(t,e){return{eventCache:t,serverCache:e}}function gi(t,e,n,r){return mi(new di(e,n,r),t.serverCache)}function yi(t,e,n,r){return mi(t.eventCache,new di(e,n,r))}function _i(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function bi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var wi=function(){function t(t,e){void 0===e&&(ui||(ui=new ur(Ge)),e=ui),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return Je(e,(function(t,e){n=n.set(new On(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:Dn(),value:this.value};if(Vn(t))return null;var n=Ln(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Fn(t),e);return null!=i?{path:Un(new On(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(Vn(e))return this;var n=Ln(e),r=this.children.get(n);return null!==r?r.subtree(Fn(e)):new t(null)},t.prototype.set=function(e,n){if(Vn(e))return new t(n,this.children);var r=Ln(e),i=(this.children.get(r)||new t(null)).set(Fn(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(Vn(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=Ln(e),r=this.children.get(n);if(r){var i=r.remove(Fn(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(Vn(t))return this.value;var e=Ln(t),n=this.children.get(e);return n?n.get(Fn(t)):null},t.prototype.setTree=function(e,n){if(Vn(e))return n;var r=Ln(e),i=(this.children.get(r)||new t(null)).setTree(Fn(e),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(Dn(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Un(t,r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,Dn(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(Vn(t))return null;var i=Ln(t),o=this.children.get(i);return o?o.findOnPath_(Fn(t),Un(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,Dn(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(Vn(e))return this;this.value&&r(n,this.value);var i=Ln(e),o=this.children.get(i);return o?o.foreachOnPath_(Fn(e),Un(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(Dn(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(Un(t,n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t}(),Ii=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new wi(null))},t}();function Ci(t,e,n){if(Vn(e))return new Ii(new wi(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=Wn(i,e);return o=o.updateChild(a,n),new Ii(t.writeTree_.set(i,o))}var s=new wi(n),u=t.writeTree_.setTree(e,s);return new Ii(u)}function Ti(t,e,n){var r=t;return Je(n,(function(t,n){r=Ci(r,Un(e,t),n)})),r}function Ei(t,e){if(Vn(e))return Ii.empty();var n=t.writeTree_.setTree(e,new wi(null));return new Ii(n)}function ki(t,e){return null!=Si(t,e)}function Si(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Wn(n.path,e)):null}function Ni(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(br,(function(t,n){e.push(new er(t,n))})):t.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new er(t,n.value))})),e}function Ai(t,e){if(Vn(e))return t;var n=Si(t,e);return new Ii(null!=n?new wi(n):t.writeTree_.subtree(e))}function xi(t){return t.writeTree_.isEmpty()}function Pi(t,e){return Ri(Dn(),t.writeTree_,e)}function Ri(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal((function(e,i){".priority"===e?(vt(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Ri(Un(t,e),i,n)})),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(Un(t,".priority"),r)),n}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Oi(t,e){return zi(e,t)}function Di(t,e){var n=t.allWrites.findIndex((function(t){return t.writeId===e}));vt(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=t.allWrites.length-1;i&&a>=0;){var s=t.allWrites[a];s.visible&&(a>=n&&Li(s,r.path)?i=!1:zn(r.path,s.path)&&(o=!0)),a--}if(i){if(o)return function(t){t.visibleWrites=Fi(t.allWrites,Mi,Dn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}(t),!0;r.snap?t.visibleWrites=Ei(t.visibleWrites,r.path):Je(r.children,(function(e){t.visibleWrites=Ei(t.visibleWrites,Un(r.path,e))}));return!0}return!1}function Li(t,e){if(t.snap)return zn(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&zn(Un(t.path,n),e))return!0;return!1}function Mi(t){return t.visible}function Fi(t,e,n){for(var r=Ii.empty(),i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,s=void 0;if(o.snap)zn(n,a)?r=Ci(r,s=Wn(n,a),o.snap):zn(a,n)&&(s=Wn(a,n),r=Ci(r,Dn(),o.snap.getChild(s)));else{if(!o.children)throw mt("WriteRecord should have .snap or .children");if(zn(n,a))r=Ti(r,s=Wn(n,a),o.children);else if(zn(a,n))if(Vn(s=Wn(a,n)))r=Ti(r,Dn(),o.children);else{var u=Dt(o.children,Ln(s));if(u){var c=u.getChild(Fn(s));r=Ci(r,Dn(),c)}}}}}return r}function $i(t,e,n,r,i){if(r||i){var o=Ai(t.visibleWrites,e);if(!i&&xi(o))return n;if(i||null!=n||ki(o,Dn())){return Pi(Fi(t.allWrites,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(zn(t.path,e)||zn(e,t.path))}),e),n||kr.EMPTY_NODE)}return null}var a=Si(t.visibleWrites,e);if(null!=a)return a;var s=Ai(t.visibleWrites,e);return xi(s)?n:null!=n||ki(s,Dn())?Pi(s,n||kr.EMPTY_NODE):null}function ji(t,e,n,r){return $i(t.writeTree,t.treePath,e,n,r)}function qi(t,e){return function(t,e,n){var r=kr.EMPTY_NODE,i=Si(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(br,(function(t,e){r=r.updateImmediateChild(t,e)})),r;if(n){var o=Ai(t.visibleWrites,e);return n.forEachChild(br,(function(t,e){var n=Pi(Ai(o,new On(t)),e);r=r.updateImmediateChild(t,n)})),Ni(o).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}return Ni(Ai(t.visibleWrites,e)).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}(t.writeTree,t.treePath,e)}function Ui(t,e,n,r){return function(t,e,n,r,i){vt(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=Un(e,n);if(ki(t.visibleWrites,o))return null;var a=Ai(t.visibleWrites,o);return xi(a)?i.getChild(n):Pi(a,i.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function Vi(t,e){return function(t,e){return Si(t.visibleWrites,e)}(t.writeTree,Un(t.treePath,e))}function Wi(t,e,n,r,i,o){return function(t,e,n,r,i,o,a){var s,u=Ai(t.visibleWrites,e),c=Si(u,Dn());if(null!=c)s=c;else{if(null==n)return[];s=Pi(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(t.writeTree,t.treePath,e,n,r,i,o)}function Bi(t,e,n){return function(t,e,n,r){var i=Un(e,n),o=Si(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Pi(Ai(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function Hi(t,e){return zi(Un(t.treePath,e),t.writeTree)}function zi(t,e){return{treePath:t,writeTree:e}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ki=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;vt("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),vt(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,Vr(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,Ur(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,qr(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw mt("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,Vr(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Gi=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Yi=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new di(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Bi(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:bi(this.viewCache_),i=Wi(this.writes_,r,e,1,n,t);return 0===i.length?null:i[0]},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Xi(t,e,n,r,i){var o,a,s=new Ki;if(n.type===ii.OVERWRITE){var u=n;u.source.fromUser?o=Zi(t,e,u.path,u.snap,r,i,s):(vt(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Vn(u.path),o=Ji(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===ii.MERGE){var c=n;c.source.fromUser?o=function(t,e,n,r,i,o,a){var s=e;return r.foreach((function(r,u){var c=Un(n,r);to(e,Ln(c))&&(s=Zi(t,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=Un(n,r);to(e,Ln(c))||(s=Zi(t,s,c,u,i,o,a))})),s}(t,e,c.path,c.children,r,i,s):(vt(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=no(t,e,c.path,c.children,r,i,a,s))}else if(n.type===ii.ACK_USER_WRITE){var l=n;o=l.revert?function(t,e,n,r,i,o){var a;if(null!=Vi(r,n))return e;var s=new Yi(r,e,i),u=e.eventCache.getNode(),c=void 0;if(Vn(n)||".priority"===Ln(n)){var l=void 0;if(e.serverCache.isFullyInitialized())l=ji(r,bi(e));else{var h=e.serverCache.getNode();vt(h instanceof kr,"serverChildren would be complete if leaf node"),l=qi(r,h)}c=t.filter.updateFullNode(u,l,o)}else{var f=Ln(n),d=Bi(r,f,e.serverCache);null==d&&e.serverCache.isCompleteForChild(f)&&(d=u.getImmediateChild(f)),(c=null!=d?t.filter.updateChild(u,f,d,Fn(n),s,o):e.eventCache.getNode().hasChild(f)?t.filter.updateChild(u,f,kr.EMPTY_NODE,Fn(n),s,o):u).isEmpty()&&e.serverCache.isFullyInitialized()&&(a=ji(r,bi(e))).isLeafNode()&&(c=t.filter.updateFullNode(c,a,o))}return a=e.serverCache.isFullyInitialized()||null!=Vi(r,Dn()),gi(e,c,a,t.filter.filtersNodes())}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t,e,l.path,r,i,s):function(t,e,n,r,i,o,a){if(null!=Vi(i,n))return e;var s=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(Vn(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Ji(t,e,n,u.getNode().getChild(n),i,o,s,a);if(Vn(n)){var c=new wi(null);return u.getNode().forEachChild(ir,(function(t,e){c=c.set(new On(t),e)})),no(t,e,n,c,i,o,s,a)}return e}var l=new wi(null);return r.foreach((function(t,e){var r=Un(n,t);u.isCompleteForPath(r)&&(l=l.set(t,u.getNode().getChild(r)))})),no(t,e,n,l,i,o,s,a)}(t,e,l.path,l.affectedTree,r,i,s)}else{if(n.type!==ii.LISTEN_COMPLETE)throw mt("Unknown operation type: "+n.type);o=function(t,e,n,r,i){var o=e.serverCache,a=yi(e,o.getNode(),o.isFullyInitialized()||Vn(n),o.isFiltered());return Qi(t,a,n,r,Gi,i)}(t,e,n.path,r,s)}var h=s.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=_i(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(jr(_i(e)))}}(e,o,h),{viewCache:o,changes:h}}function Qi(t,e,n,r,i,o){var a=e.eventCache;if(null!=Vi(r,n))return e;var s=void 0,u=void 0;if(Vn(n))if(vt(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var c=bi(e),l=qi(r,c instanceof kr?c:kr.EMPTY_NODE);s=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{var h=ji(r,bi(e));s=t.filter.updateFullNode(e.eventCache.getNode(),h,o)}else{var f=Ln(n);if(".priority"===f){vt(1===Mn(n),"Can't have a priority with additional path components");var d=a.getNode(),p=Ui(r,n,d,u=e.serverCache.getNode());s=null!=p?t.filter.updatePriority(d,p):a.getNode()}else{var v=Fn(n),m=void 0;if(a.isCompleteForChild(f)){u=e.serverCache.getNode();var g=Ui(r,n,a.getNode(),u);m=null!=g?a.getNode().getImmediateChild(f).updateChild(v,g):a.getNode().getImmediateChild(f)}else m=Bi(r,f,e.serverCache);s=null!=m?t.filter.updateChild(a.getNode(),f,m,v,i,o):a.getNode()}}return gi(e,s,a.isFullyInitialized()||Vn(n),t.filter.filtersNodes())}function Ji(t,e,n,r,i,o,a,s){var u,c=e.serverCache,l=a?t.filter:t.filter.getIndexedFilter();if(Vn(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=Ln(n);if(!c.isCompleteForPath(n)&&Mn(n)>1)return e;var d=Fn(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,Gi,null)}var v=yi(e,u,c.isFullyInitialized()||Vn(n),l.filtersNodes());return Qi(t,v,n,i,new Yi(i,v,o),s)}function Zi(t,e,n,r,i,o,a){var s,u,c=e.eventCache,l=new Yi(i,e,o);if(Vn(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,a),s=gi(e,u,!0,t.filter.filtersNodes());else{var h=Ln(n);if(".priority"===h)u=t.filter.updatePriority(e.eventCache.getNode(),r),s=gi(e,u,c.isFullyInitialized(),c.isFiltered());else{var f=Fn(n),d=c.getNode().getImmediateChild(h),p=void 0;if(Vn(f))p=r;else{var v=l.getCompleteChild(h);p=null!=v?".priority"===$n(f)&&v.getChild(qn(f)).isEmpty()?v:v.updateChild(f,r):kr.EMPTY_NODE}if(d.equals(p))s=e;else s=gi(e,t.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),t.filter.filtersNodes())}}return s}function to(t,e){return t.eventCache.isCompleteForChild(e)}function eo(t,e,n){return n.foreach((function(t,n){e=e.updateChild(t,n)})),e}function no(t,e,n,r,i,o,a,s){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u,c=e;u=Vn(n)?r:new wi(null).setTree(n,r);var l=e.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=eo(0,e.serverCache.getNode().getImmediateChild(n),r);c=Ji(t,c,new On(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=eo(0,e.serverCache.getNode().getImmediateChild(n),r);c=Ji(t,c,new On(n),h,i,o,a,s)}})),c}var ro,io=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new Wr(r.getIndex()),o=(n=r).loadsAllData()?new Wr(n.getIndex()):n.hasLimit()?new Hr(n):new Br(n);this.processor_=
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t){return{filter:t}}(o);var a=e.serverCache,s=e.eventCache,u=i.updateFullNode(kr.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(kr.EMPTY_NODE,s.getNode(),null),l=new di(u,a.isFullyInitialized(),i.filtersNodes()),h=new di(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=mi(h,l),this.eventGenerator_=new pi(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function oo(t,e){var n=bi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Vn(e)&&!n.getImmediateChild(Ln(e)).isEmpty())?n.getChild(e):null}function ao(t){return 0===t.eventRegistrations_.length}function so(t,e,n){var r=[];if(n){vt(null==e,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach((function(t){var e=t.createCancelEvent(n,i);e&&r.push(e)}))}if(e){for(var o=[],a=0;a<t.eventRegistrations_.length;++a){var s=t.eventRegistrations_[a];if(s.matches(e)){if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(a+1));break}}else o.push(s)}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function uo(t,e,n,r){e.type===ii.MERGE&&null!==e.source.queryId&&(vt(bi(t.viewCache_),"We should always have a full cache before handling merges"),vt(_i(t.viewCache_),"Missing event cache, even though we have a server cache"));var i,o,a=t.viewCache_,s=Xi(t.processor_,a,e,n,r);return i=t.processor_,o=s.viewCache,vt(o.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),vt(o.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),vt(s.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,co(t,s.changes,s.viewCache.eventCache.getNode(),null)}function co(t,e,n,r){var i=r?[r]:t.eventRegistrations_;return function(t,e,n,r){var i=[],o=[];return e.forEach((function(e){var n;"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push((n=e.childName,{type:"child_moved",snapshotNode:e.snapshotNode,childName:n}))})),vi(t,i,"child_removed",e,r,n),vi(t,i,"child_added",e,r,n),vi(t,i,"child_moved",o,r,n),vi(t,i,"child_changed",e,r,n),vi(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,i)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var lo,ho=function(){this.views=new Map};function fo(t,e,n,r){var i,o,a=e.source.queryId;if(null!==a){var s=t.views.get(a);return vt(null!=s,"SyncTree gave us an op for an invalid query."),uo(s,e,n,r)}var u=[];try{for(var c=lt(t.views.values()),l=c.next();!l.done;l=c.next()){s=l.value;u=u.concat(uo(s,e,n,r))}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return u}function po(t,e,n,r,i){var o=e._queryIdentifier,a=t.views.get(o);if(!a){var s=ji(n,i?r:null),u=!1;s?u=!0:r instanceof kr?(s=qi(n,r),u=!1):(s=kr.EMPTY_NODE,u=!1);var c=mi(new di(s,u,!1),new di(r,i,!1));return new io(e,c)}return a}function vo(t,e,n,r,i,o){var a=po(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),function(t,e){t.eventRegistrations_.push(e)}(a,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(br,(function(t,e){r.push(qr(t,e))})),n.isFullyInitialized()&&r.push(jr(n.getNode())),co(t,r,n.getNode(),e)}(a,n)}function mo(t,e,n,r){var i,o,a=e._queryIdentifier,s=[],u=[],c=wo(t);if("default"===a)try{for(var l=lt(t.views.entries()),h=l.next();!h.done;h=l.next()){var f=ht(h.value,2),d=f[0],p=f[1];u=u.concat(so(p,n,r)),ao(p)&&(t.views.delete(d),p.query._queryParams.loadsAllData()||s.push(p.query))}}catch(t){i={error:t}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}else(p=t.views.get(a))&&(u=u.concat(so(p,n,r)),ao(p)&&(t.views.delete(a),p.query._queryParams.loadsAllData()||s.push(p.query)));return c&&!wo(t)&&s.push(new(vt(ro,"Reference.ts has not been loaded"),ro)(e._repo,e._path)),{removed:s,events:u}}function go(t){var e,n,r=[];try{for(var i=lt(t.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function yo(t,e){var n,r,i=null;try{for(var o=lt(t.views.values()),a=o.next();!a.done;a=o.next()){var s=a.value;i=i||oo(s,e)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function _o(t,e){if(e._queryParams.loadsAllData())return Io(t);var n=e._queryIdentifier;return t.views.get(n)}function bo(t,e){return null!=_o(t,e)}function wo(t){return null!=Io(t)}function Io(t){var e,n;try{for(var r=lt(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Co=1,To=function(t){this.listenProvider_=t,this.syncPointTree_=new wi(null),this.pendingWriteTree_={visibleWrites:Ii.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Eo(t,e,n,r,i){return function(t,e,n,r,i){vt(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ci(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Oo(t,new hi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function ko(t,e,n,r){!function(t,e,n,r){vt(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Ti(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var i=wi.fromObject(n);return Oo(t,new fi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}function So(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(Di(t.pendingWriteTree_,e)){var i=new wi(null);return null!=r.snap?i=i.set(Dn(),!0):Je(r.children,(function(t){i=i.set(new On(t),!0)})),Oo(t,new ci(r.path,i,n))}return[]}function No(t,e,n){return Oo(t,new hi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Ao(t,e,n,r){var i=e._path,o=t.syncPointTree_.get(i),a=[];if(o&&("default"===e._queryIdentifier||bo(o,e))){var s=mo(o,e,n,r);0===o.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(t){return t._queryParams.loadsAllData()})),l=t.syncPointTree_.findOnPath(i,(function(t,e){return wo(e)}));if(c&&!l){var h=t.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=function(t){return t.fold((function(t,e,n){if(e&&wo(e))return[Io(e)];var r=[];return e&&(r=go(e)),Je(n,(function(t,e){r=r.concat(e)})),r}))}(h),d=0;d<f.length;++d){var p=f[d],v=p.query,m=Mo(t,p);t.listenProvider_.startListening(Vo(v),Fo(t,v),m.hashFn,m.onComplete)}}if(!l&&u.length>0&&!r)if(c){t.listenProvider_.stopListening(Vo(e),null)}else u.forEach((function(e){var n=t.queryToTagMap.get($o(e));t.listenProvider_.stopListening(Vo(e),n)}));!function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=$o(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,u)}return a}function xo(t,e,n){var r=e._path,i=null,o=!1;t.syncPointTree_.foreachOnPath(r,(function(t,e){var n=Wn(t,r);i=i||yo(e,n),o=o||wo(e)}));var a,s=t.syncPointTree_.get(r);(s?(o=o||wo(s),i=i||yo(s,Dn())):(s=new ho,t.syncPointTree_=t.syncPointTree_.set(r,s)),null!=i)?a=!0:(a=!1,i=kr.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=yo(e,Dn());n&&(i=i.updateImmediateChild(t,n))})));var u=bo(s,e);if(!u&&!e._queryParams.loadsAllData()){var c=$o(e);vt(!t.queryToTagMap.has(c),"View does not exist, but we have a tag");var l=Co++;t.queryToTagMap.set(c,l),t.tagToQueryMap.set(l,c)}var h=vo(s,e,n,Oi(t.pendingWriteTree_,r),i,a);if(!u&&!o){var f=_o(s,e);h=h.concat(function(t,e,n){var r=e._path,i=Fo(t,e),o=Mo(t,n),a=t.listenProvider_.startListening(Vo(e),i,o.hashFn,o.onComplete),s=t.syncPointTree_.subtree(r);if(i)vt(!wo(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(t,e,n){if(!Vn(t)&&e&&wo(e))return[Io(e).query];var r=[];return e&&(r=r.concat(go(e).map((function(t){return t.query})))),Je(n,(function(t,e){r=r.concat(e)})),r})),c=0;c<u.length;++c){var l=u[c];t.listenProvider_.stopListening(Vo(l),Fo(t,l))}return a}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t,e,f))}return h}function Po(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(function(t,n){var r=yo(n,Wn(t,e));if(r)return r}));return $i(r,e,i,n,!0)}function Ro(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(function(t,e){var i=Wn(t,n);r=r||yo(e,i)}));var i=t.syncPointTree_.get(n);i?r=r||yo(i,Dn()):(i=new ho,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,a=o?new di(r,!0,!1):null;return function(t){return _i(t.viewCache_)}(po(i,e,Oi(t.pendingWriteTree_,e._path),o?a.getNode():kr.EMPTY_NODE,o))}function Oo(t,e){return Do(e,t.syncPointTree_,null,Oi(t.pendingWriteTree_,Dn()))}function Do(t,e,n,r){if(Vn(t.path))return Lo(t,e,n,r);var i=e.get(Dn());null==n&&null!=i&&(n=yo(i,Dn()));var o=[],a=Ln(t.path),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=Hi(r,a);o=o.concat(Do(s,u,c,l))}return i&&(o=o.concat(fo(i,t,r,n))),o}function Lo(t,e,n,r){var i=e.get(Dn());null==n&&null!=i&&(n=yo(i,Dn()));var o=[];return e.children.inorderTraversal((function(e,i){var a=n?n.getImmediateChild(e):null,s=Hi(r,e),u=t.operationForChild(e);u&&(o=o.concat(Lo(u,i,a,s)))})),i&&(o=o.concat(fo(i,t,r,n))),o}function Mo(t,e){var n=e.query,r=Fo(t,n);return{hashFn:function(){var t=function(t){return t.viewCache_.serverCache.getNode()}(e)||kr.EMPTY_NODE;return t.hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=jo(t,n);if(r){var i=qo(r),o=i.path,a=i.queryId,s=Wn(o,e);return Uo(t,o,new li(si(a),s))}return[]}(t,n._path,r):function(t,e){return Oo(t,new li({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return Ao(t,n,null,i)}}}function Fo(t,e){var n=$o(e);return t.queryToTagMap.get(n)}function $o(t){return t._path.toString()+"$"+t._queryIdentifier}function jo(t,e){return t.tagToQueryMap.get(e)}function qo(t){var e=t.indexOf("$");return vt(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new On(t.substr(0,e))}}function Uo(t,e,n){var r=t.syncPointTree_.get(e);return vt(r,"Missing sync point for query tag that we're tracking"),fo(r,n,Oi(t.pendingWriteTree_,e),null)}function Vo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(vt(lo,"Reference.ts has not been loaded"),lo)(t._repo,t._path):t}var Wo=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),Bo=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=Un(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return Po(this.syncTree_,this.path_)},t}(),Ho=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},zo=function(t,e,n){return t&&"object"==typeof t?(vt(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Ko(t[".sv"],e,n):"object"==typeof t[".sv"]?Go(t[".sv"],e):void vt(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Ko=function(t,e,n){if("timestamp"===t)return n.timestamp;vt(!1,"Unexpected server value: "+t)},Go=function(t,e,n){t.hasOwnProperty("increment")||vt(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&vt(!1,"Unexpected increment value: "+r);var i=e.node();if(vt(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},Yo=function(t,e,n,r){return Qo(e,new Bo(n,t),r)},Xo=function(t,e,n){return Qo(t,new Wo(e),n)};function Qo(t,e,n){var r,i=t.getPriority().val(),o=zo(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=zo(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new mr(s,Ar(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new mr(o))),u.forEachChild(br,(function(t,i){var o=Qo(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Jo=function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n};function Zo(t,e){for(var n=e instanceof On?e:new On(e),r=t,i=Ln(n);null!==i;){var o=Dt(r.node.children,i)||{children:{},childCount:0};r=new Jo(i,r,o),i=Ln(n=Fn(n))}return r}function ta(t){return t.node.value}function ea(t,e){t.node.value=e,aa(t)}function na(t){return t.node.childCount>0}function ra(t,e){Je(t.node.children,(function(n,r){e(new Jo(n,t,r))}))}function ia(t,e,n,r){n&&!r&&e(t),ra(t,(function(t){ia(t,e,!0,r)})),n&&r&&e(t)}function oa(t){return new On(null===t.parent?t.name:oa(t.parent)+"/"+t.name)}function aa(t){null!==t.parent&&function(t,e,n){var r=function(t){return void 0===ta(t)&&!na(t)}(n),i=Ot(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,aa(t)):r||i||(t.node.children[e]=n.node,t.node.childCount++,aa(t))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t.parent,t.name,t)}var sa=/[\[\].#$\/\u0000-\u001F\u007F]/,ua=/[\[\].#$\u0000-\u001F\u007F]/,ca=10485760,la=function(t){return"string"==typeof t&&0!==t.length&&!sa.test(t)},ha=function(t){return"string"==typeof t&&0!==t.length&&!ua.test(t)},fa=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!Be(t)||t&&"object"==typeof t&&Ot(t,".sv")},da=function(t,e,n,r){r&&void 0===e||pa(Vt(t,"value"),e,n)},pa=function(t,e,n){var r=n instanceof On?new Kn(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Yn(r));if("function"==typeof e)throw new Error(t+"contains a function "+Yn(r)+" with contents = "+e.toString());if(Be(e))throw new Error(t+"contains "+e.toString()+" "+Yn(r));if("string"==typeof e&&e.length>ca/3&&Ht(e)>ca)throw new Error(t+"contains a string greater than "+ca+" utf8 bytes "+Yn(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,o=!1;if(Je(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!la(e)))throw new Error(t+" contains an invalid key ("+e+") "+Yn(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,s;!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ht(e),Gn(t)}(r,e),pa(t,n,r),s=(a=r).parts_.pop(),a.byteLength_-=Ht(s),a.parts_.length>0&&(a.byteLength_-=1)})),i&&o)throw new Error(t+' contains ".value" child '+Yn(r)+" in addition to actual children.")}},va=function(t,e,n,r){if(!r||void 0!==e){var i=Vt(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var o=[];Je(e,(function(t,e){var r=new On(t);if(pa(i,e,Un(n,r)),".priority"===$n(r)&&!fa(e))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=jn(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!la(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Bn);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&zn(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,o)}},ma=function(t,e,n){if(!n||void 0!==e){if(Be(e))throw new Error(Vt(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!fa(e))throw new Error(Vt(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ga=function(t,e,n,r){if(!(r&&void 0===n||la(n)))throw new Error(Vt(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ya=function(t,e,n,r){if(!(r&&void 0===n||ha(n)))throw new Error(Vt(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},_a=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ya(t,e,n,r)},ba=function(t,e){if(".info"===Ln(e))throw new Error(t+" failed = Can't modify data under /.info/")},wa=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!la(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ha(t)}(n))throw new Error(Vt(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Ia=function(){this.eventLists_=[],this.recursionDepth_=0};function Ca(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||Hn(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Ta(t,e,n){Ca(t,n),ka(t,(function(t){return Hn(t,e)}))}function Ea(t,e,n){Ca(t,n),ka(t,(function(t){return zn(t,e)||zn(e,t)}))}function ka(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];if(i)e(i.path)?(Sa(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}n&&(t.eventLists_=[]),t.recursionDepth_--}function Sa(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();Me&&je("event: "+n.toString()),on(r)}}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Na="repo_interrupt",Aa=25,xa=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ia,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ti(),this.transactionQueueTree_=new Jo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Pa(t,e,n){if(t.stats_=_n(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Jr(t.repoInfo_,(function(e,n,r,i){Da(t,e,n,r,i)}),t.authTokenProvider_,t.appCheckProvider_),setTimeout((function(){return La(t,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Pt(n)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}t.persistentConnection_=new tr(t.repoInfo_,e,(function(e,n,r,i){Da(t,e,n,r,i)}),(function(e){La(t,e)}),(function(e){!function(t,e){Je(e,(function(e,n){Ma(t,e,n)}))}(t,e)}),t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}var r,i,o;t.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),t.appCheckProvider_.addTokenChangeListener((function(e){t.server_.refreshAppCheckToken(e.token)})),t.statsReporter_=(r=t.repoInfo_,i=function(){return new ai(t.stats_,t.server_)},o=r.toString(),yn[o]||(yn[o]=i()),yn[o]),t.infoData_=new Zr,t.infoSyncTree_=new To({startListening:function(e,n,r,i){var o=[],a=t.infoData_.getNode(e._path);return a.isEmpty()||(o=No(t.infoSyncTree_,e._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),Ma(t,"connected",!1),t.serverSyncTree_=new To({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);Ea(t.eventQueue_,e._path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}function Ra(t){var e=t.infoData_.getNode(new On(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Oa(t){return Ho({timestamp:Ra(t)})}function Da(t,e,n,r,i){t.dataUpdateCount++;var o=new On(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var s=Mt(n,(function(t){return Ar(t)}));a=function(t,e,n,r){var i=jo(t,r);if(i){var o=qo(i),a=o.path,s=o.queryId,u=Wn(a,e),c=wi.fromObject(n);return Uo(t,a,new fi(si(s),u,c))}return[]}(t.serverSyncTree_,o,s,i)}else{var u=Ar(n);a=function(t,e,n,r){var i=jo(t,r);if(null!=i){var o=qo(i),a=o.path,s=o.queryId,u=Wn(a,e);return Uo(t,a,new hi(si(s),u,n))}return[]}(t.serverSyncTree_,o,u,i)}else if(r){var c=Mt(n,(function(t){return Ar(t)}));a=function(t,e,n){var r=wi.fromObject(n);return Oo(t,new fi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,o,c)}else{var l=Ar(n);a=No(t.serverSyncTree_,o,l)}var h=o;a.length>0&&(h=Ka(t,o)),Ea(t.eventQueue_,h,a)}function La(t,e){Ma(t,"connected",e),!1===e&&function(t){Wa(t,"onDisconnectEvents");var e=Oa(t),n=ti();ri(t.onDisconnect_,Dn(),(function(r,i){var o=Yo(r,i,t.serverSyncTree_,e);ei(n,r,o)}));var r=[];ri(n,Dn(),(function(e,n){r=r.concat(No(t.serverSyncTree_,e,n));var i=Ja(t,e);Ka(t,i)})),t.onDisconnect_=ti(),Ea(t.eventQueue_,Dn(),r)}(t)}function Ma(t,e,n){var r=new On("/.info/"+e),i=Ar(n);t.infoData_.updateSnapshot(r,i);var o=No(t.infoSyncTree_,r,i);Ea(t.eventQueue_,r,o)}function Fa(t){return t.nextWriteId_++}function $a(t,e,n,r,i){Wa(t,"set",{path:e.toString(),value:n,priority:r});var o=Oa(t),a=Ar(n,r),s=Po(t.serverSyncTree_,e),u=Xo(a,s,o),c=Fa(t),l=Eo(t.serverSyncTree_,e,u,c,!0);Ca(t.eventQueue_,l),t.server_.put(e.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||We("set at "+e+" failed: "+n);var a=So(t.serverSyncTree_,c,!o);Ea(t.eventQueue_,e,a),Ba(t,i,n,r)}));var h=Ja(t,e);Ka(t,h),Ea(t.eventQueue_,h,[])}function ja(t,e,n){t.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&ni(t.onDisconnect_,e),Ba(t,n,r,i)}))}function qa(t,e,n,r){var i=Ar(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(function(n,o){"ok"===n&&ei(t.onDisconnect_,e,i),Ba(t,r,n,o)}))}function Ua(t,e,n){var r;r=".info"===Ln(e._path)?Ao(t.infoSyncTree_,e,n):Ao(t.serverSyncTree_,e,n),Ta(t.eventQueue_,e._path,r)}function Va(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Na)}function Wa(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),je.apply(void 0,ft([r],ht(e)))}function Ba(t,e,n,r){e&&on((function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}}))}function Ha(t,e,n){return Po(t.serverSyncTree_,e,n)||kr.EMPTY_NODE}function za(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||Qa(t,e),ta(e)){var n=Ya(t,e);vt(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return 0===t.status}))&&function(t,e,n){for(var r=n.map((function(t){return t.currentWriteId})),i=Ha(t,e,r),o=i,a=i.hash(),s=0;s<n.length;s++){var u=n[s];vt(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=Wn(e,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var l=o.val(!0),h=e;t.server_.put(h.toString(),l,(function(r){Wa(t,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(e){n[e].status=2,i=i.concat(So(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push((function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)})),n[e].unwatcher()},s=0;s<n.length;s++)a(s);Qa(t,Zo(t.transactionQueueTree_,e)),za(t,t.transactionQueueTree_),Ea(t.eventQueue_,e,i);for(s=0;s<o.length;s++)on(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{We("transaction at "+h.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}Ka(t,e)}}),a)}(t,oa(e),n)}else na(e)&&ra(e,(function(e){za(t,e)}))}function Ka(t,e){var n=Ga(t,e),r=oa(n);return function(t,e,n){if(0===e.length)return;for(var r=[],i=[],o=e.filter((function(t){return 0===t.status})).map((function(t){return t.currentWriteId})),a=function(a){var s,u,c=e[a],l=Wn(n,c.path),h=!1;if(vt(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,s=c.abortReason,i=i.concat(So(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=Aa)h=!0,s="maxretry",i=i.concat(So(t.serverSyncTree_,c.currentWriteId,!0));else{var f=Ha(t,c.path,o);c.currentInputSnapshot=f;var d=e[a].update(f.val());if(void 0!==d){pa("transaction failed: Data returned ",d,c.path);var p=Ar(d);"object"==typeof d&&null!=d&&Ot(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=c.currentWriteId,m=Oa(t),g=Xo(p,f,m);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=g,c.currentWriteId=Fa(t),o.splice(o.indexOf(v),1),i=(i=i.concat(Eo(t.serverSyncTree_,c.path,g,c.currentWriteId,c.applyLocally))).concat(So(t.serverSyncTree_,v,!0))}else h=!0,s="nodata",i=i.concat(So(t.serverSyncTree_,c.currentWriteId,!0))}Ea(t.eventQueue_,n,i),i=[],h&&(e[a].status=2,u=e[a].unwatcher,setTimeout(u,Math.floor(0)),e[a].onComplete&&("nodata"===s?r.push((function(){return e[a].onComplete(null,!1,e[a].currentInputSnapshot)})):r.push((function(){return e[a].onComplete(new Error(s),!1,null)}))))},s=0;s<e.length;s++)a(s);Qa(t,t.transactionQueueTree_);for(s=0;s<r.length;s++)on(r[s]);za(t,t.transactionQueueTree_)}(t,Ya(t,n),r),r}function Ga(t,e){var n,r=t.transactionQueueTree_;for(n=Ln(e);null!==n&&void 0===ta(r);)r=Zo(r,n),n=Ln(e=Fn(e));return r}function Ya(t,e){var n=[];return Xa(t,e,n),n.sort((function(t,e){return t.order-e.order})),n}function Xa(t,e,n){var r=ta(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);ra(e,(function(e){Xa(t,e,n)}))}function Qa(t,e){var n=ta(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,ea(e,n.length>0?n:void 0)}ra(e,(function(e){Qa(t,e)}))}function Ja(t,e){var n=oa(Ga(t,e)),r=Zo(t.transactionQueueTree_,e);return function(t,e,n){for(var r=n?t:t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,(function(e){Za(t,e)})),Za(t,r),ia(r,(function(e){Za(t,e)})),n}function Za(t,e){var n=ta(e);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(vt(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(vt(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(So(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));-1===o?ea(e,void 0):n.length=o+1,Ea(t.eventQueue_,oa(e),i);for(a=0;a<r.length;a++)on(r[a])}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ts=function(t,e){var n=es(t),r=n.namespace;"firebase.com"===n.domain&&Ve(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Ve("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&We("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new pn(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new On(n.pathString)}},es=function(t){var e="",n="",r="",i="",o="",a=!0,s="https",u=443;if("string"==typeof t){var c=t.indexOf("//");c>=0&&(s=t.substring(0,c-1),t=t.substring(c+2));var l=t.indexOf("/");-1===l&&(l=t.length);var h=t.indexOf("?");-1===h&&(h=t.length),e=t.substring(0,Math.min(l,h)),l<h&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}(t.substring(l,h)));var f=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=lt(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var s=a.split("=");2===s.length?r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):We("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,h)));(c=e.indexOf(":"))>=0?(a="https"===s||"wss"===s,u=parseInt(e.substring(c+1),10)):c=e.length;var d=e.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},ns=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Pt(this.snapshot.exportVal())},t}(),rs=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),is=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return vt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),os=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new Tt;return ja(this._repo,this._path,t.wrapCallback((function(){}))),t.promise},t.prototype.remove=function(){ba("OnDisconnect.remove",this._path);var t=new Tt;return qa(this._repo,this._path,null,t.wrapCallback((function(){}))),t.promise},t.prototype.set=function(t){ba("OnDisconnect.set",this._path),da("OnDisconnect.set",t,this._path,!1);var e=new Tt;return qa(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t.prototype.setWithPriority=function(t,e){ba("OnDisconnect.setWithPriority",this._path),da("OnDisconnect.setWithPriority",t,this._path,!1),ma("OnDisconnect.setWithPriority",e,!1);var n=new Tt;return function(t,e,n,r,i){var o=Ar(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(function(n,r){"ok"===n&&ei(t.onDisconnect_,e,o),Ba(0,i,n,r)}))}(this._repo,this._path,t,e,n.wrapCallback((function(){}))),n.promise},t.prototype.update=function(t){ba("OnDisconnect.update",this._path),va("OnDisconnect.update",t,this._path,!1);var e=new Tt;return function(t,e,n,r){if(Lt(n))return je("onDisconnect().update() called with empty data.  Don't do anything."),void Ba(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(function(i,o){"ok"===i&&Je(n,(function(n,r){var i=Ar(r);ei(t.onDisconnect_,Un(e,n),i)})),Ba(0,r,i,o)}))}(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t}(),as=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return Vn(this._path)?null:$n(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ls(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=Qr(this._queryParams),e=Xe(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return Qr(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=zt(e))instanceof t))return!1;var n=this._repo===e._repo,r=Hn(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function ss(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function us(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===ir){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==He)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==ze)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===br){if(null!=e&&!fa(e)||null!=n&&!fa(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(vt(t.getIndex()instanceof Rr||t.getIndex()===Dr,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function cs(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var ls=function(t){function e(e,n){return t.call(this,e,n,new zr,!1)||this}return at(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=qn(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(as),hs=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new On(e),r=ps(this.ref,e);return new t(this._node.getChild(n),r,br)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return e(new t(i,ps(n.ref,r),br))}))},t.prototype.hasChild=function(t){var e=new On(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function fs(t,e){return(t=zt(t))._checkNotDeleted("ref"),void 0!==e?ps(t._root,e):t._root}function ds(t,e){(t=zt(t))._checkNotDeleted("refFromURL");var n=ts(e,t._repo.repoInfo_.nodeAdmin);wa("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||Ve("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),fs(t,n.path.toString())}function ps(t,e){return null===Ln((t=zt(t))._path)?_a("child","path",e,!1):ya("child","path",e,!1),new ls(t._repo,Un(t._path,e))}function vs(t,e){t=zt(t),ba("set",t._path),da("set",e,t._path,!1);var n=new Tt;return $a(t._repo,t._path,e,null,n.wrapCallback((function(){}))),n.promise}function ms(t,e){va("update",e,t._path,!1);var n=new Tt;return function(t,e,n,r){Wa(t,"update",{path:e.toString(),value:n});var i=!0,o=Oa(t),a={};if(Je(n,(function(n,r){i=!1,a[n]=Yo(Un(e,n),Ar(r),t.serverSyncTree_,o)})),i)je("update() called with empty data.  Don't do anything."),Ba(0,r,"ok",void 0);else{var s=Fa(t),u=ko(t.serverSyncTree_,e,a,s);Ca(t.eventQueue_,u),t.server_.merge(e.toString(),n,(function(n,i){var o="ok"===n;o||We("update at "+e+" failed: "+n);var a=So(t.serverSyncTree_,s,!o),u=a.length>0?Ka(t,e):e;Ea(t.eventQueue_,u,a),Ba(0,r,n,i)})),Je(n,(function(n){var r=Ja(t,Un(e,n));Ka(t,r)})),Ea(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback((function(){}))),n.promise}function gs(t){return function(t,e){var n=Ro(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then((function(n){var r=Ar(n).withIndex(e._queryParams.getIndex()),i=No(t.serverSyncTree_,e._path,r);return Ta(t.eventQueue_,e._path,i),Promise.resolve(r)}),(function(n){return Wa(t,"get for query "+Pt(e)+" failed: "+n),Promise.reject(new Error(n))}))}((t=zt(t))._repo,t).then((function(e){return new hs(e,new ls(t._repo,t._path),t._queryParams.getIndex())}))}var ys=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new ns("value",this,new hs(t.snapshotNode,new ls(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new rs(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),_s=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new rs(this,t,e):null},t.prototype.createEvent=function(t,e){vt(null!=t.childName,"Child events should have a childName.");var n=ps(new ls(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new ns(t.type,this,new hs(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function bs(t,e,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(e,n){Ua(t._repo,t,c),a(e,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new is(n,o||void 0),c="value"===e?new ys(u):new _s(e,u);return function(t,e,n){var r;r=".info"===Ln(e._path)?xo(t.infoSyncTree_,e,n):xo(t.serverSyncTree_,e,n),Ta(t.eventQueue_,e._path,r)}(t._repo,t,c),function(){return Ua(t._repo,t,c)}}function ws(t,e,n,r){return bs(t,"value",e,n,r)}function Is(t,e,n,r){return bs(t,"child_added",e,n,r)}function Cs(t,e,n,r){return bs(t,"child_changed",e,n,r)}function Ts(t,e,n,r){return bs(t,"child_moved",e,n,r)}function Es(t,e,n,r){return bs(t,"child_removed",e,n,r)}function ks(t,e,n){var r=null,i=n?new is(n):null;"value"===e?r=new ys(i):e&&(r=new _s(e,i)),Ua(t._repo,t,r)}var Ss=function(){},Ns=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return at(e,t),e.prototype._apply=function(t){da("endAt",this._value,t._path,!0);var e=Gr(t._queryParams,this._value,this._key);if(cs(e),us(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new as(t._repo,t._path,e,t._orderByCalled)},e}(Ss);var As=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return at(e,t),e.prototype._apply=function(t){da("endBefore",this._value,t._path,!1);var e,n,r,i,o=(e=t._queryParams,n=this._value,r=this._key,e.index_===ir?("string"==typeof n&&(n=$r(n)),i=Gr(e,n,r)):i=Gr(e,n,null==r?He:$r(r)),i.endBeforeSet_=!0,i);if(cs(o),us(o),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new as(t._repo,t._path,o,t._orderByCalled)},e}(Ss);var xs=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return at(e,t),e.prototype._apply=function(t){da("startAt",this._value,t._path,!0);var e=Kr(t._queryParams,this._value,this._key);if(cs(e),us(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new as(t._repo,t._path,e,t._orderByCalled)},e}(Ss);var Ps=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return at(e,t),e.prototype._apply=function(t){da("startAfter",this._value,t._path,!1);var e=function(t,e,n){var r;t.index_===ir?("string"==typeof e&&(e=Fr(e)),r=Kr(t,e,n)):r=Kr(t,e,null==n?ze:Fr(n));return r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(cs(e),us(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new as(t._repo,t._path,e,t._orderByCalled)},e}(Ss);var Rs=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return at(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new as(t._repo,t._path,(e=t._queryParams,n=this._limit,(r=e.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="l",r),t._orderByCalled);var e,n,r},e}(Ss);var Os=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return at(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new as(t._repo,t._path,(e=t._queryParams,n=this._limit,(r=e.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="r",r),t._orderByCalled);var e,n,r},e}(Ss);var Ds=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return at(e,t),e.prototype._apply=function(t){ss(t,"orderByChild");var e=new On(this._path);if(Vn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new Rr(e),r=Yr(t._queryParams,n);return us(r),new as(t._repo,t._path,r,!0)},e}(Ss);var Ls=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return at(e,t),e.prototype._apply=function(t){ss(t,"orderByKey");var e=Yr(t._queryParams,ir);return us(e),new as(t._repo,t._path,e,!0)},e}(Ss);var Ms=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return at(e,t),e.prototype._apply=function(t){ss(t,"orderByPriority");var e=Yr(t._queryParams,br);return us(e),new as(t._repo,t._path,e,!0)},e}(Ss);var Fs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return at(e,t),e.prototype._apply=function(t){ss(t,"orderByValue");var e=Yr(t._queryParams,Dr);return us(e),new as(t._repo,t._path,e,!0)},e}(Ss);var $s=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return at(e,t),e.prototype._apply=function(t){if(da("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ns(this._value,this._key)._apply(new xs(this._value,this._key)._apply(t))},e}(Ss);function js(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=zt(t);try{for(var a=lt(r),s=a.next();!s.done;s=a.next()){o=s.value._apply(o)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o}!function(t){vt(!ro,"__referenceConstructor has already been defined"),ro=t}(ls),function(t){vt(!lo,"__referenceConstructor has already been defined"),lo=t}(ls);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var qs="FIREBASE_DATABASE_EMULATOR_HOST",Us={},Vs=!1;function Ws(t,e,n,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||Ve("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),je("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var a,s=ts(o,i),u=s.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env[qs]),c?(a=!0,o="http://"+c+"?ns="+u.namespace,u=(s=ts(o,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new cn(cn.OWNER):new un(t.name,t.options,e);wa("Invalid Firebase Database URL",s),Vn(s.path)||Ve("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(t,e,n,r){var i=Us[e.name];i||(i={},Us[e.name]=i);var o=i[t.toURLString()];o&&Ve("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new xa(t,Vs,n,r),i[t.toURLString()]=o,o}(u,t,l,new sn(t.name,n));return new Bs(h,t)}var Bs=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(Pa(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new ls(this._repo,Dn())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return null!==this._rootInternal&&(t=this._repo,e=this.app.name,(n=Us[e])&&n[t.key]===t||Ve("Database "+e+"("+t.repoInfo_+") has already been deleted."),Va(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null),Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&Ve("Cannot call "+t+" on a deleted database.")},t}();function Hs(t,e,n,r){void 0===r&&(r={}),(t=zt(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Ve("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ve('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new cn(cn.OWNER);else if(r.mockUserToken){var a="string"==typeof r.mockUserToken?r.mockUserToken:function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=st({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bt(JSON.stringify({alg:"none",type:"JWT"})),bt(JSON.stringify(o)),""].join(".")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(r.mockUserToken,t.app.options.projectId);o=new cn(a)}!function(t,e,n,r){t.repoInfo_=new pn(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(i,e,n,o)}function zs(t){var e;(t=zt(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume(Na)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ks={".sv":"timestamp"};
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Gs=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function Ys(t,e,n){var r;if(t=zt(t),ba("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,o=new Tt,a=ws(t,(function(){}));return function(t,e,n,r,i,o){Wa(t,"transaction on "+e);var a={path:e,update:n,onComplete:r,status:null,order:Oe(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=Ha(t,e,void 0);a.currentInputSnapshot=s;var u=a.update(s.val());if(void 0===u)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{pa("transaction failed: Data returned ",u,a.path),a.status=0;var c=Zo(t.transactionQueueTree_,e),l=ta(c)||[];l.push(a),ea(c,l);var h=void 0;"object"==typeof u&&null!==u&&Ot(u,".priority")?(h=Dt(u,".priority"),vt(fa(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(Po(t.serverSyncTree_,e)||kr.EMPTY_NODE).getPriority().val();var f=Oa(t),d=Ar(u,h),p=Xo(d,s,f);a.currentOutputSnapshotRaw=d,a.currentOutputSnapshotResolved=p,a.currentWriteId=Fa(t);var v=Eo(t.serverSyncTree_,e,p,a.currentWriteId,a.applyLocally);Ea(t.eventQueue_,e,v),za(t,t.transactionQueueTree_)}}(t._repo,t._path,e,(function(e,n,r){var i=null;e?o.reject(e):(i=new hs(r,new ls(t._repo,t._path),br),o.resolve(new Gs(n,i)))}),a,i),o.promise}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Xs=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){Ut("OnDisconnect.cancel",0,1,arguments.length),Wt("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.remove=function(t){Ut("OnDisconnect.remove",0,1,arguments.length),Wt("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.set=function(t,e){Ut("OnDisconnect.set",1,2,arguments.length),Wt("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},t.prototype.setWithPriority=function(t,e,n){Ut("OnDisconnect.setWithPriority",2,3,arguments.length),Wt("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},t.prototype.update=function(t,e){if(Ut("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,We("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Wt("OnDisconnect.update","onComplete",e,!0);var i=this._delegate.update(t);return e&&i.then((function(){return e(null)}),(function(t){return e(t)})),i},t}(),Qs=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Ut("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Js=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return Ut("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return Ut("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return Ut("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return Ut("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return Ut("DataSnapshot.child",0,1,arguments.length),e=String(e),ya("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return Ut("DataSnapshot.hasChild",1,1,arguments.length),ya("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return Ut("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return Ut("DataSnapshot.forEach",1,1,arguments.length),Wt("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((function(r){return e(new t(n._database,r))}))},t.prototype.hasChildren=function(){return Ut("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Ut("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return Ut("DataSnapshot.ref",0,0,arguments.length),new tu(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Zs=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,i){var o,a=this;Ut("Query.on",2,4,arguments.length),Wt("Query.on","callback",n,!1);var s=t.getCancelAndContextArgs_("Query.on",r,i),u=function(t,e){n.call(s.context,new Js(a.database,t),e)};u.userCallback=n,u.context=s.context;var c=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(e){case"value":return ws(this._delegate,u,c),n;case"child_added":return Is(this._delegate,u,c),n;case"child_removed":return Es(this._delegate,u,c),n;case"child_changed":return Cs(this._delegate,u,c),n;case"child_moved":return Ts(this._delegate,u,c),n;default:throw new Error(Vt("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if(Ut("Query.off",0,3,arguments.length),function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Vt(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",t,!0),Wt("Query.off","callback",e,!0),Bt("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,ks(this._delegate,t,r)}else ks(this._delegate,t)},t.prototype.get=function(){var t=this;return gs(this._delegate).then((function(e){return new Js(t.database,e)}))},t.prototype.once=function(e,n,r,i){var o=this;Ut("Query.once",1,4,arguments.length),Wt("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),s=new Tt,u=function(t,e){var r=new Js(o.database,t);n&&n.call(a.context,r,e),s.resolve(r)};u.userCallback=n,u.context=a.context;var c=function(t){a.cancel&&a.cancel.call(a.context,t),s.reject(t)};switch(e){case"value":ws(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":Is(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":Es(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":Cs(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":Ts(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(Vt("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise},t.prototype.limitToFirst=function(e){return Ut("Query.limitToFirst",1,1,arguments.length),new t(this.database,js(this._delegate,function(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Rs(t)}(e)))},t.prototype.limitToLast=function(e){return Ut("Query.limitToLast",1,1,arguments.length),new t(this.database,js(this._delegate,function(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Os(t)}(e)))},t.prototype.orderByChild=function(e){return Ut("Query.orderByChild",1,1,arguments.length),new t(this.database,js(this._delegate,function(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ya("orderByChild","path",t,!1),new Ds(t)}(e)))},t.prototype.orderByKey=function(){return Ut("Query.orderByKey",0,0,arguments.length),new t(this.database,js(this._delegate,new Ls))},t.prototype.orderByPriority=function(){return Ut("Query.orderByPriority",0,0,arguments.length),new t(this.database,js(this._delegate,new Ms))},t.prototype.orderByValue=function(){return Ut("Query.orderByValue",0,0,arguments.length),new t(this.database,js(this._delegate,new Fs))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),Ut("Query.startAt",0,2,arguments.length),new t(this.database,js(this._delegate,function(t,e){return void 0===t&&(t=null),ga("startAt","key",e,!0),new xs(t,e)}(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),Ut("Query.startAfter",0,2,arguments.length),new t(this.database,js(this._delegate,function(t,e){return ga("startAfter","key",e,!0),new Ps(t,e)}(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),Ut("Query.endAt",0,2,arguments.length),new t(this.database,js(this._delegate,function(t,e){return ga("endAt","key",e,!0),new Ns(t,e)}(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),Ut("Query.endBefore",0,2,arguments.length),new t(this.database,js(this._delegate,function(t,e){return ga("endBefore","key",e,!0),new As(t,e)}(e,n)))},t.prototype.equalTo=function(e,n){return Ut("Query.equalTo",1,2,arguments.length),new t(this.database,js(this._delegate,function(t,e){return ga("equalTo","key",e,!0),new $s(t,e)}(e,n)))},t.prototype.toString=function(){return Ut("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return Ut("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(Ut("Query.isEqual",1,1,arguments.length),!(e instanceof t)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,Wt(t,"cancel",r.cancel,!0),r.context=n,Bt(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Vt(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new tu(this.database,new ls(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),tu=function(t){function e(e,n){var r=t.call(this,e,new as(n._repo,n._path,new zr,!1))||this;return r.database=e,r._delegate=n,r}return at(e,t),e.prototype.getKey=function(){return Ut("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return Ut("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,ps(this._delegate,t))},e.prototype.getParent=function(){Ut("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return Ut("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){Ut("Reference.set",1,2,arguments.length),Wt("Reference.set","onComplete",e,!0);var n=vs(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.update=function(t,e){if(Ut("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,We("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ba("Reference.update",this._delegate._path),Wt("Reference.update","onComplete",e,!0);var i=ms(this._delegate,t);return e&&i.then((function(){return e(null)}),(function(t){return e(t)})),i},e.prototype.setWithPriority=function(t,e,n){Ut("Reference.setWithPriority",2,3,arguments.length),Wt("Reference.setWithPriority","onComplete",n,!0);var r=function(t,e,n){if(ba("setWithPriority",t._path),da("setWithPriority",e,t._path,!1),ma("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new Tt;return $a(t._repo,t._path,e,n,r.wrapCallback((function(){}))),r.promise}(this._delegate,t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},e.prototype.remove=function(t){Ut("Reference.remove",0,1,arguments.length),Wt("Reference.remove","onComplete",t,!0);var e=function(t){return ba("remove",t._path),vs(t,null)}(this._delegate);return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},e.prototype.transaction=function(t,e,n){var r=this;Ut("Reference.transaction",1,3,arguments.length),Wt("Reference.transaction","transactionUpdate",t,!1),Wt("Reference.transaction","onComplete",e,!0),function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Vt(t,e)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);var i=Ys(this._delegate,t,{applyLocally:n}).then((function(t){return new Qs(t.committed,new Js(r.database,t.snapshot))}));return e&&i.then((function(t){return e(null,t.committed,t.snapshot)}),(function(t){return e(t,!1,null)})),i},e.prototype.setPriority=function(t,e){Ut("Reference.setPriority",1,2,arguments.length),Wt("Reference.setPriority","onComplete",e,!0);var n=function(t,e){t=zt(t),ba("setPriority",t._path),ma("setPriority",e,!1);var n=new Tt;return $a(t._repo,Un(t._path,".priority"),e,null,n.wrapCallback((function(){}))),n.promise}(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.push=function(t,n){var r=this;Ut("Reference.push",0,2,arguments.length),Wt("Reference.push","onComplete",n,!0);var i=function(t,e){t=zt(t),ba("push",t._path),da("push",e,t._path,!0);var n,r=Ra(t._repo),i=Mr(r),o=ps(t,i),a=ps(t,i);return n=null!=e?vs(a,e).then((function(){return a})):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),o}(this._delegate,t),o=i.then((function(t){return new e(r.database,t)}));n&&o.then((function(){return n(null)}),(function(t){return n(t)}));var a=new e(this.database,i);return a.then=o.then.bind(o),a.catch=o.catch.bind(o,void 0),a},e.prototype.onDisconnect=function(){return ba("Reference.onDisconnect",this._delegate._path),new Xs(new os(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Zs),eu=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),Hs(this._delegate,t,e,n)},t.prototype.ref=function(t){if(Ut("database.ref",0,1,arguments.length),t instanceof tu){var e=ds(this._delegate,t.toString());return new tu(this,e)}e=fs(this._delegate,t);return new tu(this,e)},t.prototype.refFromURL=function(t){Ut("database.refFromURL",1,1,arguments.length);var e=ds(this._delegate,t);return new tu(this,e)},t.prototype.goOffline=function(){return Ut("database.goOffline",0,0,arguments.length),(t=zt(t=this._delegate))._checkNotDeleted("goOffline"),void Va(t._repo);var t},t.prototype.goOnline=function(){return Ut("database.goOnline",0,0,arguments.length),zs(this._delegate)},t.ServerValue={TIMESTAMP:Ks,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var nu=Object.freeze({__proto__:null,forceLongPolling:function(){En.forceDisallow(),In.forceAllow()},forceWebSockets:function(){In.forceDisallow()},isWebSocketsAvailable:function(){return En.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new oi(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce((function(t,e){return Math.max(e.length,t)}),0);Je(n,(function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)}))}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){var n,r;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */t.stats_.incrementCounter(e),n=t.statsReporter_,r=e,n.statsToReport_[r]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace,a=t.nodeAdmin,s=void 0!==a&&a;Ee(r);var u=new Yt("auth-internal",new Qt("database-standalone"));return u.setComponent(new Kt("auth-internal",(function(){return i}),"PRIVATE")),{instance:new eu(Ws(e,u,void 0,n,s),e),namespace:o}}}),ru=tr;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */tr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},tr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var iu=Sn,ou=pn,au=Object.freeze({__proto__:null,DataConnection:ru,RealTimeConnection:iu,hijackHash:function(t){var e=tr.prototype.put;return tr.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){tr.prototype.put=e}},ConnectionTarget:ou,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){Vs=t}(t)}}),su=eu.ServerValue;function uu(t,e,n){const r=R();let{data:i}=e,o=Ie.database().ref();return o.on("value",(function(t){n(0,i=t.val()),r("dataLoaded")})),t.$$set=t=>{"data"in t&&n(0,i=t.data)},t.$$.update=()=>{1&t.$$.dirty&&i&&o.set(i)},[i]}!function(t){Ee(t.SDK_VERSION),t.INTERNAL.registerComponent(new Kt("database",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new eu(Ws(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:tu,Query:Zs,Database:eu,DataSnapshot:Js,enableLogging:$e,INTERNAL:nu,ServerValue:su,TEST_ACCESS:au}).setMultipleInstances(!0)),t.registerVersion("@firebase/database","0.11.0")}(Ie);class cu extends rt{constructor(t){super(),nt(this,t,uu,null,o,{data:0})}}function lu(t){let e,n,r,i,o,a;return{c(){e=_("svg"),n=_("path"),r=_("path"),i=_("path"),o=_("path"),a=_("path"),E(n,"fill","#1ABCFE"),E(n,"d","M5.5 8.917a2.75 2.75 0 115.5 0v.166a2.75 2.75 0 01-5.5 0v-.166z"),E(r,"fill","#0ACF83"),E(r,"d","M0 14.667a2.833 2.833 0 012.833-2.834H5.5v2.917a2.75 2.75 0 11-5.5 0v-.083z"),E(i,"fill","#FF7262"),E(i,"d","M5.5.5v5.667h2.667a2.833 2.833 0 000-5.667H5.5z"),E(o,"fill","#F24E1E"),E(o,"d","M0 3.333a2.833 2.833 0 002.833 2.834H5.5V.5H2.833A2.833 2.833 0 000 3.333z"),E(a,"fill","#A259FF"),E(a,"d","M0 9a2.833 2.833 0 002.833 2.833H5.5V6.167H2.833A2.833 2.833 0 000 9z"),E(e,"class","mr-2"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"width","11"),E(e,"height","18"),E(e,"fill","none"),E(e,"viewBox","0 0 11 18")},m(t,s){v(t,e,s),p(e,n),p(e,r),p(e,i),p(e,o),p(e,a)},d(t){t&&m(e)}}}function hu(t){let e,n,r,i,o,a,s,u,c;function l(e){t[6](e)}let h={};void 0!==t[2]&&(h.data=t[2]),e=new cu({props:h}),D.push((()=>Q(e,"data",l)));let f=!0===t[1]&&lu();return{c(){J(e.$$.fragment),r=w(),i=y("div"),f&&f.c(),o=w(),a=b(t[0]),E(i,"class","text-base w-full h-12 flex flex-row justify-center items-center rounded border border-gray-300 select-none hover:border-gray-500 active:border-gray-500 active:bg-gray-400")},m(n,l){Z(e,n,l),v(n,r,l),v(n,i,l),f&&f.m(i,null),p(i,o),p(i,a),s=!0,u||(c=C(i,"click",t[3]),u=!0)},p(t,[r]){const u={};!n&&4&r&&(n=!0,u.data=t[2],q((()=>n=!1))),e.$set(u),!0===t[1]?f||(f=lu(),f.c(),f.m(i,o)):f&&(f.d(1),f=null),(!s||1&r)&&k(a,t[0])},i(t){s||(Y(e.$$.fragment,t),s=!0)},o(t){X(e.$$.fragment,t),s=!1},d(t){tt(e,t),t&&m(r),t&&m(i),f&&f.d(),u=!1,c()}}}function fu(t,e,n){const r=R();let i,{label:o=""}=e,{figma:a=!0}=e,{id:s}=e,{selectedFrames:u=[]}=e;return t.$$set=t=>{"label"in t&&n(0,o=t.label),"figma"in t&&n(1,a=t.figma),"id"in t&&n(4,s=t.id),"selectedFrames"in t&&n(5,u=t.selectedFrames)},t.$$.update=()=>{4&t.$$.dirty&&function(){if(i)for(var t=0;t<u.length;t++)(i.frames[t].source.type===s||"figma"!==i.frames[t].source.type&&"customUrl"==s)&&(1===i.frames[t].id||2===i.frames[t].id||i.frames[t].id)}()},[o,a,i,function(){r("buttonClicked")},s,u,function(t){i=t,n(2,i)}]}class du extends rt{constructor(t){super(),nt(this,t,fu,hu,o,{label:0,figma:1,id:4,selectedFrames:5})}}function pu(e){let n,i,o,a,s,u,c,l,h,f,d,g;return{c(){n=y("div"),i=y("div"),o=y("div"),a=y("p"),a.textContent="Source",s=w(),u=y("div"),c=y("p"),c.textContent="Adjustments",l=w(),h=y("div"),f=y("div"),A(a,"font-medium","source"===e[0]),E(o,"class","h-full w-full flex justify-around items-center cursor-pointer"),A(c,"font-medium","adjustments"===e[0]),E(u,"class","h-full w-full flex justify-around items-center cursor-pointer"),E(i,"class","flex h-11 w-full items-center"),E(f,"class","absolute bottom-0 left-0 w-2/4 h-0.5 bg-gray-900 transition-all svelte-168p953"),A(f,"moveLeft","adjustments"===e[0]),E(h,"class","relative"),E(n,"class","h-11 px-9 relative bg-white border-t border-b border-gray-200")},m(t,r){v(t,n,r),p(n,i),p(i,o),p(o,a),p(i,s),p(i,u),p(u,c),p(n,l),p(n,h),p(h,f),d||(g=[C(o,"click",e[1]),C(u,"click",e[2])],d=!0)},p(t,[e]){1&e&&A(a,"font-medium","source"===t[0]),1&e&&A(c,"font-medium","adjustments"===t[0]),1&e&&A(f,"moveLeft","adjustments"===t[0])},i:t,o:t,d(t){t&&m(n),d=!1,r(g)}}}function vu(t,e,n){let{activeTab:r="source"}=e;return t.$$set=t=>{"activeTab"in t&&n(0,r=t.activeTab)},[r,()=>n(0,r="source"),()=>n(0,r="adjustments")]}class mu extends rt{constructor(t){super(),nt(this,t,vu,pu,o,{activeTab:0})}}function gu(t){return"[object Date]"===Object.prototype.toString.call(t)}function yu(t,e,n,r){if("number"==typeof n||gu(n)){const i=r-n,o=(n-e)/(t.dt||1/60),a=(o+(t.opts.stiffness*i-t.opts.damping*o)*t.inv_mass)*t.dt;return Math.abs(a)<t.opts.precision&&Math.abs(i)<t.opts.precision?r:(t.settled=!1,gu(n)?new Date(n.getTime()+a):n+a)}if(Array.isArray(n))return n.map(((i,o)=>yu(t,e[o],n[o],r[o])));if("object"==typeof n){const i={};for(const o in n)i[o]=yu(t,e[o],n[o],r[o]);return i}throw new Error(`Cannot spring ${typeof n} values`)}function _u(e,n={}){const r=function(e,n=t){let r;const i=new Set;function a(t){if(o(e,t)&&(e=t,r)){const t=!it.length;for(const t of i)t[1](),it.push(t,e);if(t){for(let t=0;t<it.length;t+=2)it[t][0](it[t+1]);it.length=0}}}return{set:a,update:function(t){a(t(e))},subscribe:function(o,s=t){const u=[o,s];return i.add(u),1===i.size&&(r=n(a)||t),o(e),()=>{i.delete(u),0===i.size&&r&&(r(),r=null)}}}}(e),{stiffness:i=.15,damping:a=.8,precision:s=.01}=n;let u,c,p,v=e,m=e,g=1,y=0,_=!1;function b(t,n={}){m=t;const i=p={};if(null==e||n.hard||w.stiffness>=1&&w.damping>=1)return _=!0,u=l(),v=t,r.set(e=m),Promise.resolve();if(n.soft){const t=!0===n.soft?.5:+n.soft;y=1/(60*t),g=0}return c||(u=l(),_=!1,c=function(t){let e;return 0===f.size&&h(d),{promise:new Promise((n=>{f.add(e={c:t,f:n})})),abort(){f.delete(e)}}}((t=>{if(_)return _=!1,c=null,!1;g=Math.min(g+y,1);const n={inv_mass:g,opts:w,settled:!0,dt:60*(t-u)/1e3},i=yu(n,v,e,m);return u=t,v=e,r.set(e=i),n.settled&&(c=null),!n.settled}))),new Promise((t=>{c.promise.then((()=>{i===p&&t()}))}))}const w={set:b,update:(t,n)=>b(t(m,e),n),subscribe:r.subscribe,stiffness:i,damping:a,precision:s};return w}function bu(t,e,n){const r=t.slice();return r[21]=e[n],r[23]=n,r}function wu(t){let e,n,r=("label"===t[3]||"label"===t[4])&&Iu(t);return{c(){e=y("span"),r&&r.c(),E(e,"class","pip first"),E(e,"style",n=(t[2]?"top":"left")+": 0%;"),A(e,"selected",t[13](t[0])),A(e,"in-range",t[12](t[0]))},m(t,n){v(t,e,n),r&&r.m(e,null)},p(t,i){"label"===t[3]||"label"===t[4]?r?r.p(t,i):(r=Iu(t),r.c(),r.m(e,null)):r&&(r.d(1),r=null),4&i&&n!==(n=(t[2]?"top":"left")+": 0%;")&&E(e,"style",n),8193&i&&A(e,"selected",t[13](t[0])),4097&i&&A(e,"in-range",t[12](t[0]))},d(t){t&&m(e),r&&r.d()}}}function Iu(t){let e,n,r=t[9](t[0],0)+"",i=t[7]&&Cu(t),o=t[8]&&Tu(t);return{c(){e=y("span"),i&&i.c(),n=b(r),o&&o.c(),E(e,"class","pipVal")},m(t,r){v(t,e,r),i&&i.m(e,null),p(e,n),o&&o.m(e,null)},p(t,a){t[7]?i?i.p(t,a):(i=Cu(t),i.c(),i.m(e,n)):i&&(i.d(1),i=null),513&a&&r!==(r=t[9](t[0],0)+"")&&k(n,r),t[8]?o?o.p(t,a):(o=Tu(t),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(t){t&&m(e),i&&i.d(),o&&o.d()}}}function Cu(t){let e,n;return{c(){e=y("span"),n=b(t[7]),E(e,"class","pipVal-prefix")},m(t,r){v(t,e,r),p(e,n)},p(t,e){128&e&&k(n,t[7])},d(t){t&&m(e)}}}function Tu(t){let e,n;return{c(){e=y("span"),n=b(t[8]),E(e,"class","pipVal-suffix")},m(t,r){v(t,e,r),p(e,n)},p(t,e){256&e&&k(n,t[8])},d(t){t&&m(e)}}}function Eu(t){let e,n=Array(t[15]+1),r=[];for(let e=0;e<n.length;e+=1)r[e]=xu(bu(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=I()},m(t,n){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,n);v(t,e,n)},p(t,i){if(64463&i){let o;for(n=Array(t[15]+1),o=0;o<n.length;o+=1){const a=bu(t,n,o);r[o]?r[o].p(a,i):(r[o]=xu(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){g(r,t),t&&m(e)}}}function ku(t){let e,n,r,i=("label"===t[3]||"label"===t[6])&&Su(t);return{c(){e=y("span"),i&&i.c(),n=w(),E(e,"class","pip"),E(e,"style",r=(t[2]?"top":"left")+": "+t[11](t[14](t[23]))+"%;"),A(e,"selected",t[13](t[14](t[23]))),A(e,"in-range",t[12](t[14](t[23])))},m(t,r){v(t,e,r),i&&i.m(e,null),p(e,n)},p(t,o){"label"===t[3]||"label"===t[6]?i?i.p(t,o):(i=Su(t),i.c(),i.m(e,n)):i&&(i.d(1),i=null),18436&o&&r!==(r=(t[2]?"top":"left")+": "+t[11](t[14](t[23]))+"%;")&&E(e,"style",r),24576&o&&A(e,"selected",t[13](t[14](t[23]))),20480&o&&A(e,"in-range",t[12](t[14](t[23])))},d(t){t&&m(e),i&&i.d()}}}function Su(t){let e,n,r=t[9](t[14](t[23]),t[23])+"",i=t[7]&&Nu(t),o=t[8]&&Au(t);return{c(){e=y("span"),i&&i.c(),n=b(r),o&&o.c(),E(e,"class","pipVal")},m(t,r){v(t,e,r),i&&i.m(e,null),p(e,n),o&&o.m(e,null)},p(t,a){t[7]?i?i.p(t,a):(i=Nu(t),i.c(),i.m(e,n)):i&&(i.d(1),i=null),16896&a&&r!==(r=t[9](t[14](t[23]),t[23])+"")&&k(n,r),t[8]?o?o.p(t,a):(o=Au(t),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(t){t&&m(e),i&&i.d(),o&&o.d()}}}function Nu(t){let e,n;return{c(){e=y("span"),n=b(t[7]),E(e,"class","pipVal-prefix")},m(t,r){v(t,e,r),p(e,n)},p(t,e){128&e&&k(n,t[7])},d(t){t&&m(e)}}}function Au(t){let e,n;return{c(){e=y("span"),n=b(t[8]),E(e,"class","pipVal-suffix")},m(t,r){v(t,e,r),p(e,n)},p(t,e){256&e&&k(n,t[8])},d(t){t&&m(e)}}}function xu(t){let e,n=t[14](t[23])!==t[0]&&t[14](t[23])!==t[1],r=n&&ku(t);return{c(){r&&r.c(),e=I()},m(t,n){r&&r.m(t,n),v(t,e,n)},p(t,i){16387&i&&(n=t[14](t[23])!==t[0]&&t[14](t[23])!==t[1]),n?r?r.p(t,i):(r=ku(t),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(t){r&&r.d(t),t&&m(e)}}}function Pu(t){let e,n,r=("label"===t[3]||"label"===t[5])&&Ru(t);return{c(){e=y("span"),r&&r.c(),E(e,"class","pip last"),E(e,"style",n=(t[2]?"top":"left")+": 100%;"),A(e,"selected",t[13](t[1])),A(e,"in-range",t[12](t[1]))},m(t,n){v(t,e,n),r&&r.m(e,null)},p(t,i){"label"===t[3]||"label"===t[5]?r?r.p(t,i):(r=Ru(t),r.c(),r.m(e,null)):r&&(r.d(1),r=null),4&i&&n!==(n=(t[2]?"top":"left")+": 100%;")&&E(e,"style",n),8194&i&&A(e,"selected",t[13](t[1])),4098&i&&A(e,"in-range",t[12](t[1]))},d(t){t&&m(e),r&&r.d()}}}function Ru(t){let e,n,r=t[9](t[1],t[15])+"",i=t[7]&&Ou(t),o=t[8]&&Du(t);return{c(){e=y("span"),i&&i.c(),n=b(r),o&&o.c(),E(e,"class","pipVal")},m(t,r){v(t,e,r),i&&i.m(e,null),p(e,n),o&&o.m(e,null)},p(t,a){t[7]?i?i.p(t,a):(i=Ou(t),i.c(),i.m(e,n)):i&&(i.d(1),i=null),33282&a&&r!==(r=t[9](t[1],t[15])+"")&&k(n,r),t[8]?o?o.p(t,a):(o=Du(t),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(t){t&&m(e),i&&i.d(),o&&o.d()}}}function Ou(t){let e,n;return{c(){e=y("span"),n=b(t[7]),E(e,"class","pipVal-prefix")},m(t,r){v(t,e,r),p(e,n)},p(t,e){128&e&&k(n,t[7])},d(t){t&&m(e)}}}function Du(t){let e,n;return{c(){e=y("span"),n=b(t[8]),E(e,"class","pipVal-suffix")},m(t,r){v(t,e,r),p(e,n)},p(t,e){256&e&&k(n,t[8])},d(t){t&&m(e)}}}function Lu(e){let n,r,i,o=(e[3]&&!1!==e[4]||e[4])&&wu(e),a=(e[3]&&!1!==e[6]||e[6])&&Eu(e),s=(e[3]&&!1!==e[5]||e[5])&&Pu(e);return{c(){n=y("div"),o&&o.c(),r=w(),a&&a.c(),i=w(),s&&s.c(),E(n,"class","rangePips"),A(n,"focus",e[10]),A(n,"vertical",e[2])},m(t,e){v(t,n,e),o&&o.m(n,null),p(n,r),a&&a.m(n,null),p(n,i),s&&s.m(n,null)},p(t,[e]){t[3]&&!1!==t[4]||t[4]?o?o.p(t,e):(o=wu(t),o.c(),o.m(n,r)):o&&(o.d(1),o=null),t[3]&&!1!==t[6]||t[6]?a?a.p(t,e):(a=Eu(t),a.c(),a.m(n,i)):a&&(a.d(1),a=null),t[3]&&!1!==t[5]||t[5]?s?s.p(t,e):(s=Pu(t),s.c(),s.m(n,null)):s&&(s.d(1),s=null),1024&e&&A(n,"focus",t[10]),4&e&&A(n,"vertical",t[2])},i:t,o:t,d(t){t&&m(n),o&&o.d(),a&&a.d(),s&&s.d()}}}function Mu(t,e,n){let r,i,o,a,s,{range:u=!1}=e,{min:c=0}=e,{max:l=100}=e,{step:h=1}=e,{values:f=[(l+c)/2]}=e,{vertical:d=!1}=e,{pipstep:p}=e,{all:v=!0}=e,{first:m}=e,{last:g}=e,{rest:y}=e,{prefix:_=""}=e,{suffix:b=""}=e,{formatter:w=((t,e)=>t)}=e,{focus:I}=e,{percentOf:C}=e;return t.$$set=t=>{"range"in t&&n(16,u=t.range),"min"in t&&n(0,c=t.min),"max"in t&&n(1,l=t.max),"step"in t&&n(17,h=t.step),"values"in t&&n(18,f=t.values),"vertical"in t&&n(2,d=t.vertical),"pipstep"in t&&n(19,p=t.pipstep),"all"in t&&n(3,v=t.all),"first"in t&&n(4,m=t.first),"last"in t&&n(5,g=t.last),"rest"in t&&n(6,y=t.rest),"prefix"in t&&n(7,_=t.prefix),"suffix"in t&&n(8,b=t.suffix),"formatter"in t&&n(9,w=t.formatter),"focus"in t&&n(10,I=t.focus),"percentOf"in t&&n(11,C=t.percentOf)},t.$$.update=()=>{655367&t.$$.dirty&&n(20,r=p||((l-c)/h>=(d?50:100)?(l-c)/(d?10:20):1)),1179651&t.$$.dirty&&n(15,i=parseInt((l-c)/(h*r),10)),1179649&t.$$.dirty&&n(14,o=function(t){return c+t*h*r}),262144&t.$$.dirty&&n(13,a=function(t){return f.some((e=>e===t))}),327680&t.$$.dirty&&n(12,s=function(t){return"min"===u?f[0]>t:"max"===u?f[0]<t:u?f[0]<t&&f[1]>t:void 0})},[c,l,d,v,m,g,y,_,b,w,I,C,s,a,o,i,u,h,f,p,r]}class Fu extends rt{constructor(t){super(),nt(this,t,Mu,Lu,o,{range:16,min:0,max:1,step:17,values:18,vertical:2,pipstep:19,all:3,first:4,last:5,rest:6,prefix:7,suffix:8,formatter:9,focus:10,percentOf:11})}}function $u(t,e,n){const r=t.slice();return r[60]=e[n],r[62]=n,r}function ju(t){let e,n,r=t[19](t[60],t[62])+"",i=t[16]&&qu(t),o=t[17]&&Uu(t);return{c(){e=y("span"),i&&i.c(),n=b(r),o&&o.c(),E(e,"class","rangeFloat")},m(t,r){v(t,e,r),i&&i.m(e,null),p(e,n),o&&o.m(e,null)},p(t,a){t[16]?i?i.p(t,a):(i=qu(t),i.c(),i.m(e,n)):i&&(i.d(1),i=null),524289&a[0]&&r!==(r=t[19](t[60],t[62])+"")&&k(n,r),t[17]?o?o.p(t,a):(o=Uu(t),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(t){t&&m(e),i&&i.d(),o&&o.d()}}}function qu(t){let e,n;return{c(){e=y("span"),n=b(t[16]),E(e,"class","rangeFloat-prefix")},m(t,r){v(t,e,r),p(e,n)},p(t,e){65536&e[0]&&k(n,t[16])},d(t){t&&m(e)}}}function Uu(t){let e,n;return{c(){e=y("span"),n=b(t[17]),E(e,"class","rangeFloat-suffix")},m(t,r){v(t,e,r),p(e,n)},p(t,e){131072&e[0]&&k(n,t[17])},d(t){t&&m(e)}}}function Vu(t){let e,n,i,o,a,s,u,c,l,h,f,d,g=t[6]&&ju(t);return{c(){e=y("span"),n=y("span"),i=w(),g&&g.c(),E(n,"class","rangeNub"),E(e,"role","slider"),E(e,"class","rangeHandle"),E(e,"data-handle",t[62]),E(e,"style",o=(t[5]?"top":"left")+": "+t[26][t[62]]+"%; z-index: "+(t[25]===t[62]?3:2)+";"),E(e,"aria-valuemin",a=!0===t[1]&&1===t[62]?t[0][0]:t[2]),E(e,"aria-valuemax",s=!0===t[1]&&0===t[62]?t[0][1]:t[3]),E(e,"aria-valuenow",u=t[60]),E(e,"aria-valuetext",c=""+(t[16]+t[19](t[60],t[62])+t[17])),E(e,"aria-orientation",l=t[5]?"vertical":"horizontal"),E(e,"aria-disabled",t[8]),E(e,"disabled",t[8]),E(e,"tabindex",h=t[8]?-1:0),A(e,"hoverable",t[7]&&!t[8]),A(e,"active",t[23]&&t[25]===t[62]),A(e,"press",t[24]&&t[25]===t[62])},m(r,o){v(r,e,o),p(e,n),p(e,i),g&&g.m(e,null),f||(d=[C(e,"blur",t[29]),C(e,"focus",t[30]),C(e,"keydown",t[31])],f=!0)},p(t,n){t[6]?g?g.p(t,n):(g=ju(t),g.c(),g.m(e,null)):g&&(g.d(1),g=null),100663328&n[0]&&o!==(o=(t[5]?"top":"left")+": "+t[26][t[62]]+"%; z-index: "+(t[25]===t[62]?3:2)+";")&&E(e,"style",o),7&n[0]&&a!==(a=!0===t[1]&&1===t[62]?t[0][0]:t[2])&&E(e,"aria-valuemin",a),11&n[0]&&s!==(s=!0===t[1]&&0===t[62]?t[0][1]:t[3])&&E(e,"aria-valuemax",s),1&n[0]&&u!==(u=t[60])&&E(e,"aria-valuenow",u),720897&n[0]&&c!==(c=""+(t[16]+t[19](t[60],t[62])+t[17]))&&E(e,"aria-valuetext",c),32&n[0]&&l!==(l=t[5]?"vertical":"horizontal")&&E(e,"aria-orientation",l),256&n[0]&&E(e,"aria-disabled",t[8]),256&n[0]&&E(e,"disabled",t[8]),256&n[0]&&h!==(h=t[8]?-1:0)&&E(e,"tabindex",h),384&n[0]&&A(e,"hoverable",t[7]&&!t[8]),41943040&n[0]&&A(e,"active",t[23]&&t[25]===t[62]),50331648&n[0]&&A(e,"press",t[24]&&t[25]===t[62])},d(t){t&&m(e),g&&g.d(),f=!1,r(d)}}}function Wu(t){let e,n;return{c(){e=y("span"),E(e,"class","rangeBar"),E(e,"style",n=(t[5]?"top":"left")+": "+t[27](t[26])+"%; "+(t[5]?"bottom":"right")+": "+t[28](t[26])+"%;")},m(t,n){v(t,e,n)},p(t,r){67108896&r[0]&&n!==(n=(t[5]?"top":"left")+": "+t[27](t[26])+"%; "+(t[5]?"bottom":"right")+": "+t[28](t[26])+"%;")&&E(e,"style",n)},d(t){t&&m(e)}}}function Bu(t){let e,n;return e=new Fu({props:{values:t[0],min:t[2],max:t[3],step:t[4],range:t[1],vertical:t[5],all:t[11],first:t[12],last:t[13],rest:t[14],pipstep:t[10],prefix:t[16],suffix:t[17],formatter:t[18],focus:t[23],percentOf:t[21]}}),{c(){J(e.$$.fragment)},m(t,r){Z(e,t,r),n=!0},p(t,n){const r={};1&n[0]&&(r.values=t[0]),4&n[0]&&(r.min=t[2]),8&n[0]&&(r.max=t[3]),16&n[0]&&(r.step=t[4]),2&n[0]&&(r.range=t[1]),32&n[0]&&(r.vertical=t[5]),2048&n[0]&&(r.all=t[11]),4096&n[0]&&(r.first=t[12]),8192&n[0]&&(r.last=t[13]),16384&n[0]&&(r.rest=t[14]),1024&n[0]&&(r.pipstep=t[10]),65536&n[0]&&(r.prefix=t[16]),131072&n[0]&&(r.suffix=t[17]),262144&n[0]&&(r.formatter=t[18]),8388608&n[0]&&(r.focus=t[23]),2097152&n[0]&&(r.percentOf=t[21]),e.$set(r)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Hu(t){let e,n,i,o,a,s,u=t[0],c=[];for(let e=0;e<u.length;e+=1)c[e]=Vu($u(t,u,e));let l=t[1]&&Wu(t),h=t[9]&&Bu(t);return{c(){e=y("div");for(let t=0;t<c.length;t+=1)c[t].c();n=w(),l&&l.c(),i=w(),h&&h.c(),E(e,"id",t[15]),E(e,"class","rangeSlider"),A(e,"range",t[1]),A(e,"disabled",t[8]),A(e,"vertical",t[5]),A(e,"focus",t[23]),A(e,"min","min"===t[1]),A(e,"max","max"===t[1]),A(e,"pips",t[9]),A(e,"pip-labels","label"===t[11]||"label"===t[12]||"label"===t[13]||"label"===t[14])},m(r,u){v(r,e,u);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(e,null);p(e,n),l&&l.m(e,null),p(e,i),h&&h.m(e,null),t[45](e),o=!0,a||(s=[C(window,"mousedown",t[34]),C(window,"touchstart",t[34]),C(window,"mousemove",t[35]),C(window,"touchmove",t[35]),C(window,"mouseup",t[36]),C(window,"touchend",t[37]),C(window,"keydown",t[38]),C(e,"mousedown",t[32]),C(e,"mouseup",t[33]),C(e,"touchstart",T(t[32])),C(e,"touchend",T(t[33]))],a=!0)},p(t,r){if(1737163247&r[0]|1&r[1]){let i;for(u=t[0],i=0;i<u.length;i+=1){const o=$u(t,u,i);c[i]?c[i].p(o,r):(c[i]=Vu(o),c[i].c(),c[i].m(e,n))}for(;i<c.length;i+=1)c[i].d(1);c.length=u.length}t[1]?l?l.p(t,r):(l=Wu(t),l.c(),l.m(e,i)):l&&(l.d(1),l=null),t[9]?h?(h.p(t,r),512&r[0]&&Y(h,1)):(h=Bu(t),h.c(),Y(h,1),h.m(e,null)):h&&(K(),X(h,1,1,(()=>{h=null})),G()),(!o||32768&r[0])&&E(e,"id",t[15]),(!o||2&r[0])&&A(e,"range",t[1]),(!o||256&r[0])&&A(e,"disabled",t[8]),(!o||32&r[0])&&A(e,"vertical",t[5]),(!o||8388608&r[0])&&A(e,"focus",t[23]),(!o||2&r[0])&&A(e,"min","min"===t[1]),(!o||2&r[0])&&A(e,"max","max"===t[1]),(!o||512&r[0])&&A(e,"pips",t[9]),(!o||30720&r[0])&&A(e,"pip-labels","label"===t[11]||"label"===t[12]||"label"===t[13]||"label"===t[14])},i(t){o||(Y(h),o=!0)},o(t){X(h),o=!1},d(n){n&&m(e),g(c,n),l&&l.d(),h&&h.d(),t[45](null),a=!1,r(s)}}}function zu(t){if(!t)return-1;for(var e=0;t=t.previousElementSibling;)e++;return e}function Ku(t){return t.type.includes("touch")?t.touches[0]:t}function Gu(e,n,r){let i,o,a,s,u=t,c=()=>(u(),u=function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(j,(t=>r(26,s=t))),j);e.$$.on_destroy.push((()=>u()));let{range:l=!1}=n,{pushy:h=!1}=n,{min:f=0}=n,{max:d=100}=n,{step:p=1}=n,{values:v=[(d+f)/2]}=n,{vertical:m=!1}=n,{float:g=!1}=n,{hover:y=!0}=n,{disabled:_=!1}=n,{pips:b=!1}=n,{pipstep:w}=n,{all:I}=n,{first:C}=n,{last:T}=n,{rest:E}=n,{id:k}=n,{prefix:S=""}=n,{suffix:N=""}=n,{formatter:A=((t,e)=>t)}=n,{handleFormatter:x=A}=n,{precision:P=2}=n,{springValues:O={stiffness:.15,damping:.4}}=n;const L=R();let M,F,$,j,q=0,U=!1,V=!1,W=!1,B=!1,H=v.length-1;function z(){return M.getBoundingClientRect()}function K(t){const e=z();let n=0,r=0,i=0;m?(n=t.clientY-e.top,r=n/e.height*100,i=(d-f)/100*r+f):(n=t.clientX-e.left,r=n/e.width*100,i=(d-f)/100*r+f),G(H,i)}function G(t,e){e=a(e),l&&(0===t&&e>v[1]?h?r(0,v[1]=e,v):e=v[1]:1===t&&e<v[0]&&(h?r(0,v[0]=e,v):e=v[0])),v[t]!==e&&r(0,v[t]=e,v),$!==e&&(!_&&L("change",{activeHandle:H,startValue:F,previousValue:void 0===$?F:$,value:v[H],values:v.map((t=>a(t)))}),$=e)}function Y(){!_&&L("stop",{activeHandle:H,startValue:F,value:v[H],values:v.map((t=>a(t)))})}return e.$$set=t=>{"range"in t&&r(1,l=t.range),"pushy"in t&&r(39,h=t.pushy),"min"in t&&r(2,f=t.min),"max"in t&&r(3,d=t.max),"step"in t&&r(4,p=t.step),"values"in t&&r(0,v=t.values),"vertical"in t&&r(5,m=t.vertical),"float"in t&&r(6,g=t.float),"hover"in t&&r(7,y=t.hover),"disabled"in t&&r(8,_=t.disabled),"pips"in t&&r(9,b=t.pips),"pipstep"in t&&r(10,w=t.pipstep),"all"in t&&r(11,I=t.all),"first"in t&&r(12,C=t.first),"last"in t&&r(13,T=t.last),"rest"in t&&r(14,E=t.rest),"id"in t&&r(15,k=t.id),"prefix"in t&&r(16,S=t.prefix),"suffix"in t&&r(17,N=t.suffix),"formatter"in t&&r(18,A=t.formatter),"handleFormatter"in t&&r(19,x=t.handleFormatter),"precision"in t&&r(40,P=t.precision),"springValues"in t&&r(41,O=t.springValues)},e.$$.update=()=>{12&e.$$.dirty[0]&&r(44,o=function(t){return t<=f?f:t>=d?d:t}),28&e.$$.dirty[0]|8704&e.$$.dirty[1]&&r(43,a=function(t){if(t<=f)return f;if(t>=d)return d;let e=(t-f)%p,n=t-e;return 2*Math.abs(e)>=p&&(n+=e>0?p:-p),n=o(n),parseFloat(n.toFixed(P))}),12&e.$$.dirty[0]|512&e.$$.dirty[1]&&r(21,i=function(t){let e=(t-f)/(d-f)*100;return isNaN(e)||e<=0?0:e>=100?100:parseFloat(e.toFixed(P))}),3145741&e.$$.dirty[0]|7168&e.$$.dirty[1]&&(Array.isArray(v)||(r(0,v=[(d+f)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")),r(0,v=function(t){return"min"===l||"max"===l?t.slice(0,1):l?t.slice(0,2):t}(v.map((t=>a(t))))),q!==v.length?c(r(20,j=_u(v.map((t=>i(t))),O))):j.set(v.map((t=>i(t)))),r(42,q=v.length))},[v,l,f,d,p,m,g,y,_,b,w,I,C,T,E,k,S,N,A,x,j,i,M,U,W,H,s,function(t){return"min"===l?0:t[0]},function(t){return"max"===l?0:"min"===l?100-t[0]:100-t[1]},function(t){B&&(r(23,U=!1),V=!1,r(24,W=!1))},function(t){_||(r(25,H=zu(t.target)),r(23,U=!0))},function(t){if(!_){const e=zu(t.target);let n=t.ctrlKey||t.metaKey||t.shiftKey?10*p:p,r=!1;switch(t.key){case"PageDown":n*=10;case"ArrowRight":case"ArrowUp":G(e,v[e]+n),r=!0;break;case"PageUp":n*=10;case"ArrowLeft":case"ArrowDown":G(e,v[e]-n),r=!0;break;case"Home":G(e,f),r=!0;break;case"End":G(e,d),r=!0}r&&(t.preventDefault(),t.stopPropagation())}},function(t){if(!_){const e=Ku(t);r(23,U=!0),V=!0,r(24,W=!0),r(25,H=function(t){const e=z();let n,r=0,i=0,o=0;return m?(r=t.clientY-e.top,i=r/e.height*100,o=(d-f)/100*i+f):(r=t.clientX-e.left,i=r/e.width*100,o=(d-f)/100*i+f),!0===l&&v[0]===v[1]?o>v[1]?1:0:(n=v.indexOf([...v].sort(((t,e)=>Math.abs(o-t)-Math.abs(o-e)))[0]),n)}(e)),F=$=a(v[H]),!_&&L("start",{activeHandle:H,value:F,values:v.map((t=>a(t)))}),"touchstart"===t.type&&K(e)}},function(t){"touchend"===t.type&&Y(),r(24,W=!1)},function(t){B=!1,U&&t.target!==M&&!M.contains(t.target)&&r(23,U=!1)},function(t){_||V&&K(Ku(t))},function(t){if(!_){const e=t.target;V&&((e===M||M.contains(e))&&(r(23,U=!0),function(t){const e=M.querySelectorAll(".handle"),n=Array.prototype.includes.call(e,t),r=Array.prototype.some.call(e,(e=>e.contains(t)));return n||r}(e)||K(Ku(t))),Y())}V=!1,r(24,W=!1)},function(t){V=!1,r(24,W=!1)},function(t){_||(t.target===M||M.contains(t.target))&&(B=!0)},h,P,O,q,a,o,function(t){D[t?"unshift":"push"]((()=>{M=t,r(22,M)}))}]}class Yu extends rt{constructor(t){super(),nt(this,t,Gu,Hu,o,{range:1,pushy:39,min:2,max:3,step:4,values:0,vertical:5,float:6,hover:7,disabled:8,pips:9,pipstep:10,all:11,first:12,last:13,rest:14,id:15,prefix:16,suffix:17,formatter:18,handleFormatter:19,precision:40,springValues:41},null,[-1,-1,-1])}}function Xu(t){let e,n;return{c(){e=y("p"),n=b(t[6]),E(e,"class","text-blue-400")},m(t,r){v(t,e,r),p(e,n)},p(t,e){64&e&&k(n,t[6])},d(t){t&&m(e)}}}function Qu(t){let e,n;return{c(){e=y("p"),n=b(t[7]),E(e,"class","text-green-400")},m(t,r){v(t,e,r),p(e,n)},p(t,e){128&e&&k(n,t[7])},d(t){t&&m(e)}}}function Ju(t){let e,n;return{c(){e=y("p"),n=b(t[8]),E(e,"class","text-purple-400")},m(t,r){v(t,e,r),p(e,n)},p(t,e){256&e&&k(n,t[8])},d(t){t&&m(e)}}}function Zu(t){let e,n,r,i,o,a,s,u,c,l,h,f,d,g,_,I=t[4].includes(1),C=t[4].includes(2),T=t[4].includes(3);function S(e){t[10](e)}let N={};void 0!==t[5]&&(N.data=t[5]),e=new cu({props:N}),D.push((()=>Q(e,"data",S)));let A=I&&Xu(t),x=C&&Qu(t),P=T&&Ju(t);function R(e){t[11](e)}let O={min:t[1],max:t[2],range:"min"};return void 0!==t[0]&&(O.values=t[0]),d=new Yu({props:O}),D.push((()=>Q(d,"values",R))),{c(){J(e.$$.fragment),r=w(),i=y("div"),o=y("div"),a=y("p"),s=b(t[3]),u=w(),c=y("div"),A&&A.c(),l=w(),x&&x.c(),h=w(),P&&P.c(),f=w(),J(d.$$.fragment),E(c,"class","flex flex-row space-x-4"),E(o,"class","flex flex-row justify-between mb-4")},m(t,n){Z(e,t,n),v(t,r,n),v(t,i,n),p(i,o),p(o,a),p(a,s),p(o,u),p(o,c),A&&A.m(c,null),p(c,l),x&&x.m(c,null),p(c,h),P&&P.m(c,null),p(i,f),Z(d,i,null),_=!0},p(t,[r]){const i={};!n&&32&r&&(n=!0,i.data=t[5],q((()=>n=!1))),e.$set(i),(!_||8&r)&&k(s,t[3]),16&r&&(I=t[4].includes(1)),I?A?A.p(t,r):(A=Xu(t),A.c(),A.m(c,l)):A&&(A.d(1),A=null),16&r&&(C=t[4].includes(2)),C?x?x.p(t,r):(x=Qu(t),x.c(),x.m(c,h)):x&&(x.d(1),x=null),16&r&&(T=t[4].includes(3)),T?P?P.p(t,r):(P=Ju(t),P.c(),P.m(c,null)):P&&(P.d(1),P=null);const o={};2&r&&(o.min=t[1]),4&r&&(o.max=t[2]),!g&&1&r&&(g=!0,o.values=t[0],q((()=>g=!1))),d.$set(o)},i(t){_||(Y(e.$$.fragment,t),Y(d.$$.fragment,t),_=!0)},o(t){X(e.$$.fragment,t),X(d.$$.fragment,t),_=!1},d(t){tt(e,t),t&&m(r),t&&m(i),A&&A.d(),x&&x.d(),P&&P.d(),tt(d)}}}function tc(t,e,n){let r,i=100,o=100,a=100,{min:s=0}=e,{max:u=200}=e,{value:c=[100]}=e,{label:l="label"}=e,{id:h=""}=e,{selectedFrames:f=[]}=e;return t.$$set=t=>{"min"in t&&n(1,s=t.min),"max"in t&&n(2,u=t.max),"value"in t&&n(0,c=t.value),"label"in t&&n(3,l=t.label),"id"in t&&n(9,h=t.id),"selectedFrames"in t&&n(4,f=t.selectedFrames)},t.$$.update=()=>{32&t.$$.dirty&&r&&(n(6,i=r.frames[0].adjustments[h]),n(7,o=r.frames[1].adjustments[h]),n(8,a=r.frames[2].adjustments[h]))},[c,s,u,l,f,r,i,o,a,h,function(t){r=t,n(5,r)},function(t){c=t,n(0,c)}]}class ec extends rt{constructor(t){super(),nt(this,t,tc,Zu,o,{min:1,max:2,value:0,label:3,id:9,selectedFrames:4})}}function nc(t){let e,n,r,i;return{c(){e=y("div"),n=y("div"),r=y("p"),i=b(t[1]),E(r,"class","font-semibold text-3xl"),E(n,"class","h-32 w-16 flex justify-center items-center bg-gray-300 rounded-sm"),E(e,"class","p-4 border border-gray-300 rounded")},m(t,o){v(t,e,o),p(e,n),p(n,r),p(r,i)},p(t,e){2&e&&k(i,t[1])},d(t){t&&m(e)}}}function rc(t){let e,n,r,i,o;return{c(){e=y("div"),n=y("div"),r=y("p"),i=b(t[1]),E(r,"class","font-semibold text-3xl"),E(n,"class","h-32 w-16 flex justify-center items-center bg-gray-300 rounded-sm"),E(e,"class",o="p-4 border border-"+t[2]+"-300 rounded ring-1 ring-"+t[2]+"-300")},m(t,o){v(t,e,o),p(e,n),p(n,r),p(r,i)},p(t,n){2&n&&k(i,t[1]),4&n&&o!==(o="p-4 border border-"+t[2]+"-300 rounded ring-1 ring-"+t[2]+"-300")&&E(e,"class",o)},d(t){t&&m(e)}}}function ic(t){let e,n,r;return{c(){e=_("svg"),n=_("path"),E(n,"class",r="text-"+t[2]+"-500 fill-current"),E(n,"fill-rule","evenodd"),E(n,"d","M12 21.6a9.6 9.6 0 100-19.2 9.6 9.6 0 000 19.2zm4.448-11.152a1.2 1.2 0 00-1.696-1.696L10.8 12.703l-1.552-1.551a1.2 1.2 0 00-1.696 1.696l2.4 2.4a1.2 1.2 0 001.696 0l4.8-4.8z"),E(n,"clip-rule","evenodd"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"width","24"),E(e,"height","24"),E(e,"fill","none"),E(e,"viewBox","0 0 24 24")},m(t,r){v(t,e,r),p(e,n)},p(t,e){4&e&&r!==(r="text-"+t[2]+"-500 fill-current")&&E(n,"class",r)},d(t){t&&m(e)}}}function oc(e){let n,r,i,o;function a(t,e){return t[0]?rc:nc}let s=a(e),u=s(e),c=!0===e[0]&&ic(e);return{c(){n=y("div"),u.c(),r=w(),c&&c.c(),E(n,"class","flex flex-col items-center space-y-2 select-none")},m(t,a){v(t,n,a),u.m(n,null),p(n,r),c&&c.m(n,null),i||(o=C(n,"click",e[3]),i=!0)},p(t,[e]){s===(s=a(t))&&u?u.p(t,e):(u.d(1),u=s(t),u&&(u.c(),u.m(n,r))),!0===t[0]?c?c.p(t,e):(c=ic(t),c.c(),c.m(n,null)):c&&(c.d(1),c=null)},i:t,o:t,d(t){t&&m(n),u.d(),c&&c.d(),i=!1,o()}}}function ac(t,e,n){let{frameNumber:r=1}=e,{frameColor:i="blue"}=e,{selected:o=!0}=e;return t.$$set=t=>{"frameNumber"in t&&n(1,r=t.frameNumber),"frameColor"in t&&n(2,i=t.frameColor),"selected"in t&&n(0,o=t.selected)},[o,r,i,()=>n(0,o=!o)]}class sc extends rt{constructor(t){super(),nt(this,t,ac,oc,o,{frameNumber:1,frameColor:2,selected:0})}}function uc(e){let n;return{c(){n=y("div"),n.innerHTML='<p>You&#39;ve gotta sign as Jon! <span class="underline">Sign in</span></p>',E(n,"id","googleAuthButton"),E(n,"class","mx-9 py-2 text-white text-center bg-red-600 border-2 border-red-500 rounded shadow-lg")},m(t,e){v(t,n,e)},p:t,i:t,o:t,d(t){t&&m(n)}}}class cc extends rt{constructor(t){super(),nt(this,t,null,uc,o,{})}}function lc(t){let e,n,i,o,a,s,u,c,l,h,f,d,g,_,b,I,T,k,N,A,x,P,R,O,D,L,M;return D=function(t){let e;return{p(...n){e=n,e.forEach((e=>t.push(e)))},r(){e.forEach((e=>t.splice(t.indexOf(e),1)))}}}(t[6][0]),{c(){e=y("div"),n=y("div"),i=y("div"),o=y("label"),a=y("input"),s=y("span"),s.textContent="Image",u=w(),c=y("label"),l=y("input"),h=y("span"),h.textContent="Video",f=w(),d=y("label"),g=y("input"),_=y("span"),_.textContent="Website (iframe)",b=w(),I=y("label"),T=y("input"),k=y("span"),k.textContent="Sketchfab",N=w(),A=y("input"),x=w(),P=y("button"),P.textContent="Cast",R=w(),O=y("div"),E(a,"type","radio"),E(a,"name","urlType"),a.__value="image",a.value=a.__value,E(a,"class","form-radio h-5 w-5 text-blue-600 svelte-1taoybq"),a.checked=!0,E(s,"class","ml-2 font-medium svelte-1taoybq"),E(o,"class","inline-flex items-center mt-3"),E(l,"type","radio"),E(l,"name","urlType"),l.__value="video",l.value=l.__value,E(l,"class","form-radio h-5 w-5 text-blue-600 svelte-1taoybq"),E(h,"class","ml-2 font-medium svelte-1taoybq"),E(c,"class","inline-flex items-center mt-3"),E(g,"type","radio"),E(g,"name","urlType"),g.__value="iframe",g.value=g.__value,E(g,"class","form-radio h-5 w-5 text-blue-600 svelte-1taoybq"),E(_,"class","ml-2 font-medium svelte-1taoybq"),E(d,"class","inline-flex items-center mt-3"),E(T,"type","radio"),E(T,"name","urlType"),T.__value="sketchfab",T.value=T.__value,E(T,"class","form-radio h-5 w-5 text-blue-600 svelte-1taoybq"),E(k,"class","ml-2 font-medium svelte-1taoybq"),E(I,"class","inline-flex items-center mt-3"),E(i,"class","flex flex-col space-y-6"),E(A,"type","url"),E(A,"name","url"),A.required=!0,E(A,"class","w-full border border-gray-200 rounded placeholder-gray-400"),E(A,"placeholder","url"),E(P,"type","button"),E(P,"name","urlSubmit"),E(P,"class","w-full py-2 border border-gray-200 align-center"),E(n,"class","w-full max-w-md p-8 m-8 space-y-8 bg-white rounded-lg shadow-xl pointer-events-auto "),E(e,"class","fixed w-full h-full flex justify-center items-center z-30 pointer-events-none "),E(O,"class","fixed h-full w-screen flex bg-gray-900 opacity-75 z-20"),D.p(a,l,g,T)},m(r,m){v(r,e,m),p(e,n),p(n,i),p(i,o),p(o,a),a.checked=a.__value===t[1],p(o,s),p(i,u),p(i,c),p(c,l),l.checked=l.__value===t[1],p(c,h),p(i,f),p(i,d),p(d,g),g.checked=g.__value===t[1],p(d,_),p(i,b),p(i,I),p(I,T),T.checked=T.__value===t[1],p(I,k),p(n,N),p(n,A),S(A,t[2]),p(n,x),p(n,P),v(r,R,m),v(r,O,m),L||(M=[C(a,"change",t[5]),C(l,"change",t[7]),C(g,"change",t[8]),C(T,"change",t[9]),C(A,"input",t[10]),C(P,"click",t[4]),C(O,"click",t[3])],L=!0)},p(t,e){2&e&&(a.checked=a.__value===t[1]),2&e&&(l.checked=l.__value===t[1]),2&e&&(g.checked=g.__value===t[1]),2&e&&(T.checked=T.__value===t[1]),4&e&&A.value!==t[2]&&S(A,t[2])},d(t){t&&m(e),t&&m(R),t&&m(O),D.r(),L=!1,r(M)}}}function hc(e){let n,r=e[0]&&lc(e);return{c(){r&&r.c(),n=I()},m(t,e){r&&r.m(t,e),v(t,n,e)},p(t,[e]){t[0]?r?r.p(t,e):(r=lc(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&m(n)}}}function fc(t,e,n){const r=R();let{showCustomUrlModal:i=!1}=e;function o(){n(0,i=!1)}let a="image",s="";return t.$$set=t=>{"showCustomUrlModal"in t&&n(0,i=t.showCustomUrlModal)},[i,a,s,o,function(){r("castUrl",{urlType:a,url:s}),o()},function(){a=this.__value,n(1,a)},[[]],function(){a=this.__value,n(1,a)},function(){a=this.__value,n(1,a)},function(){a=this.__value,n(1,a)},function(){s=this.value,n(2,s)}]}class dc extends rt{constructor(t){super(),nt(this,t,fc,hc,o,{showCustomUrlModal:0})}}(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=n.setTimeout;r.prototype.c=function(t){a(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new r;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Ra(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),a=r.next();!a.done;a=r.next())o(a.value).Ra(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,o(r.value).Ra(i(a.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&s.test(t)?t:""}function l(){}function h(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==h(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),m=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:y).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function w(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function I(t){return t}function C(t,e,n){this.code=k+t,this.message=e||S[t]||"",this.a=n||null}function T(t){var e=t&&t.code;return e?new C(e.substring(k.length),t.message,t.serverResponse):null}w(C,Error),C.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},C.prototype.toJSON=function(){return this.w()};var E,k="auth/",S={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function A(t){for(var e in N)if(N[e].id===t)return{firebaseEndpoint:(t=N[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function x(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function P(t){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function R(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");P.call(this,n+t[r])}function O(t,e){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function D(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function M(){this.b=this.a=null}E=A("__EID__")?"__EID__":void 0,w(P,Error),P.prototype.name="CustomError",w(R,P),R.prototype.name="AssertionError",D.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var F=new D((function(){return new j}),(function(t){t.reset()}));function $(){var t=ge,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function j(){this.next=this.b=this.a=null}M.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},j.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},j.prototype.reset=function(){this.next=this.b=this.a=null};var q=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},U=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var V=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},W=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},B=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function H(t,e){return 0<=q(t,e)}function z(t,e){var n;return(n=0<=(e=q(t,e)))&&Array.prototype.splice.call(t,e,1),n}function K(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function G(t){return Array.prototype.concat.apply([],arguments)}function Y(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var X,Q=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},J=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function at(t,e){return t<e?-1:t>e?1:0}t:{var st=a.navigator;if(st){var ut=st.userAgent;if(ut){X=ut;break t}}X=""}function ct(t){return ot(X,t)}function lt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ht(t){for(var e in t)return!1;return!0}function ft(t){var e,n={};for(e in t)n[e]=t[e];return n}var dt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<dt.length;o++)n=dt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;O("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function mt(t,e){this.a=t===bt&&e||"",this.b=_t}function gt(t){return t instanceof mt&&t.constructor===mt&&t.b===_t?t.a:(O("expected object of type Const, got '"+t+"'"),"type_error:Const")}mt.prototype.ta=!0,mt.prototype.sa=function(){return this.a},mt.prototype.toString=function(){return"Const{"+this.a+"}"};var yt,_t={},bt={};function wt(){if(void 0===yt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:I,createScript:I,createScriptURL:I})}catch(t){a.console&&a.console.error(t.message)}yt=t}else yt=t}return yt}function It(t,e){this.a=e===St?t:""}function Ct(t){return t instanceof It&&t.constructor===It?t.a:(O("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function Tt(t,e){var n=gt(t);if(!kt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=wt();return t=e?e.createScriptURL(t):t,new It(t,St)}(t=n.replace(Et,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof mt?gt(t):encodeURIComponent(String(t))})))}It.prototype.ta=!0,It.prototype.sa=function(){return this.a.toString()},It.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Et=/%{(\w+)}/g,kt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,St={};function Nt(t,e){this.a=e===Lt?t:""}function At(t){return t instanceof Nt&&t.constructor===Nt?t.a:(O("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}Nt.prototype.ta=!0,Nt.prototype.sa=function(){return this.a.toString()},Nt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var xt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Pt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Rt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ot(t){if(t instanceof Nt)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Rt.test(t))t=new Nt(t,Lt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Pt);t=e&&xt.test(e[1])?new Nt(t,Lt):null}return t}function Dt(t){return t instanceof Nt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Rt.test(t)||(t="about:invalid#zClosurez"),new Nt(t,Lt))}var Lt={},Mt=new Nt("about:invalid#zClosurez",Lt);function Ft(t,e,n){this.a=n===$t?t:""}Ft.prototype.ta=!0,Ft.prototype.sa=function(){return this.a.toString()},Ft.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var $t={};function jt(t,e,n,r){return t=t instanceof Nt?t:Dt(t),e=e||a,n=n instanceof mt?gt(n):n||"",e.open(At(t),n,r,void 0)}function qt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ut(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(J,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function Vt(t){return Vt[" "](t),t}Vt[" "]=l;var Wt,Bt,Ht=ct("Opera"),zt=ct("Trident")||ct("MSIE"),Kt=ct("Edge"),Gt=Kt||zt,Yt=ct("Gecko")&&!(ot(X.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),Xt=ot(X.toLowerCase(),"webkit")&&!ct("Edge");function Qt(){var t=a.document;return t?t.documentMode:void 0}t:{var Jt="",Zt=(Bt=X,Yt?/rv:([^\);]+)(\)|;)/.exec(Bt):Kt?/Edge\/([\d\.]+)/.exec(Bt):zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Bt):Xt?/WebKit\/(\S+)/.exec(Bt):Ht?/(?:Version)[ \/]?(\S+)/.exec(Bt):void 0);if(Zt&&(Jt=Zt?Zt[1]:""),zt){var te=Qt();if(null!=te&&te>parseFloat(Jt)){Wt=String(te);break t}}Wt=Jt}var ee,ne={};function re(t){return function(t,e){var n=ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Q(String(Wt)).split("."),r=Q(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=at(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||at(0==a[2].length,0==s[2].length)||at(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(a.document&&zt){var ie=Qt();ee=ie||(parseInt(Wt,10)||void 0)}else ee=void 0;var oe=ee;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Bt){}var ae=!zt||9<=Number(oe);function se(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){lt(e,(function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:he.hasOwnProperty(n)?t.setAttribute(he[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ce,le,he={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ae&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ut(a.name),'"'),a.type){o.push(' type="',Ut(a.type),'"');var s={};pt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=de(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ue(o,a)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(p(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){a="function"==typeof o.item;break t}}a=!1}U(a?Y(o):o,r)}}}(i,o,r),o}function de(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function pe(t){a.setTimeout((function(){throw t}),0)}function ve(t,e){le||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);le=function(){t.then(ye)}}else le=function(){var t=ye;!d(a.setImmediate)||a.Window&&a.Window.prototype&&!ct("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ce||(ce=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(t=function(){var t=de(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=_((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ct("Trident")&&!ct("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),ce(t)):a.setImmediate(t)}}(),me||(le(),me=!0),ge.add(t,e)}var me=!1,ge=new M;function ye(){for(var t;t=$();){try{t.a.call(t.b)}catch(t){pe(t)}L(F,t)}me=!1}function _e(t,e){if(this.a=be,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=l)try{var n=this;t.call(e,(function(t){De(n,we,t)}),(function(t){if(!(t instanceof Ue))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}De(n,Ce,t)}))}catch(t){De(this,Ce,t)}}var be=0,we=2,Ce=3;function Te(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Te.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ee=new D((function(){return new Te}),(function(t){t.reset()}));function ke(t,e,n){var r=Ee.get();return r.g=t,r.b=e,r.f=n,r}function Se(t){if(t instanceof _e)return t;var e=new _e(l);return De(e,we,t),e}function Ne(t){return new _e((function(e,n){n(t)}))}function Ae(t,e,n){Le(t,e,n,null)||ve(b(e,t))}function xe(t){return new _e((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ae(t[o],b(i,o,!0),b(i,o,!1));else e(r)}))}function Pe(t,e){if(t.a==be)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==be&&1==r?Pe(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Fe(n),$e(n,i,Ce,e)))}t.c=null}else De(t,Ce,e)}function Re(t,e){t.b||t.a!=we&&t.a!=Ce||Me(t),t.f?t.f.next=e:t.b=e,t.f=e}function Oe(t,e,n,r){var i=ke(null,null,null);return i.a=new _e((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ue?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,Re(t,i),i.a}function De(t,e,n){t.a==be&&(t===n&&(e=Ce,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Le(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Me(t),e!=Ce||n instanceof Ue||function(t,e){t.g=!0,ve((function(){t.g&&qe.call(null,e)}))}(t,n)))}function Le(t,e,n,r){if(t instanceof _e)return Re(t,ke(e||l,n||null,r)),!0;if(x(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Me(t){t.h||(t.h=!0,ve(t.gc,t))}function Fe(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function $e(t,e,n,r){if(n==Ce&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,je(e,n,r);else try{e.c?e.g.call(e.f):je(e,n,r)}catch(t){qe.call(null,t)}L(Ee,e)}function je(t,e,n){e==we?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}_e.prototype.then=function(t,e,n){return Oe(this,d(t)?t:null,d(e)?e:null,n)},_e.prototype.$goog_Thenable=!0,(t=_e.prototype).oa=function(t,e){return(t=ke(t,t,e)).c=!0,Re(this,t),this},t.o=function(t,e){return Oe(this,null,t,e)},t.cancel=function(t){if(this.a==be){var e=new Ue(t);ve((function(){Pe(this,e)}),this)}},t.$c=function(t){this.a=be,De(this,we,t)},t.ad=function(t){this.a=be,De(this,Ce,t)},t.gc=function(){for(var t;t=Fe(this);)$e(this,t,this.a,this.i);this.h=!1};var qe=pe;function Ue(t){P.call(this,t)}function Ve(){this.ya=this.ya,this.pa=this.pa}w(Ue,P),Ue.prototype.name="cancel";function We(t){!t.ya&&(t.ya=!0,t.Da(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++m)}(t)}Ve.prototype.ya=!1,Ve.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Be=Object.freeze||function(t){return t},He=!zt||9<=Number(oe),ze=zt&&!re("9"),Ke=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",l,e),a.removeEventListener("test",l,e)}catch(t){}return t}();function Ge(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ye(t,e){if(Ge.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Yt){t:{try{Vt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ge.prototype.preventDefault=function(){this.defaultPrevented=!0},w(Ye,Ge);var Xe=Be({2:"touch",3:"pen",4:"mouse"});Ye.prototype.preventDefault=function(){Ye.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ze)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Ye.prototype.g=function(){return this.a};var Qe="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Ze(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++Je,this.wa=this.Qa=!1}function tn(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function en(t){this.src=t,this.a={},this.b=0}function nn(t,e){var n=e.type;n in t.a&&z(t.a[n],e)&&(tn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function rn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}en.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=rn(t,e,r,i);return-1<a?(e=t[a],n||(e.Qa=!1)):((e=new Ze(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var on="closure_lm_"+(1e6*Math.random()|0),an={};function sn(t,e,n,r,i){if(r&&r.once)cn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)sn(t,e[o],n,r,i);else n=yn(n),t&&t[Qe]?bn(t,e,n,p(r)?!!r.capture:!!r,i):un(t,e,n,!1,r,i)}function un(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i,s=mn(t);if(s||(t[on]=s=new en(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=vn,e=He?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ke||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=yn(n),t&&t[Qe]?wn(t,e,n,p(r)?!!r.capture:!!r,i):un(t,e,n,!0,r,i)}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=yn(n),t&&t[Qe]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=rn(o=t.a[e],n,r,i))&&(tn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=mn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=rn(e,n,r,i)),(n=-1<t?e[t]:null)&&hn(n))}function hn(t){if("number"!=typeof t&&t&&!t.wa){var e=t.src;if(e&&e[Qe])nn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mn(e))?(nn(n,t),0==n.b&&(n.src=null,e[on]=null)):tn(t)}}}function fn(t){return t in an?an[t]:an[t]="on"+t}function dn(t,e,n,r){var i=!0;if((t=mn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=pn(o,r),i=i&&!1!==o)}return i}function pn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&hn(t),n.call(r,e)}function vn(t,e){if(t.wa)return!0;if(!He){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ye(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=dn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=dn(r[i],t,!1,e),n=n&&o}return n}return pn(t,new Ye(e,this))}function mn(t){return(t=t[on])instanceof en?t:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(t){return d(t)?t:(t[gn]||(t[gn]=function(e){return t.handleEvent(e)}),t[gn])}function _n(){Ve.call(this),this.v=new en(this),this.bc=this,this.hb=null}function bn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function wn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function In(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&nn(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Cn(t,e,n){if(d(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Tn(t){var e=null;return new _e((function(n,r){-1==(e=Cn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw a.clearTimeout(e),t}))}function En(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function kn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Sn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Sn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Nn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];An(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)An(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function An(t,e){return Object.prototype.hasOwnProperty.call(t,e)}w(_n,Ve),_n.prototype[Qe]=!0,_n.prototype.addEventListener=function(t,e,n,r){sn(this,t,e,n,r)},_n.prototype.removeEventListener=function(t,e,n,r){ln(this,t,e,n,r)},_n.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"==typeof t)t=new Ge(t,n);else if(t instanceof Ge)t.target=t.target||n;else{var i=t;pt(t=new Ge(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=In(a,r,!0,t)&&i}if(i=In(a=t.b=n,r,!0,t)&&i,i=In(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=In(a=t.b=e[o],r,!1,t)&&i;return i},_n.prototype.Da=function(){if(_n.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)tn(n[r]);delete e.a[t],e.b--}}this.hb=null},(t=Sn.prototype).X=function(){Nn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Nn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return An(this.b,t)?this.b[t]:e},t.set=function(t,e){An(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var xn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Pn?(this.i=void 0!==e?e:t.i,Rn(this,t.c),this.l=t.l,this.a=t.a,On(this,t.g),this.f=t.f,Dn(this,Zn(t.b)),this.h=t.h):t&&(n=String(t).match(xn))?(this.i=!!e,Rn(this,n[1]||"",!0),this.l=jn(n[2]||""),this.a=jn(n[3]||"",!0),On(this,n[4]),this.f=jn(n[5]||"",!0),Dn(this,n[6]||"",!0),this.h=jn(n[7]||"")):(this.i=!!e,this.b=new Kn(null,this.i))}function Rn(t,e,n){t.c=n?jn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function On(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Dn(t,e,n){e instanceof Kn?(t.b=e,function(t,e){e&&!t.f&&(Gn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xn(this,e),Jn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=qn(e,Hn)),t.b=new Kn(e,t.i))}function Ln(t,e,n){t.b.set(e,n)}function Mn(t,e){return t.b.get(e)}function Fn(t){return t instanceof Pn?new Pn(t):new Pn(t,void 0)}function $n(t,e,n,r){var i=new Pn(null,void 0);return t&&Rn(i,t),e&&(i.a=e),n&&On(i,n),r&&(i.f=r),i}function jn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Un),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Un(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(qn(e,Vn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(qn(e,Vn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(qn(n,"/"==n.charAt(0)?Bn:Wn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",qn(n,zn)),t.join("")},Pn.prototype.resolve=function(t){var e=new Pn(this),n=!!t.c;n?Rn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)On(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Dn(e,Zn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Vn=/[#\/\?@]/g,Wn=/[#\?:]/g,Bn=/[#\?]/g,Hn=/[#\?@]/g,zn=/#/g;function Kn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Gn(t){t.a||(t.a=new Sn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Yn(t){var e=kn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Kn(null,void 0);t=En(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function Xn(t,e){Gn(t),e=tr(t,e),An(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,An((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Nn(t)))}function Qn(t,e){return Gn(t),e=tr(t,e),An(t.a.b,e)}function Jn(t,e,n){Xn(t,e),0<n.length&&(t.c=null,t.a.set(tr(t,e),Y(n)),t.b+=n.length)}function Zn(t){var e=new Kn;return e.c=t.c,t.a&&(e.a=new Sn(t.a),e.b=t.b),e}function tr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function er(t){var e=[];return rr(new nr,t,e),e.join("")}function nr(){}function rr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),rr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),ar(r,n),n.push(":"),rr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ar(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Kn.prototype).add=function(t,e){Gn(this),this.c=null,t=tr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Gn(this),this.a.forEach((function(n,r){U(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Gn(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){Gn(this);var e=[];if("string"==typeof t)Qn(this,t)&&(e=G(e,this.a.get(tr(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=G(e,t[n])}return e},t.set=function(t,e){return Gn(this),this.c=null,Qn(this,t=tr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ar(t,e){e.push('"',t.replace(or,(function(t){var e=ir[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ir[t]=e),e})),'"')}function sr(){var t=Sr();return zt&&!!oe&&11==oe||/Edge\/\d+/.test(t)}function ur(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function cr(t,e){e=e||a.window;var n="about:blank";t&&(n=At(Ot(t)||Mt)),e.location.href=n}function lr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<lr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function hr(t){return!!((t=(t||Sr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function fr(t){t=t||a.window;try{t.close()}catch(t){}}function dr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Sr().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),Tr(Sr())==Ir&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Nt?n:Ot(void 0!==n.href?n.href:String(n))||Mt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(a=de(document,"A"),"HTMLAnchorElement"),e=e instanceof Nt?e:Dt(e),a.href=At(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=jt("",r,n,a),t=At(e),a&&(Gt&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ut(t)+'">',t=new Ft(t=(r=wt())?r.createHTML(t):t,null,$t),r=a.document)&&(r.write(function(t){return t instanceof Ft&&t.constructor===Ft?t.a:(O("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}(t)),r.close())):(a=jt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function mr(){var t=null;return new _e((function(e){"complete"==a.document.readyState?e():(t=function(){e()},cn(window,"load",t))})).o((function(e){throw ln(window,"load",t),e}))}function gr(t){return t=t||Sr(),!("file:"!==Rr()&&"ionic:"!==Rr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function yr(){var t=a.window;try{return!(!t||t==t.top)}catch(t){return!1}}function _r(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function br(){return Ie.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ie.INTERNAL.hasOwnProperty("node")?"Node":_r()?"Worker":"Browser"}function wr(){var t=br();return"ReactNative"===t||"Node"===t}var Ir="Firefox",Cr="Chrome";function Tr(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?Ir:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Cr:"Safari"}var Er={md:"FirebaseCore-web",od:"FirebaseUI-web"};function kr(t,e){e=e||[];var n,r=[],i={};for(n in Er)i[Er[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=br())?r=Tr(i=Sr()):"Worker"===r&&(r=Tr(i=Sr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Sr(){return a.navigator&&a.navigator.userAgent||""}function Nr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Ar(){try{var t=a.localStorage,e=Fr();if(t)return t.setItem(e,"1"),t.removeItem(e),!sr()||!!a.indexedDB}catch(t){return _r()&&!!a.indexedDB}return!1}function xr(){return(Pr()||"chrome-extension:"===Rr()||gr())&&!wr()&&Ar()&&!_r()}function Pr(){return"http:"===Rr()||"https:"===Rr()}function Rr(){return a.location&&a.location.protocol||null}function Or(t){return!hr(t=t||Sr())&&Tr(t)!=Ir}function Dr(t){return void 0===t?null:er(t)}function Lr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Mr(t){if(null!==t)return JSON.parse(t)}function Fr(t){return t||Math.floor(1e9*Math.random()).toString()}function $r(t){return"Safari"!=Tr(t=t||Sr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function jr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function qr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Sr(),e=br(),this.b=hr(t)||"ReactNative"===e}function Ur(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Vr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Wr(){return!(!Nr("fireauth.oauthhelper",a)&&!Nr("fireauth.iframe",a))}qr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Pr()&&"chrome-extension:"!==Rr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Br,Hr={};function zr(t){Hr[t]||(Hr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Kr={};Object.defineProperty(Kr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Kr,"abcd",{configurable:!0,enumerable:!0,value:2}),Br=2==Kr.abcd}catch(Bt){Br=!1}function Gr(t,e,n){Br?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Yr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Gr(t,n,e[n])}function Xr(t){var e={};return Yr(e,t),e}function Qr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Gr(e,n,Qr(t[n]));return e}function Jr(t){var e=t&&(t[ri]?"phone":null);if(!(e&&t&&t[ni]))throw new C("internal-error","Internal assert: invalid MultiFactorInfo object");Gr(this,"uid",t[ni]),Gr(this,"displayName",t[ti]||null);var n=null;t[ei]&&(n=new Date(t[ei]).toUTCString()),Gr(this,"enrollmentTime",n),Gr(this,"factorId",e)}function Zr(t){try{var e=new ii(t)}catch(t){e=null}return e}Jr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ti="displayName",ei="enrolledAt",ni="mfaEnrollmentId",ri="phoneInfo";function ii(t){Jr.call(this,t),Gr(this,"phoneNumber",t[ri])}function oi(t){var e={},n=t[ci],r=t[hi],i=t[fi];if(t=Zr(t[li]),!i||i!=si&&i!=ui&&!n||i==ui&&!r||i==ai&&!t)throw Error("Invalid checkActionCode response!");i==ui?(e[pi]=n||null,e[mi]=n||null,e[di]=r):(e[pi]=r||null,e[mi]=r||null,e[di]=n||null),e[vi]=t||null,Gr(this,yi,i),Gr(this,gi,Qr(e))}w(ii,Jr),ii.prototype.w=function(){var t=ii.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ai="REVERT_SECOND_FACTOR_ADDITION",si="EMAIL_SIGNIN",ui="VERIFY_AND_CHANGE_EMAIL",ci="email",li="mfaInfo",hi="newEmail",fi="requestType",di="email",pi="fromEmail",vi="multiFactorInfo",mi="previousEmail",gi="data",yi="operation";function _i(t){var e=Mn(t=Fn(t),bi)||null,n=Mn(t,wi)||null,r=Mn(t,Ti)||null;if(r=r&&ki[r]||null,!e||!n||!r)throw new C("argument-error",bi+", "+wi+"and "+Ti+" are required in a valid action code URL.");Yr(this,{apiKey:e,operation:r,code:n,continueUrl:Mn(t,Ii)||null,languageCode:Mn(t,Ci)||null,tenantId:Mn(t,Ei)||null})}var bi="apiKey",wi="oobCode",Ii="continueUrl",Ci="languageCode",Ti="mode",Ei="tenantId",ki={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ai,signIn:si,verifyAndChangeEmail:ui,verifyEmail:"VERIFY_EMAIL"};function Si(t){try{return new _i(t)}catch(t){return null}}function Ni(t){var e=t[Oi];if(void 0===e)throw new C("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new C("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ai];if(n&&"object"==typeof n){e=n[Mi];var r=n[Di];if(n=n[Li],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new C("argument-error",Di+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new C("argument-error",Li+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new C("argument-error",Mi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new C("missing-android-pkg-name")}}else if(void 0!==n)throw new C("argument-error",Ai+" property must be a non null object when specified.");if(this.f=null,(e=t[Ri])&&"object"==typeof e){if("string"==typeof(e=e[Fi])&&e.length)this.f=e;else if(void 0!==e)throw new C("argument-error",Fi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new C("argument-error",Ri+" property must be a non null object when specified.");if(void 0!==(e=t[Pi])&&"boolean"!=typeof e)throw new C("argument-error",Pi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[xi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new C("argument-error",xi+" property must be a non empty string when specified.");this.i=t||null}var Ai="android",xi="dynamicLinkDomain",Pi="handleCodeInApp",Ri="iOS",Oi="url",Di="installApp",Li="minimumVersion",Mi="packageName",Fi="bundleId";function $i(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var ji=null;function qi(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=ji[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!ji){ji={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===ji[o]&&(ji[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e.push(t)})),e}function Ui(t){var e=Wi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Vi(t){try{return new Ui(t)}catch(t){return null}}function Wi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=qi(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(t){}return null}Ui.prototype.T=function(){return this.f},Ui.prototype.l=function(){return this.c},Ui.prototype.toString=function(){return this.h};var Bi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Hi=["client_id","response_type","scope","redirect_uri","state"],zi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Hi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Hi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Hi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Bi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Ki(t){for(var e in zi)if(zi[e].fa==t)return zi[e];return null}function Gi(t){var e={};e["facebook.com"]=Zi,e["google.com"]=eo,e["github.com"]=to,e["twitter.com"]=no;var n=t&&t[Xi];try{if(n)return e[n]?new e[n](t):new Ji(t);if(void 0!==t[Yi])return new Qi(t)}catch(t){}return null}var Yi="idToken",Xi="providerId";function Qi(t){var e=t[Xi];if(!e&&t[Yi]){var n=Vi(t[Yi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Gr(this,"providerId",e),Gr(this,"isNewUser",n)}function Ji(t){Qi.call(this,t),Gr(this,"profile",Qr((t=Mr(t.rawUserInfo||"{}"))||{}))}function Zi(t){if(Ji.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Ji.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Gr(this,"username",this.profile&&this.profile.login||null)}function eo(t){if(Ji.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(t){if(Ji.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Gr(this,"username",t.screenName||null)}function ro(t){var e=Fn(t),n=Mn(e,"link"),r=Mn(Fn(n),"link");return e=Mn(e,"deep_link_id"),Mn(Fn(e),"link")||e||r||n||t}function io(t,e){if(!t&&!e)throw new C("internal-error","Internal assert: no raw session string available");if(t&&e)throw new C("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?oo:ao}w(Ji,Qi),w(Zi,Ji),w(to,Ji),w(eo,Ji),w(no,Ji);var oo="enroll",ao="signin";function so(){}function uo(t,e){return t.then((function(t){if(t[Qa]){var n=Vi(t[Qa]);if(!n||e!=n.i)throw new C("user-mismatch");return t}throw new C("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==k+"user-not-found"?new C("user-mismatch"):t}))}function co(t,e){if(!e)throw new C("internal-error","failed to construct a credential");this.a=e,Gr(this,"providerId",t),Gr(this,"signInMethod",t)}function lo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ho(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new co(t.providerId,t.pendingToken)}catch(t){}return null}function fo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Gr(this,"idToken",e.idToken),e.accessToken&&Gr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Gr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new C("internal-error","failed to construct a credential");Gr(this,"accessToken",e.oauthToken),Gr(this,"secret",e.oauthTokenSecret)}Gr(this,"providerId",t),Gr(this,"signInMethod",n)}function po(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Yn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function vo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new fo(t.providerId,e,t.signInMethod)}catch(t){}}return null}function mo(t,e){this.Qc=e||[],Yr(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(Ki(t)||{}).Ja||null,this.pb=null}function go(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new C("argument-error",'SAML provider IDs must be prefixed with "saml."');mo.call(this,t,[])}function yo(t){mo.call(this,t,Hi),this.a=[]}function _o(){yo.call(this,"facebook.com")}function bo(t){if(!t)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new _o).credential({accessToken:e})}function wo(){yo.call(this,"github.com")}function Io(t){if(!t)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function Co(){yo.call(this,"google.com"),this.Ca("profile")}function To(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new Co).credential({idToken:n,accessToken:e})}function Eo(){mo.call(this,"twitter.com",Bi)}function ko(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new C("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new fo("twitter.com",n,"twitter.com")}function So(t,e,n){this.a=t,this.f=e,Gr(this,"providerId","password"),Gr(this,"signInMethod",n===Ao.EMAIL_LINK_SIGN_IN_METHOD?Ao.EMAIL_LINK_SIGN_IN_METHOD:Ao.EMAIL_PASSWORD_SIGN_IN_METHOD)}function No(t){return t&&t.email&&t.password?new So(t.email,t.password,t.signInMethod):null}function Ao(){Yr(this,{providerId:"password",isOAuthProvider:!1})}function xo(t,e){if(!(e=Po(e)))throw new C("argument-error","Invalid email link!");return new So(t,e.code,Ao.EMAIL_LINK_SIGN_IN_METHOD)}function Po(t){return(t=Si(t=ro(t)))&&t.operation===si?t:null}function Ro(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new C("internal-error");this.a=t,Gr(this,"providerId","phone"),this.fa="phone",Gr(this,"signInMethod","phone")}function Oo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return U(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Ro(e)}return null}function Do(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function Lo(t){try{this.a=t||Ie.auth()}catch(t){throw new C("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Yr(this,{providerId:"phone",isOAuthProvider:!1})}function Mo(t,e){if(!t)throw new C("missing-verification-id");if(!e)throw new C("missing-verification-code");return new Ro({fb:t,eb:e})}function Fo(t){if(t.temporaryProof&&t.phoneNumber)return new Ro({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return To(o,n);case"facebook.com":return bo(n);case"github.com":return Io(n);case"twitter.com":return ko(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new co(e,a):new fo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new yo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function $o(t){if(!t.isOAuthProvider)throw new C("invalid-oauth-provider")}function jo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new C("invalid-auth-event");if(this.g&&this.a)throw new C("invalid-auth-event");if(this.g&&!this.f)throw new C("invalid-auth-event")}function qo(t){return(t=t||{}).type?new jo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&T(t.error),t.postBody,t.tenantId):null}function Uo(){this.b=null,this.a=[]}io.prototype.Ha=function(){return this.a?Se(this.a):Se(this.b)},io.prototype.w=function(){return this.type==oo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},so.prototype.ka=function(){},so.prototype.b=function(){},so.prototype.c=function(){},so.prototype.w=function(){},co.prototype.ka=function(t){return _s(t,lo(this))},co.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,bs(t,n)},co.prototype.c=function(t,e){return uo(ws(t,lo(this)),e)},co.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},fo.prototype.ka=function(t){return _s(t,po(this))},fo.prototype.b=function(t,e){var n=po(this);return n.idToken=e,bs(t,n)},fo.prototype.c=function(t,e){return uo(ws(t,po(this)),e)},fo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},mo.prototype.Ka=function(t){return this.Jb=ft(t),this},w(go,mo),w(yo,mo),yo.prototype.Ca=function(t){return H(this.a,t)||this.a.push(t),this},yo.prototype.Rb=function(){return Y(this.a)},yo.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new C("argument-error","credential failed: must provide the ID token and/or the access token.");return new fo(this.providerId,n,this.providerId)},w(_o,yo),Gr(_o,"PROVIDER_ID","facebook.com"),Gr(_o,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),w(wo,yo),Gr(wo,"PROVIDER_ID","github.com"),Gr(wo,"GITHUB_SIGN_IN_METHOD","github.com"),w(Co,yo),Gr(Co,"PROVIDER_ID","google.com"),Gr(Co,"GOOGLE_SIGN_IN_METHOD","google.com"),w(Eo,mo),Gr(Eo,"PROVIDER_ID","twitter.com"),Gr(Eo,"TWITTER_SIGN_IN_METHOD","twitter.com"),So.prototype.ka=function(t){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?nu(t,As,{email:this.a,oobCode:this.f}):nu(t,Qs,{email:this.a,password:this.f})},So.prototype.b=function(t,e){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?nu(t,xs,{idToken:e,email:this.a,oobCode:this.f}):nu(t,Ws,{idToken:e,email:this.a,password:this.f})},So.prototype.c=function(t,e){return uo(this.ka(t),e)},So.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Yr(Ao,{PROVIDER_ID:"password"}),Yr(Ao,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Yr(Ao,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ro.prototype.ka=function(t){return t.gb(Do(this))},Ro.prototype.b=function(t,e){var n=Do(this);return n.idToken=e,nu(t,Zs,n)},Ro.prototype.c=function(t,e){var n=Do(this);return n.operation="REAUTH",uo(t=nu(t,tu,n),e)},Ro.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Lo.prototype.gb=function(t,e){var n=this.a.a;return Se(e.verify()).then((function(r){if("string"!=typeof r)throw new C("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===e.type){var i,o=p(t)?t.session:null,a=p(t)?t.phoneNumber:t;return i=o&&o.type==oo?o.Ha().then((function(t){return function(t,e){return nu(t,Hs,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==ao?o.Ha().then((function(e){return function(t,e){return nu(t,zs,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return nu(t,Us,e)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}))}throw new C("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},Yr(Lo,{PROVIDER_ID:"phone"}),Yr(Lo,{PHONE_SIGN_IN_METHOD:"phone"}),jo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},jo.prototype.T=function(){return this.h},jo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Vo,Wo=null;function Bo(t){var e="unauthorized-domain",n=void 0,r=Fn(t);t=r.a,"chrome-extension"==(r=r.c)?n=qt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=qt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",C.call(this,e,n)}function Ho(t,e,n){C.call(this,t,n),(t=e||{}).Kb&&Gr(this,"email",t.Kb),t.ea&&Gr(this,"phoneNumber",t.ea),t.credential&&Gr(this,"credential",t.credential),t.$b&&Gr(this,"tenantId",t.$b)}function zo(t){if(t.code){var e=t.code||"";0==e.indexOf(k)&&(e=e.substring(k.length));var n={credential:Fo(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new C(e,t.message||void 0);return new Ho(e,n,t.message)}return null}function Ko(){}function Go(t){return t.c||(t.c=t.b())}function Yo(){}function Xo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Qo(){}function Jo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.qc,this),this.a.onerror=_(this.Tb,this),this.a.onprogress=_(this.rc,this),this.a.ontimeout=_(this.vc,this)}function Zo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ta(t,e,n){this.reset(t,e,n,void 0,void 0)}function ea(t){this.f=t,this.b=this.c=this.a=null}function na(t,e){this.name=t,this.value=e}w(Bo,C),w(Ho,C),Ho.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&pt(t,e),t},Ho.prototype.toJSON=function(){return this.w()},Ko.prototype.c=null,w(Yo,Ko),Yo.prototype.a=function(){var t=Xo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Yo.prototype.b=function(){var t={};return Xo(this)&&(t[0]=!0,t[1]=!0),t},Vo=new Yo,w(Qo,Ko),Qo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Jo;throw Error("Unsupported browser")},Qo.prototype.b=function(){return{}},(t=Jo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Zo(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",Zo(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,Zo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ta.prototype.a=null,ta.prototype.reset=function(t,e,n,r,i){delete this.a},na.prototype.toString=function(){return this.name};var ra=new na("SEVERE",1e3),ia=new na("WARNING",900),oa=new na("CONFIG",700),aa=new na("FINE",500);function sa(t){return t.c?t.c:t.a?sa(t.a):(O("Root logger has no level set."),null)}ea.prototype.log=function(t,e,n){if(t.value>=sa(this).value)for(d(e)&&(e=e()),t=new ta(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ua={},ca=null;function la(t){var e;if(ca||(ca=new ea(""),ua[""]=ca,ca.c=oa),!(e=ua[t])){e=new ea(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=la(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ua[t]=e}return e}function ha(t,e){t&&t.log(aa,e,void 0)}function fa(t){this.f=t}function da(t){_n.call(this),this.u=t,this.h=void 0,this.readyState=pa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=la("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}w(fa,Ko),fa.prototype.a=function(){return new da(this.f)},fa.prototype.b=function(t){return function(){return t}}({}),w(da,_n);var pa=0;function va(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function ma(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ga(t)}function ga(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ya(t){_n.call(this),this.headers=new Sn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=_a,this.u=this.S=!1}(t=da.prototype).open=function(t,e){if(this.readyState!=pa)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ga(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ma(this)),this.readyState=pa},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ga(this)),this.a&&(this.readyState=3,ga(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,va(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ma(this):ga(this),3==this.readyState&&va(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ma(this))},t.sc=function(t){this.a&&(this.response=t,ma(this))},t.Va=function(t){var e=this.i;e&&e.log(ia,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ma(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ia,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ia,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(da.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),w(ya,_n);var _a="";ya.prototype.b=la("goog.net.XhrIo");var ba=/^https?$/i,wa=["POST","PUT"];function Ia(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Vo.a(),t.C=t.D?Go(t.D):Go(Vo),t.a.onreadystatechange=_(t.Wb,t);try{ha(t.b,Pa(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(e){return ha(t.b,Pa(t,"Error opening Xhr: "+e.message)),void Ta(t,e)}e=r||"";var o=new Sn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)U(t,e,void 0);else for(var n=kn(t),r=En(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Ca,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!H(wa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Na(t),0<t.g&&(t.u=function(t){return zt&&re(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ha(t.b,Pa(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=_(t.Ma,t)):t.s=Cn(t.Ma,t.g,t)),ha(t.b,Pa(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){ha(t.b,Pa(t,"Send error: "+e.message)),Ta(t,e)}}function Ca(t){return"content-type"==t.toLowerCase()}function Ta(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ea(t),Sa(t)}function Ea(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ka(t){if(t.c&&void 0!==o)if(t.C[1]&&4==Aa(t)&&2==xa(t))ha(t.b,Pa(t,"Local request error detected and ignored"));else if(t.i&&4==Aa(t))Cn(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==Aa(t)){ha(t.b,Pa(t,"Request complete")),t.c=!1;try{var e,n=xa(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.l).match(xn)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!ba.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Aa(t)?t.a.statusText:""}catch(e){ha(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+xa(t)+"]",Ea(t)}}finally{Sa(t)}}}function Sa(t,e){if(t.a){Na(t);var n=t.a,r=t.C[0]?l:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(ra,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Na(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function Aa(t){return t.a?t.a.readyState:0}function xa(t){try{return 2<Aa(t)?t.a.status:-1}catch(t){return-1}}function Pa(t,e){return e+" ["+t.P+" "+t.l+" "+xa(t)+"]"}function Ra(t){var e=Wa;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Oa(t,e,n){t.a=!0,t.c=n,t.f=!e,Fa(t)}function Da(t){if(t.a){if(!t.v)throw new $a;t.v=!1}}function La(t,e,n,r){t.g.push([e,n,r]),t.a&&Fa(t)}function Ma(t){return B(t.g,(function(t){return d(t[1])}))}function Fa(t){if(t.h&&t.a&&Ma(t)){var e=t.h,n=Ua[e];n&&(a.clearTimeout(n.a),delete Ua[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(x(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Ma(t)||(n=!0)}}t.c=e,r&&(u=_(t.m,t,!0),r=_(t.m,t,!1),e instanceof Ra?(La(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new qa(e),Ua[e.a]=e,t.h=e.a)}function $a(){P.call(this)}function ja(){P.call(this)}function qa(t){this.a=a.setTimeout(_(this.c,this),0),this.b=t}(t=ya.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ha(this.b,Pa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ha(this.b,Pa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Sa(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Sa(this,!0)),ya.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?ka(this):this.Jc())},t.Jc=function(){ka(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case _a:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ra,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ha(this.b,"Can not get response: "+t.message),null}},Ra.prototype.cancel=function(t){if(this.a)this.c instanceof Ra&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new ja,Da(this),Oa(this,!1,t))}},Ra.prototype.m=function(t,e){this.i=!1,Oa(this,t,e)},Ra.prototype.then=function(t,e,n){var r,i,o=new _e((function(t,e){r=t,i=e}));return La(this,r,(function(t){t instanceof ja?o.cancel():i(t)})),o.then(t,e,n)},Ra.prototype.$goog_Thenable=!0,w($a,P),$a.prototype.message="Deferred has already fired",$a.prototype.name="AlreadyCalledError",w(ja,P),ja.prototype.message="Deferred was canceled",ja.prototype.name="CanceledError",qa.prototype.c=function(){throw delete Ua[this.a],this.b};var Ua={};function Va(t){var e={},n=e.document||document,r=Ct(t).toString(),i=de(document,"SCRIPT"),o={Xb:i,Ma:void 0},s=new Ra(o),l=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(l=window.setTimeout((function(){Ba(i,!0);var t=new Ka(za,"Timeout reached for loading script "+r);Da(s),Oa(s,!1,t)}),h),o.Ma=l),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ba(i,e.xd||!1,l),Da(s),Oa(s,!0,null))},i.onerror=function(){Ba(i,!0,l);var t=new Ka(Ha,"Error while loading script "+r);Da(s),Oa(s,!1,t)},pt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ue(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=Ct(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=c(e.document):(null===u&&(u=c(a.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Wa(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Ba(t,!0,this.Ma)}}function Ba(t,e,n){null!=n&&a.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ha=0,za=1;function Ka(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),P.call(this,n),this.code=t}function Ga(t){this.f=t}function Ya(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ja,this.g=ft(t.secureTokenHeaders||Za),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||ts,this.a=ft(t.firebaseHeaders||es),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==br(),!(n=a.XMLHttpRequest||n&&Ie.INTERNAL.node&&Ie.INTERNAL.node.XMLHttpRequest)&&!_r())throw new C("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,_r()?this.f=new fa(self):wr()?this.f=new Ga(n):this.f=new Qo,this.b=null}w(Ka,P),w(Ga,Ko),Ga.prototype.a=function(){return new this.f},Ga.prototype.b=function(){return{}};var Xa,Qa="idToken",Ja=new qr(3e4,6e4),Za={"Content-Type":"application/x-www-form-urlencoded"},ts=new qr(3e4,6e4),es={"Content-Type":"application/json"};function ns(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function rs(t,e){e&&(t.l=is("https://securetoken.googleapis.com/v1/token",e),t.h=is("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=is("https://identitytoolkit.googleapis.com/v2/",e))}function is(t,e){return t=Fn(t),e=Fn(e.url),t.f=t.a+t.f,Rn(t,e.c),t.a=e.a,On(t,e.g),t.toString()}function os(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function as(t,e,n,r,i,o,s){(function(){var t=Sr();return!((t=Tr(t)!=Cr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||zt&&oe&&!(9<oe))})()||_r()?t=_(t.u,t):(Xa||(Xa=new _e((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{a[us]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){La(t,null,e,void 0)}(Va(Tt(ss,{onload:us})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=_(t.s,t)),t(e,n,r,i,o,s)}Ya.prototype.T=function(){return this.b},Ya.prototype.u=function(t,e,n,r,i,o){if(_r()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new C("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ya(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout((function(){s.dispatchEvent("timeout")}),o)}bn(s,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ha(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),wn(s,"ready",(function(){u&&clearTimeout(u),We(this)})),wn(s,"timeout",(function(){u&&clearTimeout(u),We(this),e&&e(null)})),Ia(s,t,n,r,i)};var ss=new mt(bt,"https://apis.google.com/js/client.js?onload=%{onload}"),us="__fcb"+Math.floor(1e6*Math.random()).toString();function cs(t,e,n,r,i,o,a){var s=Fn(e+n);Ln(s,"key",t.c),a&&Ln(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Ln(s,c,i[c]);return new _e((function(e,n){as(t,s.toString(),(function(t){t?t.error?n(iu(t,o||{})):e(t):n(new C("network-request-failed"))}),r,u?void 0:er(Lr(i)),t.a,t.v.get())}))}function ls(t){if("string"!=typeof(t=t.email)||!vr.test(t))throw new C("invalid-email")}function hs(t){"email"in t&&ls(t)}function fs(t){if(!t[Qa]){if(t.mfaPendingCredential)throw new C("multi-factor-auth-required",null,ft(t));throw new C("internal-error")}}function ds(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new C("internal-error")}else{if(!t.sessionInfo)throw new C("missing-verification-id");if(!t.code)throw new C("missing-verification-code")}}Ya.prototype.s=function(t,e,n,r,i){var o=this;Xa.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ya.prototype.Ab=function(){return nu(this,Bs,{})},Ya.prototype.Cb=function(t,e){return nu(this,Vs,{idToken:t,email:e})},Ya.prototype.Db=function(t,e){return nu(this,Ws,{idToken:t,password:e})};var ps={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function vs(t){if(!t.phoneVerificationInfo)throw new C("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new C("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new C("missing-verification-code")}function ms(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new C("internal-error")}function gs(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Qn(t=new Kn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ys(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=zo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=zo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=zo(t)):t.errorMessage&&(e=ru(t.errorMessage)),e)throw e;fs(t)}function _s(t,e){return e.returnIdpCredential=!0,nu(t,Ks,e)}function bs(t,e){return e.returnIdpCredential=!0,nu(t,Ys,e)}function ws(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,nu(t,Gs,e)}function Is(t){if(!t.oobCode)throw new C("invalid-action-code")}(t=Ya.prototype).Eb=function(t,e){var n={idToken:t},r=[];return lt(ps,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),nu(this,Vs,n)},t.wb=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),nu(this,Fs,t)},t.xb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),nu(this,Ds,t)},t.vb=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),nu(this,Ls,t)},t.Fb=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),nu(this,Ms,t)},t.gb=function(t){return nu(this,Js,t)},t.ob=function(t,e){return nu(this,qs,{oobCode:t,newPassword:e})},t.Sa=function(t){return nu(this,Ts,{oobCode:t})},t.kb=function(t){return nu(this,Cs,{oobCode:t})};var Cs={endpoint:"setAccountInfo",A:Is,Z:"email",B:!0},Ts={endpoint:"resetPassword",A:Is,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new C("internal-error")},B:!0},Es={endpoint:"signupNewUser",A:function(t){if(ls(t),!t.password)throw new C("weak-password")},G:fs,V:!0,B:!0},ks={endpoint:"createAuthUri",B:!0},Ss={endpoint:"deleteAccount",O:["idToken"]},Ns={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new C("internal-error")}},As={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ls,G:fs,V:!0,B:!0},xs={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ls,G:fs,V:!0},Ps={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:vs,G:fs,B:!0,Na:!0},Rs={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:vs,G:fs,B:!0,Na:!0},Os={endpoint:"getAccountInfo"},Ds={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new C("internal-error");ls(t)},Z:"email",B:!0},Ls={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new C("internal-error")},Z:"email",B:!0},Ms={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new C("internal-error")},Z:"email",B:!0},Fs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new C("internal-error");ls(t)},Z:"email",B:!0},$s={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},js={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new C("internal-error")}},qs={endpoint:"resetPassword",A:Is,Z:"email",B:!0},Us={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Vs={endpoint:"setAccountInfo",O:["idToken"],A:hs,V:!0},Ws={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(hs(t),!t.password)throw new C("weak-password")},G:fs,V:!0},Bs={endpoint:"signupNewUser",G:fs,V:!0,B:!0},Hs={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new C("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new C("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},zs={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},Ks={endpoint:"verifyAssertion",A:ms,Za:gs,G:ys,V:!0,B:!0},Gs={endpoint:"verifyAssertion",A:ms,Za:gs,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new C("user-not-found");if(t.errorMessage)throw ru(t.errorMessage);fs(t)},V:!0,B:!0},Ys={endpoint:"verifyAssertion",A:function(t){if(ms(t),!t.idToken)throw new C("internal-error")},Za:gs,G:ys,V:!0},Xs={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new C("invalid-custom-token")},G:fs,V:!0,B:!0},Qs={endpoint:"verifyPassword",A:function(t){if(ls(t),!t.password)throw new C("wrong-password")},G:fs,V:!0,B:!0},Js={endpoint:"verifyPhoneNumber",A:ds,G:fs,B:!0},Zs={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new C("internal-error");ds(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",zo(t);fs(t)}},tu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ds,G:fs,B:!0},eu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Qa]^!!t.refreshToken)throw new C("internal-error")},B:!0,Na:!0};function nu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.O))return Ne(new C("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return Se(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),cs(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)})).then((function(t){return r=t,e.Za?e.Za(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new C("internal-error");return r[e.Z]}))}function ru(t){return iu({error:{errors:[{message:t}],code:400,message:t}})}function iu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new C(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",pt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new C(r[i],e);return!e&&t&&(e=Dr(t)),new C("internal-error",e)}function ou(t){this.b=t,this.a=null,this.sb=function(t){return(cu||(cu=new _e((function(t,e){function n(){jr(),Nr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){jr(),e(Error("Network Error"))},timeout:su.get()})}if(Nr("gapi.iframes.Iframe"))t();else if(Nr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Nr("gapi.load")?n():e(Error("Network Error"))},Se(Va(r=Tt(au,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw cu=null,t})))).then((function(){return new _e((function(e,n){Nr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),uu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var au=new mt(bt,"https://apis.google.com/js/api.js?onload=%{onload}"),su=new qr(3e4,6e4),uu=new qr(5e3,15e3),cu=null;function lu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=$n((t=Fn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=$n("https",this.l,null,"/__/auth/iframe"),this.a=t,Ln(this.a,"apiKey",this.h),Ln(this.a,"appName",this.i),this.b=null,this.c=[]}function hu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function fu(t){try{return Ie.app(t).auth().Ga()}catch(t){return[]}}function du(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function pu(t){var e=ur();return function(t){return nu(t,$s,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Fn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Fn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:pr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Bo(ur())}))}function vu(t){return t.m||(t.m=mr().then((function(){if(!t.u){var e=t.c,n=t.i,r=fu(t.b),i=new lu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Y(r||[]),t.u=i.toString()}t.v=new ou(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then((function(){t.a.register("authEvent",e,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=qo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Se(n)}return n.status="ERROR",Se(n)}))}(t)}))),t.m}function mu(t){return t.l||(t.C=t.c?kr(t.c,fu(t.b)):null,t.l=new Ya(t.g,A(t.i),t.C),t.f&&rs(t.l,t.f)),t.l}function gu(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new hu(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=ft(u||null),t.f=c,t.zb(l).toString()}function yu(t){if(this.a=t||Ie.INTERNAL.reactNative&&Ie.INTERNAL.reactNative.AsyncStorage,!this.a)throw new C("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function _u(t){this.b=t,this.a={},this.f=_(this.c,this)}lu.prototype.toString=function(){return this.f?Ln(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Ln(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Ln(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},hu.prototype.zb=function(t){return this.h=t,this},hu.prototype.toString=function(){if(this.v){var t=Fn(this.v.url);t=$n(t.c,t.a,t.g,"/emulator/auth/handler")}else t=$n("https",this.u,null,"/__/auth/handler");if(Ln(t,"apiKey",this.s),Ln(t,"appName",this.c),Ln(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=Ie.app(this.c).auth().la()}catch(t){n=null}for(var r in e.pb=n,Ln(t,"providerId",this.a.providerId),e=Lr((n=this.a).Jb))e[r]=e[r].toString();r=n.Qc,e=ft(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),ht(e)||Ln(t,"customParameters",Dr(e))}if("function"==typeof this.a.Rb&&((n=this.a.Rb()).length&&Ln(t,"scopes",n.join(","))),this.l?Ln(t,"redirectUrl",this.l):Xn(t.b,"redirectUrl"),this.g?Ln(t,"eventId",this.g):Xn(t.b,"eventId"),this.i?Ln(t,"v",this.i):Xn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Mn(t,a)&&Ln(t,a,this.b[a]);return this.h?Ln(t,"tid",this.h):Xn(t.b,"tid"),this.f?Ln(t,"eid",this.f):Xn(t.b,"eid"),(a=fu(this.c)).length&&Ln(t,"fw",a.join(",")),t.toString()},(t=du.prototype).Pb=function(t,e,n){var r=new C("popup-closed-by-user"),i=new C("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return vu(t).then((function(){return function(t,e){return t.sb.then((function(){return new _e((function(n){t.a.send(e.type,e,n,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&fr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new _e((function(e){return function n(){Tn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return Tn(n).then((function(){e(r)}))}))},t.Yb=function(){var t=Sr();return!Or(t)&&!$r(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,a,s){if(!t)return Ne(new C("popup-blocked"));if(a&&!Or())return this.ma().o((function(e){fr(t),i(e)})),r(),Se();this.a||(this.a=pu(mu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw fr(t),i(e),e}));return r(),e})).then((function(){($o(n),a)||cr(gu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Ob=function(t,e,n,r){this.a||(this.a=pu(mu(this)));var i=this;return this.a.then((function(){$o(e),cr(gu(i.s,i.g,i.b,t,e,ur(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return vu(this).then((function(){return t.v.sb})).o((function(){throw t.a=null,new C("network-request-failed")}))},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){K(this.h,(function(e){return e==t}))},(t=yu.prototype).get=function(t){return Se(this.a.getItem(t)).then((function(t){return t&&Mr(t)}))},t.set=function(t,e){return Se(this.a.setItem(t,Dr(e)))},t.U=function(t){return Se(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var bu,wu=[];function Iu(t,e,n){ht(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Cu(t){this.a=t}function Tu(t){this.c=t,this.b=!1,this.a=[]}function Eu(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ne(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _e((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return ku(t,c),e})).o((function(e){throw ku(t,c),e}))}function ku(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),K(t.a,(function(t){return t==e}))}}function Su(){if(!Pu())throw new C("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;_r()&&self?(this.v=function(){var t=_r()?self:null;if(U(wu,(function(n){n.b==t&&(e=n)})),!e){var e=new _u(t);wu.push(e)}return e}(),Iu(this.v,"keyChanged",(function(e,n){return Mu(t).then((function(e){return 0<e.length&&U(t.a,(function(t){t(e)})),{keyProcessed:H(e,n.key)}}))})),Iu(this.v,"ping",(function(){return Se(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?Se().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Se(null)}().then((function(e){(t.h=e)&&(t.g=new Tu(new Cu(e)),Eu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&H(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Nu(t){return new _e((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new _e((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Nu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Au(t){return t.i||(t.i=Nu(t)),t.i}function xu(t,e){var n=0;return new _e((function r(i,o){Au(t).then(e).then(i).o((function(e){if(!(3<++n))return Au(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Pu(){try{return!!a.indexedDB}catch(t){return!1}}function Ru(t){return t.objectStore("firebaseLocalStorage")}function Ou(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Du(t){return new _e((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Lu(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Eu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Se()}function Mu(t){return Au(t).then((function(t){var e=Ru(Ou(t,!1));return e.getAll?Du(e.getAll()):new _e((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=lr(t.c,n),t.c=n}return r}))}function Fu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function $u(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Se().then((function(){if(Pu()){var t=Fr(),r="__sak"+t;return bu||(bu=new Su),(n=bu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){U(e.a,(function(e){e(t)}))})),t}))}function ju(){this.a={},this.type="inMemory"}function qu(){if(!function(){var t="Node"==br();if(t=Uu()||t&&Ie.INTERNAL.node&&Ie.INTERNAL.node.localStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==br())throw new C("internal-error","The LocalStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=Uu()||Ie.INTERNAL.node.localStorage,this.type="localStorage"}function Uu(){try{var t=a.localStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Vu(){this.type="nullStorage"}function Wu(){if(!function(){var t="Node"==br();if(t=Bu()||t&&Ie.INTERNAL.node&&Ie.INTERNAL.node.sessionStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==br())throw new C("internal-error","The SessionStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=Bu()||Ie.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Bu(){try{var t=a.sessionStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Hu(){var t={};t.Browser=Gu,t.Node=Yu,t.ReactNative=Xu,t.Worker=Qu,this.a=t[br()]}_u.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];U(r,(function(e){i.push(Se().then((function(){return e(t.origin,t.data.data)})))})),xe(i).then((function(r){var i=[];U(r,(function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})})),U(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Cu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Tu.prototype.close=function(){for(;0<this.a.length;)ku(this,this.a[0]);this.b=!0},(t=Su.prototype).set=function(t,e){var n=this,r=!1;return xu(this,(function(e){return Du((e=Ru(Ou(e,!0))).get(t))})).then((function(i){return xu(n,(function(o){if(o=Ru(Ou(o,!0)),i)return i.value=e,Du(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Du(o.add(a))}))})).then((function(){return n.c[t]=e,Lu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return xu(this,(function(e){return Du(Ru(Ou(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return xu(this,(function(r){return n=!0,e.b++,Du(Ru(Ou(r,!0)).delete(t))})).then((function(){return delete e.c[t],Lu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Mu(t).then((function(e){0<e.length&&U(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Fu(t),e()}(this),this.a.push(t)},t.ia=function(t){K(this.a,(function(e){return e==t})),0==this.a.length&&Fu(this)},(t=$u.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){K(this.a,(function(e){return e==t}))},(t=ju.prototype).get=function(t){return Se(this.a[t])},t.set=function(t,e){return this.a[t]=e,Se()},t.U=function(t){return delete this.a[t],Se()},t.ca=function(){},t.ia=function(){},(t=qu.prototype).get=function(t){var e=this;return Se().then((function(){return Mr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var r=Dr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ca=function(t){a.window&&sn(a.window,"storage",t)},t.ia=function(t){a.window&&ln(a.window,"storage",t)},(t=Vu.prototype).get=function(){return Se(null)},t.set=function(){return Se()},t.U=function(){return Se()},t.ca=function(){},t.ia=function(){},(t=Wu.prototype).get=function(t){var e=this;return Se().then((function(){return Mr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var r=Dr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var zu,Ku,Gu={F:qu,cb:Wu},Yu={F:qu,cb:Wu},Xu={F:yu,cb:Vu},Qu={F:qu,cb:Vu},Ju={rd:"local",NONE:"none",td:"session"};function Zu(){var t=!($r(Sr())||!yr()),e=Or(),n=Ar();this.m=t,this.h=e,this.l=n,this.a={},zu||(zu=new Hu),t=zu;try{this.g=!sr()&&Wr()||!a.indexedDB?new t.a.F:new $u(_r()?new ju:new t.a.F)}catch(t){this.g=new ju,this.h=!0}try{this.i=new t.a.cb}catch(t){this.i=new ju}this.v=new ju,this.f=_(this.Zb,this),this.b={}}function tc(){return Ku||(Ku=new Zu),Ku}function ec(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function nc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function rc(t,e,n){return n=nc(e,n),"local"==e.F&&(t.b[n]=null),ec(t,e.F).U(n)}function ic(t){t.c&&(clearInterval(t.c),t.c=null)}function oc(t){this.a=t,this.b=tc()}(t=Zu.prototype).get=function(t,e){return ec(this,t.F).get(nc(t,e))},t.set=function(t,e,n){var r=nc(t,n),i=this,o=ec(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=nc(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),ht(this.a)&&(ec(this,"local").ca(this.f),this.h||(sr()||!Wr())&&a.indexedDB||!this.l||function(t){ic(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ye({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=nc(t,e),this.a[t]&&(K(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ht(this.a)&&(ec(this,"local").ia(this.f),ic(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?ec(this,"local").ia(this.f):ic(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.nb(e))},zt&&oe&&10==oe&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else U(t,_(this.nb,this))},t.nb=function(t){this.a[t]&&U(this.a[t],(function(t){t()}))};var ac,sc={name:"authEvent",F:"local"};function uc(){this.a=tc()}function cc(t,e){this.b=lc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===ac&&(ac=a.Int32Array?new Int32Array(gc):gc),this.reset()}w(cc,(function(){this.b=-1}));for(var lc=64,hc=lc-1,fc=[],dc=0;dc<hc;dc++)fc[dc]=0;var pc=G(128,fc);function vc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|ac[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function mc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(vc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(vc(t),i=0)}}t.c=i,t.g+=n}cc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Y(this.h)};var gc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function yc(){cc.call(this,8,_c)}w(yc,cc);var _c=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function bc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new uc,this.g=new oc(this.h),this.f=null,this.b=[],this.a=this.c=null}function wc(t){return new C("invalid-cordova-configuration",t)}function Ic(t){var e=new yc;mc(e,t),t=[];var n=8*e.g;56>e.c?mc(e,pc,56-e.c):mc(e,pc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(vc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return W(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Cc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Tc(t){return t.f||(t.f=t.ma().then((function(){return new _e((function(e){t.Ea((function n(r){return e(r),t.Ta(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Ec(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=ro(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Mr(Mn(o=Fn(i),"firebaseError")||null))?T(o):null)?new jo(r.c,r.b,null,null,o,null,r.T()):new jo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Cc(t,i)}))}var n=new jo("unknown",null,null,null,new C("no-auth-event")),r=!1,i=Tn(500).then((function(){return Ec(t).then((function(){r||Cc(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Nr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Wo||(Wo=new Uo),function(t){var e=Wo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Nr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Ec(t){var e=null;return function(t){return t.b.get(sc,t.a).then((function(t){return qo(t)}))}(t.g).then((function(n){return e=n,rc((n=t.g).b,sc,n.a)})).then((function(){return e}))}function kc(t){this.a=t,this.b=tc()}(t=bc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(gr(void 0)?mr().then((function(){return new _e((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ne(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Nr("universalLinks.subscribe",a))throw wc("cordova-universal-links-plugin-fix is not installed");if(void 0===Nr("BuildInfo.packageName",a))throw wc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Nr("cordova.plugins.browsertab.openUrl",a))throw wc("cordova-plugin-browsertab is not installed");if("function"!=typeof Nr("cordova.InAppBrowser.open",a))throw wc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new C("cordova-not-ready")}))},t.Pb=function(t,e){return e(new C("operation-not-supported-in-this-environment")),Se()},t.Nb=function(){return Ne(new C("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return Ne(new C("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=Se().then((function(){return $o(e),Tc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new jo(e,r,null,o,new C("no-auth-event"),null,i),u=Nr("BuildInfo.packageName",a);if("string"!=typeof u)throw new C("invalid-cordova-configuration");var c=Nr("BuildInfo.displayName",a),l={};if(Sr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Sr().toLowerCase().match(/android/))return Ne(new C("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Ic(o),l.sessionId=o;var h=gu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(sc,s.w(),e)})).then((function(){var e=Nr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new C("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Nr("cordova.plugins.browsertab.openUrl",a)))throw new C("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Nr("cordova.InAppBrowser.open",a)))throw new C("invalid-cordova-configuration");e=Sr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new _e((function(t,e){u=function(){var e=Nr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){s||(s=Tn(2e3).then((function(){e(new C("redirect-cancelled-by-user"))})))},l=function(){Ur()&&c()},o.addEventListener("resume",c,!1),Sr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return Ec(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Ta(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Tc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new jo("unknown",null,null,null,new C("no-auth-event")),t(e))}))},t.Ta=function(t){K(this.b,(function(e){return e==t}))};var Sc={name:"pendingRedirect",F:"session"};function Nc(t){return rc(t.b,Sc,t.a)}function Ac(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new Bc,this.C=new Yc,this.g=new kc(Vc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=xc(this.D,this.v,this.m,E,this.J)}function xc(t,e,n,r,i){var o=Ie.SDK_VERSION||null;return gr()?new bc(t,e,n,o,r,i):new du(t,e,n,o,r,i)}function Pc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Rc(t){t.a.Yb()&&Pc(t).o((function(e){var n=new jo("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));$c(e)&&t.s(n)})),t.a.Ub()||Hc(t.b)}function Oc(t,e){H(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Sc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Nc(t.g).then((function(){Pc(t).o((function(e){var n=new jo("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));$c(e)&&t.s(n)}))})):Rc(t)})).o((function(){Rc(t)}))}function Dc(t,e){K(t.h,(function(t){return t==e}))}Ac.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=xc(this.D,this.v,this.m,null,this.J),this.i={}},Ac.prototype.s=function(t){if(!t)throw new C("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Hc(this.b),e};var Lc=new qr(2e3,1e4),Mc=new qr(3e4,6e4);function Fc(t,e,n,r,i,o,a){return t.a.Nb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function $c(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function jc(t,e,n,r,i){var o;return function(t){return t.b.set(Sc,"pending",t.a)}(t.g).then((function(){return t.a.Ob(e,n,r,i).o((function(e){if($c(e))throw new C("operation-not-supported-in-this-environment");return o=e,Nc(t.g).then((function(){throw o}))})).then((function(){return t.a.ac()?new _e((function(){})):Nc(t.g).then((function(){return t.ra()})).then((function(){})).o((function(){}))}))}))}function qc(t,e,n,r,i){return t.a.Pb(r,(function(t){e.na(n,null,t,i)}),Lc.get())}Ac.prototype.ra=function(){return this.b.ra()};var Uc={};function Vc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Wc(t,e,n,r){var i=Vc(e,n,r);return Uc[i]||(Uc[i]=new Ac(t,e,n,r)),Uc[i]}function Bc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Hc(t){t.g||(t.g=!0,Gc(t,!1,null,null))}function zc(t){t.g&&!t.i&&Gc(t,!1,null,null)}function Kc(t,e){if(t.b=function(){return Se(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Gc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ne(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Kc(t,n):Kc(t,{user:null}),t.f=[],t.c=[]}function Yc(){}function Xc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function Qc(t,e){this.a=e,Gr(this,"verificationId",t)}function Jc(t,e,n,r){return new Lo(t).gb(e,n).then((function(t){return new Qc(t,r)}))}function Zc(t){var e=Wi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new C("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Yr(this,{token:t,expirationTime:Vr(1e3*e.exp),authTime:Vr(1e3*e.auth_time),issuedAtTime:Vr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function tl(t,e,n){var r=e&&e[nl];if(!r)throw new C("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ft(e),this.g=n,this.c=new io(null,r),this.b=[];var i=this;U(e[el]||[],(function(t){(t=Zr(t))&&i.b.push(t)})),Gr(this,"auth",this.a),Gr(this,"session",this.c),Gr(this,"hints",this.b)}Bc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Bc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Gc(this,!0,null,t.a),Se()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Gc(t,s,e,null)})).o((function(e){Gc(t,s,null,e)}))}(this,t,e):Ne(new C("invalid-auth-event")):(Gc(this,!1,null,null),Se())}else Ne(new C("invalid-auth-event"))},Bc.prototype.ra=function(){var t=this;return new _e((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new C("timeout");t.a&&t.a.cancel(),t.a=Tn(Mc.get()).then((function(){t.b||(t.g=!0,Gc(t,!0,null,e))}))}(t))}))},Yc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Se()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Ne(new C("invalid-auth-event"))}else Ne(new C("invalid-auth-event"))},Qc.prototype.confirm=function(t){return t=Mo(this.verificationId,t),this.a(t)};var el="mfaInfo",nl="mfaPendingCredential";function rl(t,e,n,r){C.call(this,"multi-factor-auth-required",r,e),this.b=new tl(t,e,n),Gr(this,"resolver",this.b)}function il(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new rl(e,t.serverResponse,n,t.message)}catch(t){}return null}function ol(){}function al(t){Gr(this,"factorId",t.fa),this.a=t}function sl(t){if(al.call(this,t),this.a.fa!=Lo.PROVIDER_ID)throw new C("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ul(t,e){for(var n in Ge.call(this,t),e)this[n]=e[n]}function cl(t,e){this.a=t,this.b=[],this.c=_(this.yc,this),sn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&U(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ni]=t.uid),t.displayName&&(r[ti]=t.displayName),t.enrollmentTime&&(r[ei]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ri]=t.phoneNumber);try{e=new ii(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),ll(this,n)}function ll(t,e){t.b=e,Gr(t,"enrolledFactors",e)}function hl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function fl(t,e){t.stop(),t.b=Tn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=a.document,e=null;return Ur()||!t?Se():new _e((function(n){e=function(){Ur()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){fl(t,!0)})).o((function(e){t.i(e)&&fl(t,!1)}))}function dl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function pl(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function vl(t,e){t.b=Vi(e[Qa]||""),t.a=e.refreshToken,pl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function ml(t,e){return function(t,e){return new _e((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?as(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(iu(t)):t.access_token&&t.refresh_token?n(t):r(new C("internal-error")):r(new C("network-request-failed"))}),"POST",Yn(e).toString(),t.g,t.m.get()):r(new C("internal-error"))}))}(t.f,e).then((function(e){return t.b=Vi(e.access_token),t.a=e.refresh_token,pl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function gl(t,e){this.a=t||null,this.b=e||null,Yr(this,{lastSignInTime:Vr(e||null),creationTime:Vr(t||null)})}function yl(t,e,n,r,i,o){Yr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function _l(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=Ie.SDK_VERSION?kr(Ie.SDK_VERSION):null;this.a=new Ya(this.l,A(E),r),(this.u=t.emulatorConfig||null)&&rs(this.a,this.u),this.h=new dl(this.a),Nl(this,e[Qa]),vl(this.h,e),Gr(this,"refreshToken",this.h.a),Pl(this,n||{}),_n.call(this),this.P=!1,this.s&&xr()&&(this.b=Wc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new hl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.ba=_(this.ib,this);var i=this;this.za=null,this.Pa=function(t){i.xa(t.h)},this.qa=null,this.Ba=function(t){bl(i,t.c)},this.$=null,this.aa=[],this.Oa=function(t){Cl(i,t.f)},this.ja=null,this.S=new cl(this,n),Gr(this,"multiFactor",this.S)}function bl(t,e){t.u=e,rs(t.a,e),t.b&&(e=t.b,t.b=Wc(t.s,t.l,t.m,t.u),t.P&&(Dc(e,t),Oc(t.b,t)))}function wl(t,e){t.qa&&ln(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&sn(e,"languageCodeChanged",t.Pa)}function Il(t,e){t.$&&ln(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&sn(e,"emulatorConfigChanged",t.Ba)}function Cl(t,e){t.aa=e,os(t.a,Ie.SDK_VERSION?kr(Ie.SDK_VERSION,t.aa):null)}function Tl(t,e){t.ja&&ln(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&sn(e,"frameworkChanged",t.Oa)}function El(t){try{return Ie.app(t.m).auth()}catch(e){throw new C("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function kl(t){t.J||t.D.b||(t.D.start(),ln(t,"tokenChanged",t.ba),sn(t,"tokenChanged",t.ba))}function Sl(t){ln(t,"tokenChanged",t.ba),t.D.stop()}function Nl(t,e){t.Aa=e,Gr(t,"_lat",e)}function Al(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return xe(e).then((function(){return t}))}function xl(t){t.b&&!t.P&&(t.P=!0,Oc(t.b,t))}function Pl(t,e){Yr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new gl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Rl(){}function Ol(t){return Se().then((function(){if(t.J)throw new C("app-deleted")}))}function Dl(t){return W(t.providerData,(function(t){return t.providerId}))}function Ll(t,e){e&&(Ml(t,e.providerId),t.providerData.push(e))}function Ml(t,e){K(t.providerData,(function(t){return t.providerId==e}))}function Fl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Gr(t,e,n)}function $l(t,e){t!=e&&(Yr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Gr(t,"metadata",function(t){return new gl(t.a,t.b)}(e.metadata)):Gr(t,"metadata",new gl),U(e.providerData,(function(e){Ll(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Gr(t,"refreshToken",t.h.a),ll(t.S,e.S.b))}function jl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return nu(t.a,Os,{idToken:e}).then(_(t.Kc,t))}(t,e).then((function(){return n||Fl(t,"isAnonymous",!1),e}))}))}function ql(t,e){e[Qa]&&t.Aa!=e[Qa]&&(vl(t.h,e),t.dispatchEvent(new ul("tokenChanged")),Nl(t,e[Qa]),Fl(t,"refreshToken",t.h.a))}function Ul(t,e){return jl(t).then((function(){if(H(Dl(t),e))return Al(t).then((function(){throw new C("provider-already-linked")}))}))}function Vl(t,e,n){return Xr({user:t,credential:Fo(e),additionalUserInfo:e=Gi(e),operationType:n})}function Wl(t,e){return ql(t,e),t.reload().then((function(){return t}))}function Bl(t,e,n,r,i){if(!xr())return Ne(new C("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ne(t.i);var o=Ki(n.providerId),a=Fr(t.uid+":::"),s=null;(!Or()||yr())&&t.s&&n.isOAuthProvider&&(s=gu(t.s,t.l,t.m,e,n,null,a,Ie.SDK_VERSION||null,null,null,t.tenantId,t.u));var u=dr(s,o&&o.va,o&&o.ua);return r=r().then((function(){if(zl(t),!i)return t.I().then((function(){}))})).then((function(){return Fc(t.b,u,e,n,a,!!s,t.tenantId)})).then((function(){return new _e((function(n,r){t.na(e,null,new C("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=qc(t.b,t,e,u,a)}))})).then((function(t){return u&&fr(u),t?Xr(t):null})).o((function(t){throw u&&fr(u),t})),Kl(t,r,i)}function Hl(t,e,n,r,i){if(!xr())return Ne(new C("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ne(t.i);var o=null,a=Fr(t.uid+":::");return r=r().then((function(){if(zl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,Al(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Xl,t.w(),e.a)),e})).then((function(){return jc(t.b,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return Ql(t.ha);throw o})).then((function(){if(o)throw o})),Kl(t,r,i)}function zl(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new C("internal-error");throw new C("auth-domain-config-required")}}function Kl(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Ne(t.i)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new ul("userInvalidated")),t.i=e),e}))}(t,e,n);return t.N.push(r),r.oa((function(){z(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=il(e.w(),El(t),_(t.jc,t))),n||e}))}function Gl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Qa]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new _l(e,n,t);return t.providerData&&U(t.providerData,(function(t){t&&Ll(i,Xr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Yl(t){this.a=t,this.b=tc()}tl.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then((function(t){var n=ft(e.f);return delete n[el],delete n[nl],pt(n,t),e.g(n)}))},w(rl,C),ol.prototype.tb=function(t,e,n){return e.type==oo?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),pt(n,{phoneVerificationInfo:Do(t.a)}),nu(e,Ps,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return pt(n={mfaPendingCredential:n},{phoneVerificationInfo:Do(t.a)}),nu(e,Rs,n)}))}(this,t,e)},w(al,ol),w(sl,al),w(ul,Ge),(t=cl.prototype).yc=function(t){ll(this,function(t){var e=[];return U(t.mfaInfo||[],(function(t){(t=Zr(t))&&e.push(t)})),e}(t.hd))},t.Sb=function(){return this.a.I().then((function(t){return new io(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then((function(n){return t.tb(r,n,e)})).then((function(t){return ql(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return nu(r,eu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=V(e.b,(function(t){return t.uid!=n}));return ll(e,r),ql(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:W(this.b,(function(t){return t.w()}))}}},hl.prototype.start=function(){this.a=this.c,fl(this,!0)},hl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ne(new C("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?ml(this,{grant_type:"refresh_token",refresh_token:this.a}):Se(null):Se({accessToken:this.b.toString(),refreshToken:this.a})},gl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},w(_l,_n),_l.prototype.xa=function(t){this.za=t,ns(this.a,t)},_l.prototype.la=function(){return this.za},_l.prototype.Ga=function(){return Y(this.aa)},_l.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Gr(_l.prototype,"providerId","firebase"),(t=_l.prototype).reload=function(){var t=this;return Kl(this,Ol(this).then((function(){return jl(t).then((function(){return Al(t)})).then(Rl)})))},t.oc=function(t){return this.I(t).then((function(t){return new Zc(t)}))},t.I=function(t){var e=this;return Kl(this,Ol(this).then((function(){return e.h.getToken(t)})).then((function(t){if(!t)throw new C("internal-error");return t.accessToken!=e.Aa&&(Nl(e,t.accessToken),e.dispatchEvent(new ul("tokenChanged"))),Fl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new C("internal-error");Pl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?W(t,(function(t){return new yl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ll(this,e[n]);Fl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ul("userReloaded",{hd:t}))},t.Lc=function(t){return zr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return Kl(this,t.c(this.a,this.uid).then((function(t){return ql(e,t),n=Vl(e,t,"reauthenticate"),e.i=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return zr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return Kl(this,Ul(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Vl(e,t,"link"),Wl(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Kl(this,Ul(this,"phone").then((function(){return Jc(El(n),t,e,_(n.rb,n))})))},t.Mc=function(t,e){var n=this;return Kl(this,Se().then((function(){return Jc(El(n),t,e,_(n.ub,n))})),!0)},t.Cb=function(t){var e=this;return Kl(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return ql(e,t),e.reload()})))},t.ed=function(t){var e=this;return Kl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return ql(e,t),e.reload()})))},t.Db=function(t){var e=this;return Kl(this,this.I().then((function(n){return e.a.Db(n,t)})).then((function(t){return ql(e,t),e.reload()})))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Ol(this);var e=this;return Kl(this,this.I().then((function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return ql(e,t),Fl(e,"displayName",t.displayName||null),Fl(e,"photoURL",t.photoUrl||null),U(e.providerData,(function(t){"password"===t.providerId&&(Gr(t,"displayName",e.displayName),Gr(t,"photoURL",e.photoURL))})),Al(e)})).then(Rl))},t.cd=function(t){var e=this;return Kl(this,jl(this).then((function(n){return H(Dl(e),t)?function(t,e,n){return nu(t,Ns,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return U(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),U(Dl(e),(function(t){n[t]||Ml(e,t)})),n[Lo.PROVIDER_ID]||Gr(e,"phoneNumber",null),Al(e)})):Al(e).then((function(){throw new C("no-such-provider")}))})))},t.delete=function(){var t=this;return Kl(this,this.I().then((function(e){return nu(t.a,Ss,{idToken:e})})).then((function(){t.dispatchEvent(new ul("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");wl(t,null),Il(t,null),Tl(t,null),t.N=[],t.J=!0,Sl(t),Gr(t,"refreshToken",null),t.b&&Dc(t.b,t)}))},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?_(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?_(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?_(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?_(this.Mb,this):null},t.Ec=function(t){var e=this;return Bl(this,"linkViaPopup",t,(function(){return Ul(e,t.providerId).then((function(){return Al(e)}))}),!1)},t.Nc=function(t){return Bl(this,"reauthViaPopup",t,(function(){return Se()}),!0)},t.Fc=function(t){var e=this;return Hl(this,"linkViaRedirect",t,(function(){return Ul(e,t.providerId)}),!1)},t.Oc=function(t){return Hl(this,"reauthViaRedirect",t,(function(){return Se()}),!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Kl(this,this.I().then((function(n){return bs(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Vl(i,t,"link"),Wl(i,t)})).then((function(){return o})))},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Kl(this,Se().then((function(){return uo(ws(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Vl(i,t,"reauthenticate"),ql(i,t),i.i=null,i.reload()})).then((function(){return o})),!0)},t.vb=function(t){var e=this,n=null;return Kl(this,this.I().then((function(e){return n=e,void 0===t||ht(t)?{}:$i(new Ni(t))})).then((function(t){return e.a.vb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Fb=function(t,e){var n=this,r=null;return Kl(this,this.I().then((function(t){return r=t,void 0===e||ht(e)?{}:$i(new Ni(e))})).then((function(e){return n.a.Fb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Kl(this,t=uo(Se(t),n.uid).then((function(t){return e=Vl(n,t,"reauthenticate"),ql(n,t),n.i=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&pt(t,this.metadata.w()),U(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),pt(t,this.S.w()),t};var Xl={name:"redirectUser",F:"session"};function Ql(t){return rc(t.b,Xl,t.a)}function Jl(t){this.a=t,this.b=tc(),this.c=null,this.f=function(t){var e=eh("local"),n=eh("session"),r=eh("none");return function(t,e,n){var r=nc(e,n),i=ec(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=Mr(a.localStorage.getItem(r))}catch(t){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(th,t.a).then((function(t){return t?eh(t):e}))}))}))})).then((function(e){return t.c=e,Zl(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(eh("local"),this.a,_(this.g,this))}function Zl(t,e){var n,r=[];for(n in Ju)Ju[n]!==e&&r.push(rc(t.b,eh(Ju[n]),t.a));return r.push(rc(t.b,th,t.a)),function(t){return new _e((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Ae(t[s],b(o,s),a);else e(i)}))}(r)}Jl.prototype.g=function(){var t=this,e=eh("local");oh(this,(function(){return Se().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Zl(t,"local").then((function(){t.c=e}))}))}))};var th={name:"persistence",F:"session"};function eh(t){return{name:"authUser",F:t}}function nh(t,e){return oh(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function rh(t){return oh(t,(function(){return rc(t.b,t.c,t.a)}))}function ih(t,e,n){return oh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Gl(t||{})}))}))}function oh(t,e){return t.f=t.f.then(e,e),t.f}function ah(t){if(this.l=!1,Gr(this,"settings",new Xc),Gr(this,"app",t),!vh(this).options||!vh(this).options.apiKey)throw new C("invalid-api-key");t=Ie.SDK_VERSION?kr(Ie.SDK_VERSION):null,this.a=new Ya(vh(this).options&&vh(this).options.apiKey,A(E),t),this.P=[],this.s=[],this.N=[],this.Pa=Ie.INTERNAL.createSubscribe(_(this.zc,this)),this.W=void 0,this.ib=Ie.INTERNAL.createSubscribe(_(this.Ac,this)),dh(this,null),this.i=new Jl(vh(this).options.apiKey+":"+vh(this).name),this.D=new Yl(vh(this).options.apiKey+":"+vh(this).name),this.$=_h(this,function(t){var e=vh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Xl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Gl(t||{})}))}(t.D,vh(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Ql(t.D)}));return _h(t,e)}(t).then((function(){return ih(t.i,e,t.R)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return nh(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:rh(t.i)}))):null})).then((function(e){dh(t,e||null)}));return _h(t,n)}(this)),this.h=_h(this,function(t){return t.$.then((function(){return hh(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(eh("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=_(this.Zc,this),this.Ba=_(this.da,this),this.qa=_(this.mc,this),this.za=_(this.wc,this),this.Aa=_(this.xc,this),this.b=null,function(t){var e=vh(t).options.authDomain,n=vh(t).options.apiKey;e&&xr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Wc(e,n,vh(t).name,t.R),Oc(t.b,t),mh(t)&&xl(mh(t)),t.m){xl(t.m);var r=t.m;r.xa(t.la()),wl(r,t),Cl(r=t.m,t.J),Tl(r,t),bl(r=t.m,t.R),Il(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Gc,this),this.u=0,_n.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=Fn(this.R.url);t=Xr({protocol:t.c,host:t.a,port:t.g,options:Xr({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function sh(t){Ge.call(this,"languageCodeChanged"),this.h=t}function uh(t){Ge.call(this,"emulatorConfigChanged"),this.c=t}function ch(t){Ge.call(this,"frameworkChanged"),this.f=t}function lh(t){return t.Oa||Ne(new C("auth-domain-config-required"))}function hh(t){if(!xr())return Ne(new C("operation-not-supported-in-this-environment"));var e=lh(t).then((function(){return t.b.ra()})).then((function(t){return t?Xr(t):null}));return _h(t,e)}function fh(t,e){var n={};return n.apiKey=vh(t).options.apiKey,n.authDomain=vh(t).options.authDomain,n.appName=vh(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then((function(){return function(t,e,n,r){var i=new _l(t,e);return n&&(i.ha=n),r&&Cl(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return mh(t)&&e.uid==mh(t).uid?($l(mh(t),e),t.da(e)):(dh(t,e),xl(e),t.da(e))})).then((function(){yh(t)}))}function dh(t,e){mh(t)&&(function(t,e){K(t.W,(function(t){return t==e}))}(mh(t),t.Ba),ln(mh(t),"tokenChanged",t.qa),ln(mh(t),"userDeleted",t.za),ln(mh(t),"userInvalidated",t.Aa),Sl(mh(t))),e&&(e.W.push(t.Ba),sn(e,"tokenChanged",t.qa),sn(e,"userDeleted",t.za),sn(e,"userInvalidated",t.Aa),0<t.u&&kl(e)),Gr(t,"currentUser",e),e&&(e.xa(t.la()),wl(e,t),Cl(e,t.J),Tl(e,t),bl(e,t.R),Il(e,t))}function ph(t,e){var n=null,r=null;return _h(t,e.then((function(e){return n=Fo(e),r=Gi(e),fh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=il(e.w(),t,_(t.kc,t))),n||e})).then((function(){return Xr({user:mh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function vh(t){return t.app}function mh(t){return t.currentUser}function gh(t){return mh(t)&&mh(t)._lat||null}function yh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](gh(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](gh(t))}}function _h(t,e){return t.P.push(e),e.oa((function(){z(t.P,e)})),e}function bh(){}function wh(){this.a={},this.b=1e12}Jl.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new C("invalid-persistence-type"),n=new C("unsupported-persistence-type");t:{for(r in Ju)if(Ju[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(br()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Pu()&&"none"!==t)throw n;break;default:if(!Ar()&&"none"!==t)throw n}}(t),oh(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Zl(n,t)})).then((function(){if(n.c=eh(t),e)return n.b.set(n.c,e,n.a)})):Se()}))},w(ah,_n),w(sh,Ge),w(uh,Ge),w(ch,Ge),(t=ah.prototype).yb=function(t){return _h(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,ns(this.a,this.aa),this.dispatchEvent(new sh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new C("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&mr().then((function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,rs(this.a,this.R),this.dispatchEvent(new uh(this.R))}},t.Gc=function(t){this.J.push(t),os(this.a,Ie.SDK_VERSION?kr(Ie.SDK_VERSION,this.J):null),this.dispatchEvent(new ch(this.J))},t.Ga=function(){return Y(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:vh(this).options.apiKey,authDomain:vh(this).options.authDomain,appName:vh(this).name,currentUser:mh(this)&&mh(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?_(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return ph(i,_s(i.a,o))}))},t.Xc=function(t){if(!xr())return Ne(new C("operation-not-supported-in-this-environment"));var e=this,n=Ki(t.providerId),r=Fr(),i=null;(!Or()||yr())&&vh(this).options.authDomain&&t.isOAuthProvider&&(i=gu(vh(this).options.authDomain,vh(this).options.apiKey,vh(this).name,"signInViaPopup",t,null,r,Ie.SDK_VERSION||null,null,null,this.T(),this.R));var o=dr(i,n&&n.va,n&&n.ua);return _h(this,n=lh(this).then((function(n){return Fc(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new _e((function(t,n){e.na("signInViaPopup",null,new C("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=qc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&fr(o),t?Xr(t):null})).o((function(t){throw o&&fr(o),t})))},t.Yc=function(t){if(!xr())return Ne(new C("operation-not-supported-in-this-environment"));var e=this,n=lh(this).then((function(){return function(t){return oh(t,(function(){return t.b.set(th,t.c.F,t.a)}))}(e.i)})).then((function(){return jc(e.b,"signInViaRedirect",t,void 0,e.T())}));return _h(this,n)},t.ra=function(){var t=this;return hh(this).then((function(e){return t.b&&zc(t.b.b),e})).o((function(e){throw t.b&&zc(t.b.b),e}))},t.dd=function(t){if(!t)return Ne(new C("null-user"));if(this.S!=t.tenantId)return Ne(new C("tenant-id-mismatch"));var e=this,n={};n.apiKey=vh(this).options.apiKey,n.authDomain=vh(this).options.authDomain,n.appName=vh(this).name;var r=function(t,e,n,r){var i=t.h,o={};return o[Qa]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new _l(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Cl(e,r),$l(e,t),e}(t,n,e.D,e.Ga());return _h(this,this.h.then((function(){if(vh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return mh(e)&&t.uid==mh(e).uid?($l(mh(e),t),e.da(t)):(dh(e,r),xl(r),e.da(r))})).then((function(){yh(e)})))},t.Bb=function(){var t=this;return _h(this,this.h.then((function(){return t.b&&zc(t.b.b),mh(t)?(dh(t,null),rh(t.i).then((function(){yh(t)}))):Se()})))},t.Zc=function(){var t=this;return ih(this.i,vh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=mh(t)&&e){n=mh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return $l(mh(t),e),mh(t).I();(mh(t)||e)&&(dh(t,e),e&&(xl(e),e.ha=t.D),t.b&&Oc(t.b,t),yh(t))}}))},t.da=function(t){return nh(this.i,t)},t.mc=function(){yh(this),this.da(mh(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then((function(){return ph(e,Se(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(mh(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),_h(t,t.h.then((function(){!t.l&&H(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(gh(t)))})))}(this,(function(){t.next(mh(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(mh(r)):"function"==typeof t.next&&t.next(mh(r))})),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof t?t(mh(r)):"function"==typeof t.next&&t.next(mh(r))})),this.ib(t,e,n)},t.nc=function(t){var e=this;return _h(this,this.h.then((function(){return mh(e)?mh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return ph(e,nu(e.a,Xs,{token:t}))})).then((function(t){var n=t.user;return Fl(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return ph(n,nu(n.a,Qs,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return ph(n,nu(n.a,Es,{email:t,password:e}))}))},t.ab=function(t){var e=this;return this.h.then((function(){return ph(e,t.ka(e.a))}))},t.Sc=function(t){return zr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then((function(){var e=mh(t);if(e&&e.isAnonymous){var n=Xr({providerId:null,isNewUser:!1});return Xr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ph(t,t.a.Ab()).then((function(e){var n=e.user;return Fl(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return mh(this)&&mh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&mh(this)&&kl(mh(this))},t.Pc=function(t){var e=this;U(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&mh(this)&&Sl(mh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),_h(this,this.h.then((function(){e.l||H(e.s,t)&&t(gh(e))})))},t.removeAuthTokenListener=function(t){K(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(eh("local"),t.a,this.ja),this.b&&(Dc(this.b,this),zc(this.b.b)),Promise.resolve()},t.hc=function(t){return _h(this,function(t,e){return nu(t,ks,{identifier:e,continueUri:Pr()?ur():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!Po(t)},t.xb=function(t,e){var n=this;return _h(this,Se().then((function(){var t=new Ni(e);if(!t.c)throw new C("argument-error",Pi+" must be true when sending sign in link to email");return $i(t)})).then((function(e){return n.a.xb(t,e)})).then((function(){})))},t.jd=function(t){return this.Sa(t).then((function(t){return t.data.email}))},t.ob=function(t,e){return _h(this,this.a.ob(t,e).then((function(){})))},t.Sa=function(t){return _h(this,this.a.Sa(t).then((function(t){return new oi(t)})))},t.kb=function(t){return _h(this,this.a.kb(t).then((function(){})))},t.wb=function(t,e){var n=this;return _h(this,Se().then((function(){return void 0===e||ht(e)?{}:$i(new Ni(e))})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.Wc=function(t,e){return _h(this,Jc(this,t,e,_(this.ab,this)))},t.Vc=function(t,e){var n=this;return _h(this,Se().then((function(){var r=e||ur(),i=xo(t,r);if(!(r=Po(r)))throw new C("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new C("tenant-id-mismatch");return n.ab(i)})))},bh.prototype.render=function(){},bh.prototype.reset=function(){},bh.prototype.getResponse=function(){},bh.prototype.execute=function(){};var Ih=null;function Ch(t,e){return(e=Th(e))&&t.a[e]||null}function Th(t){return(t=void 0===t?1e12:t)?t.toString():null}function Eh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=se(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():sn(this.f,"click",this.i)}function kh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Sh(){}function Nh(){}wh.prototype.render=function(t,e){return this.a[this.b.toString()]=new Eh(t,e),this.b++},wh.prototype.reset=function(t){var e=Ch(this,t);t=Th(t),e&&t&&(e.delete(),delete this.a[t])},wh.prototype.getResponse=function(t){return(t=Ch(this,t))?t.getResponse():null},wh.prototype.execute=function(t){(t=Ch(this,t))&&t.execute()},Eh.prototype.getResponse=function(){return kh(this),this.b},Eh.prototype.execute=function(){kh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},Eh.prototype.delete=function(){kh(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},Gr(Sh,"FACTOR_ID","phone"),Nh.prototype.g=function(){return Ih||(Ih=new wh),Se(Ih)},Nh.prototype.c=function(){};var Ah=null;function xh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ph=new mt(bt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Rh=new qr(3e4,6e4);xh.prototype.g=function(t){var e=this;return new _e((function(n,r){var i=setTimeout((function(){r(new C("network-request-failed"))}),Rh.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new C("internal-error"));delete a[e.a]},Se(Va(Tt(Ph,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new C("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},xh.prototype.c=function(){this.b--};var Oh=null;function Dh(t,e,n,r,i,o,s){if(Gr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,s?(Ah||(Ah=new Nh),s=Ah):(Oh||(Oh=new xh),s=Oh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Fh])throw new C("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[$h],!a.document)throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!se(e)||!this.i&&se(e).hasChildNodes())throw new C("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ya(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Lh];this.a[Lh]=function(t){if(jh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Nr(c,a);"function"==typeof e&&e(t)}};var l=this.a[Mh];this.a[Mh]=function(){if(jh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Nr(l,a);"function"==typeof t&&t()}}}var Lh="callback",Mh="expired-callback",Fh="sitekey",$h="size";function jh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function qh(t,e){return t.h.push(e),e.oa((function(){z(t.h,e)})),e}function Uh(t){if(t.J)throw new C("internal-error","RecaptchaVerifier instance has been destroyed.")}function Vh(t,e,n){var r=!1;try{this.b=n||Ie.app()}catch(t){throw new C("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new C("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=Ie.SDK_VERSION?kr(Ie.SDK_VERSION,o):null,Dh.call(this,n,t,e,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,A(E),r)}function Wh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new C("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Bh.length)throw new C("internal-error","Argument validator received an unsupported number of arguments.");n=Bh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new C("argument-error",t+" failed: "+r)}(t=Dh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=qh(this,Se().then((function(){if(Pr()&&!_r())return mr();throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,nu(t.s,js,{})})).then((function(e){t.a[Fh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Uh(this);var t=this;return qh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=se(e);e=fe("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Uh(this);var t=this;return qh(this,this.render().then((function(e){return new _e((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){K(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Uh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Uh(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=se(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},w(Vh,Dh);var Bh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Hh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function zh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Kh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:p}}function Gh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Yh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Xh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Qh(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Jh(t){return p(t)&&"string"==typeof t.uid}function Zh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function tf(t,e){for(var n in e){var r=e[n].name;t[r]=rf(r,t[n],e[n].j)}}function ef(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:b((function(t){return this[t]}),n),set:b((function(t,e,n,r){Wh(t,[n],[r],!0),this[e]=r}),r,n,e[n].lb),enumerable:!0})}}function nf(t,e,n,r){t[e]=rf(e,n,r)}function rf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Wh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return t=t.split("."),t[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}tf(ah.prototype,{kb:{name:"applyActionCode",j:[Hh("code")]},Sa:{name:"checkActionCode",j:[Hh("code")]},ob:{name:"confirmPasswordReset",j:[Hh("code"),Hh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Hh("email"),Hh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Hh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Hh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Zh(Kh(),Gh(),"nextOrObserver"),Gh("opt_error",!0),Gh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Zh(Kh(),Gh(),"nextOrObserver"),Gh("opt_error",!0),Gh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Hh("email"),Zh(Kh("opt_actionCodeSettings",!0),Yh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Hh("email"),Kh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Hh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Xh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Xh()]},Tc:{name:"signInWithCustomToken",j:[Hh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Hh("email"),Hh("password")]},Vc:{name:"signInWithEmailLink",j:[Hh("email"),Hh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Hh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Zh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof _l)}},Yh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Hh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Hh("url"),Kh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Hh("code")]}}),ef(ah.prototype,{lc:{name:"languageCode",lb:Zh(Hh(),Yh(),"languageCode")},ti:{name:"tenantId",lb:Zh(Hh(),Yh(),"tenantId")}}),ah.Persistence=Ju,ah.Persistence.LOCAL="local",ah.Persistence.SESSION="session",ah.Persistence.NONE="none",tf(_l.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[zh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[zh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Xh()]},rb:{name:"linkWithCredential",j:[Xh()]},Dc:{name:"linkWithPhoneNumber",j:[Hh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Xh()]},ub:{name:"reauthenticateWithCredential",j:[Xh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Hh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Zh(Kh("opt_actionCodeSettings",!0),Yh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Hh(null,!0)]},cd:{name:"unlink",j:[Hh("provider")]},Cb:{name:"updateEmail",j:[Hh("email")]},Db:{name:"updatePassword",j:[Hh("password")]},ed:{name:"updatePhoneNumber",j:[Xh("phone")]},Eb:{name:"updateProfile",j:[Kh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Hh("email"),Zh(Kh("opt_actionCodeSettings",!0),Yh(null,!0),"opt_actionCodeSettings",!0)]}}),tf(wh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tf(bh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tf(_e.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),ef(Xc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:zh("appVerificationDisabledForTesting")}}),tf(Qc.prototype,{confirm:{name:"confirm",j:[Hh("verificationCode")]}}),nf(so,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[vo,No,Oo,ho],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Zh(Hh(),Kh(),"json")]),nf(Ao,"credential",(function(t,e){return new So(t,e)}),[Hh("email"),Hh("password")]),tf(So.prototype,{w:{name:"toJSON",j:[Hh(null,!0)]}}),tf(_o.prototype,{Ca:{name:"addScope",j:[Hh("scope")]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),nf(_o,"credential",bo,[Zh(Hh(),Kh(),"token")]),nf(Ao,"credentialWithLink",xo,[Hh("email"),Hh("emailLink")]),tf(wo.prototype,{Ca:{name:"addScope",j:[Hh("scope")]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),nf(wo,"credential",Io,[Zh(Hh(),Kh(),"token")]),tf(Co.prototype,{Ca:{name:"addScope",j:[Hh("scope")]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),nf(Co,"credential",To,[Zh(Hh(),Zh(Kh(),Yh()),"idToken"),Zh(Hh(),Yh(),"accessToken",!0)]),tf(Eo.prototype,{Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),nf(Eo,"credential",ko,[Zh(Hh(),Kh(),"token"),Hh("secret",!0)]),tf(yo.prototype,{Ca:{name:"addScope",j:[Hh("scope")]},credential:{name:"credential",j:[Zh(Hh(),Zh(Kh(),Yh()),"optionsOrIdToken"),Zh(Hh(),Yh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),tf(fo.prototype,{w:{name:"toJSON",j:[Hh(null,!0)]}}),tf(co.prototype,{w:{name:"toJSON",j:[Hh(null,!0)]}}),nf(Lo,"credential",Mo,[Hh("verificationId"),Hh("verificationCode")]),tf(Lo.prototype,{gb:{name:"verifyPhoneNumber",j:[Zh(Hh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Qh(t.session,oo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Qh(t.session,ao)&&Jh(t.multiFactorHint):t.session&&t.multiFactorUid?Qh(t.session,ao)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),tf(Ro.prototype,{w:{name:"toJSON",j:[Hh(null,!0)]}}),tf(C.prototype,{toJSON:{name:"toJSON",j:[Hh(null,!0)]}}),tf(Ho.prototype,{toJSON:{name:"toJSON",j:[Hh(null,!0)]}}),tf(Bo.prototype,{toJSON:{name:"toJSON",j:[Hh(null,!0)]}}),tf(rl.prototype,{toJSON:{name:"toJSON",j:[Hh(null,!0)]}}),tf(tl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),tf(cl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},Hh("displayName",!0)]},bd:{name:"unenroll",j:[Zh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Jh},Hh(),"multiFactorInfoIdentifier")]}}),tf(Vh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),nf(_i,"parseLink",Si,[Hh("link")]),nf(Sh,"assertion",(function(t){return new sl(t)}),[Xh("phone")]),function(){if(void 0===Ie||!Ie.INTERNAL||!Ie.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:si,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ai,VERIFY_AND_CHANGE_EMAIL:ui,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ah,AuthCredential:so,Error:C};nf(t,"EmailAuthProvider",Ao,[]),nf(t,"FacebookAuthProvider",_o,[]),nf(t,"GithubAuthProvider",wo,[]),nf(t,"GoogleAuthProvider",Co,[]),nf(t,"TwitterAuthProvider",Eo,[]),nf(t,"OAuthProvider",yo,[Hh("providerId")]),nf(t,"SAMLAuthProvider",go,[Hh("providerId")]),nf(t,"PhoneAuthProvider",Lo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof ah)}}]),nf(t,"RecaptchaVerifier",Vh,[Zh(Hh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Kh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof Ie.app.App)}}]),nf(t,"ActionCodeURL",_i,[]),nf(t,"PhoneMultiFactorGenerator",Sh,[]),Ie.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new ah(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),Ie.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:_((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:_(t.nc,t),addAuthTokenListener:_(t.cc,t),removeAuthTokenListener:_(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ie.registerVersion("@firebase/auth","0.16.8"),Ie.INTERNAL.extendNamespace({User:_l})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const pc=t=>({user:4&t,loggedIn:8&t}),vc=t=>({user:t[2],loggedIn:t[3],loginWithGoogle:t[0],logout:t[1]});function mc(t){let e,n;const r=t[6].default,i=function(t,e,n,r){if(t){const i=u(t,e,n,r);return t[0](i)}}(r,t,t[5],vc);return{c(){e=y("div"),i&&i.c()},m(t,r){v(t,e,r),i&&i.m(e,null),n=!0},p(t,[e]){i&&i.p&&(!n||44&e)&&function(t,e,n,r,i,o){if(i){const a=u(e,n,r,o);t.p(a,i)}}(i,r,t,t[5],n?function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(r,t[5],e,pc):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[5]),vc)},i(t){n||(Y(i,t),n=!0)},o(t){X(i,t),n=!1},d(t){t&&m(e),i&&i.d(t)}}}function gc(t,e,n){let r,{$$slots:i={},$$scope:o}=e;const a=Ie.auth();let s=null,{useRedirect:u=!1}=e;return a.onAuthStateChanged((async t=>{if(t)if("info@jonlehman.me"===t.email){const r=await t.getIdTokenResult();n(2,(e=r.claims,s={id:e.user_id,name:e.name,email:e.email,picture:e.picture}))}else n(2,s=null);else n(2,s=null);var e})),t.$$set=t=>{"useRedirect"in t&&n(4,u=t.useRedirect),"$$scope"in t&&n(5,o=t.$$scope)},t.$$.update=()=>{4&t.$$.dirty&&n(3,r=null!==s)},[()=>{const t=new Ie.auth.GoogleAuthProvider;return u?a.signInWithRedirect(t):a.signInWithPopup(t)},()=>a.signOut(),s,r,u,o,i]}class yc extends rt{constructor(t){super(),nt(this,t,gc,mc,o,{useRedirect:4,loginWithGoogle:0,logout:1})}get loginWithGoogle(){return this.$$.ctx[0]}get logout(){return this.$$.ctx[1]}}function _c(e){let n,r,o;return{c(){n=y("button"),n.textContent="Logout",E(n,"type","button"),E(n,"class","text-gray-300 absolute top-1 right-1")},m(t,a){v(t,n,a),r||(o=C(n,"click",(function(){i(e[49])&&e[49].apply(this,arguments)})),r=!0)},p(t,n){e=t},i:t,o:t,d(t){t&&m(n),r=!1,o()}}}function bc(t){let e,n,r,o,a;return n=new cc({}),{c(){e=y("div"),J(n.$$.fragment),E(e,"class","fixed bottom-9 w-full")},m(s,u){v(s,e,u),Z(n,e,null),r=!0,o||(a=C(e,"click",T((function(){i(t[48])&&t[48].apply(this,arguments)}))),o=!0)},p(e,n){t=e},i(t){r||(Y(n.$$.fragment,t),r=!0)},o(t){X(n.$$.fragment,t),r=!1},d(t){t&&m(e),tt(n),o=!1,a()}}}function wc(t){let e,n,r,i;const o=[bc,_c],a=[];function s(t,e){return t[47]?1:0}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=I()},m(t,n){a[e].m(t,n),v(t,r,n),i=!0},p(t,i){let u=e;e=s(t),e===u?a[e].p(t,i):(K(),X(a[u],1,1,(()=>{a[u]=null})),G(),n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),Y(n,1),n.m(r.parentNode,r))},i(t){i||(Y(n),i=!0)},o(t){X(n),i=!1},d(t){a[e].d(t),t&&m(r)}}}function Ic(t){let e,n,r,i,o,a,s,u,c,l,h,f,d,g,_,b,I,C,T,k,S,x,P,R,O,L,M,F,$,j,U,V,W,B,H,z,K,G,et,nt,rt,it,ot,at,st,ut,ct,lt,ht,ft,dt,pt,vt,mt,gt,yt,_t,bt,wt,It,Ct,Tt,Et,kt,St,Nt,At,xt,Pt,Rt,Ot,Dt;function Lt(e){t[17](e)}let Mt={};function Ft(e){t[18](e)}void 0!==t[9]&&(Mt.data=t[9]),i=new cu({props:Mt}),D.push((()=>Q(i,"data",Lt))),s=new yc({props:{useRedirect:!0,$$slots:{default:[wc,({user:t,loggedIn:e,loginWithGoogle:n,logout:r})=>({46:t,47:e,48:n,49:r}),({user:t,loggedIn:e,loginWithGoogle:n,logout:r})=>[0,(t?32768:0)|(e?65536:0)|(n?131072:0)|(r?262144:0)]]},$$scope:{ctx:t}}});let $t={};function jt(e){t[19](e)}void 0!==t[12]&&($t.showCustomUrlModal=t[12]),c=new dc({props:$t}),D.push((()=>Q(c,"showCustomUrlModal",Ft))),c.$on("castUrl",t[15]);let qt={frameNumber:1,frameColor:"blue"};function Ut(e){t[20](e)}void 0!==t[0]&&(qt.selected=t[0]),I=new sc({props:qt}),D.push((()=>Q(I,"selected",jt)));let Vt={frameNumber:2,frameColor:"green"};function Wt(e){t[21](e)}void 0!==t[1]&&(Vt.selected=t[1]),k=new sc({props:Vt}),D.push((()=>Q(k,"selected",Ut)));let Bt={frameNumber:3,frameColor:"purple"};function Ht(e){t[22](e)}void 0!==t[2]&&(Bt.selected=t[2]),P=new sc({props:Bt}),D.push((()=>Q(P,"selected",Wt)));let zt={};function Kt(e){t[23](e)}void 0!==t[11]&&(zt.activeTab=t[11]),L=new mu({props:zt}),D.push((()=>Q(L,"activeTab",Ht)));let Gt={label:"Figma Page: Alpha",id:"alpha"};function Yt(e){t[25](e)}void 0!==t[10]&&(Gt.selectedFrames=t[10]),U=new du({props:Gt}),D.push((()=>Q(U,"selectedFrames",Kt))),U.$on("buttonClicked",t[24]);let Xt={label:"Figma Page: Bravo",id:"bravo"};function Qt(e){t[27](e)}void 0!==t[10]&&(Xt.selectedFrames=t[10]),B=new du({props:Xt}),D.push((()=>Q(B,"selectedFrames",Yt))),B.$on("buttonClicked",t[26]);let Jt={label:"Figma Page: Charlie",id:"charlie"};function Zt(e){t[29](e)}void 0!==t[10]&&(Jt.selectedFrames=t[10]),K=new du({props:Jt}),D.push((()=>Q(K,"selectedFrames",Qt))),K.$on("buttonClicked",t[28]);let te={label:"Figma Page: Delta",id:"delta"};function ee(e){t[31](e)}void 0!==t[10]&&(te.selectedFrames=t[10]),nt=new du({props:te}),D.push((()=>Q(nt,"selectedFrames",Zt))),nt.$on("buttonClicked",t[30]);let ne={label:"Custom URL",id:"customUrl",figma:!1};function re(e){t[32](e)}function ie(e){t[33](e)}void 0!==t[10]&&(ne.selectedFrames=t[10]),ot=new du({props:ne}),D.push((()=>Q(ot,"selectedFrames",ee))),ot.$on("buttonClicked",t[13]);let oe={label:"Brightness",id:"brightness"};function ae(e){t[34](e)}function se(e){t[35](e)}void 0!==t[3]&&(oe.value=t[3]),void 0!==t[10]&&(oe.selectedFrames=t[10]),ct=new ec({props:oe}),D.push((()=>Q(ct,"value",re))),D.push((()=>Q(ct,"selectedFrames",ie)));let ue={label:"Contrast",id:"contrast"};function ce(e){t[36](e)}function le(e){t[37](e)}void 0!==t[4]&&(ue.value=t[4]),void 0!==t[10]&&(ue.selectedFrames=t[10]),dt=new ec({props:ue}),D.push((()=>Q(dt,"value",ae))),D.push((()=>Q(dt,"selectedFrames",se)));let he={label:"Saturation",id:"saturation"};function fe(e){t[38](e)}function de(e){t[39](e)}void 0!==t[5]&&(he.value=t[5]),void 0!==t[10]&&(he.selectedFrames=t[10]),gt=new ec({props:he}),D.push((()=>Q(gt,"value",ce))),D.push((()=>Q(gt,"selectedFrames",le)));let pe={label:"Grayscale",id:"grayScale",max:100};function ve(e){t[40](e)}function me(e){t[41](e)}void 0!==t[6]&&(pe.value=t[6]),void 0!==t[10]&&(pe.selectedFrames=t[10]),wt=new ec({props:pe}),D.push((()=>Q(wt,"value",fe))),D.push((()=>Q(wt,"selectedFrames",de)));let ge={label:"Hue",id:"hueRotate",max:360};function ye(e){t[42](e)}function _e(e){t[43](e)}void 0!==t[7]&&(ge.value=t[7]),void 0!==t[10]&&(ge.selectedFrames=t[10]),Et=new ec({props:ge}),D.push((()=>Q(Et,"value",ve))),D.push((()=>Q(Et,"selectedFrames",me)));let be={label:"Invert",id:"invert",max:100};return void 0!==t[8]&&(be.value=t[8]),void 0!==t[10]&&(be.selectedFrames=t[10]),At=new ec({props:be}),D.push((()=>Q(At,"value",ye))),D.push((()=>Q(At,"selectedFrames",_e))),Ot=new du({props:{label:"Reset Adjustments",figma:!1}}),Ot.$on("buttonClicked",t[16]),{c(){e=y("link"),n=y("link"),r=y("link"),J(i.$$.fragment),a=w(),J(s.$$.fragment),u=w(),J(c.$$.fragment),h=w(),f=y("main"),d=y("div"),g=y("h1"),g.textContent="Office Gallery",_=w(),b=y("div"),J(I.$$.fragment),T=w(),J(k.$$.fragment),x=w(),J(P.$$.fragment),O=w(),J(L.$$.fragment),F=w(),$=y("div"),j=y("div"),J(U.$$.fragment),W=w(),J(B.$$.fragment),z=w(),J(K.$$.fragment),et=w(),J(nt.$$.fragment),it=w(),J(ot.$$.fragment),st=w(),ut=y("div"),J(ct.$$.fragment),ft=w(),J(dt.$$.fragment),mt=w(),J(gt.$$.fragment),bt=w(),J(wt.$$.fragment),Tt=w(),J(Et.$$.fragment),Nt=w(),J(At.$$.fragment),Rt=w(),J(Ot.$$.fragment),document.title="Office Gallery Controller",E(e,"rel","preconnect"),E(e,"href","https://fonts.googleapis.com"),E(n,"rel","preconnect"),E(n,"href","https://fonts.gstatic.com"),E(n,"crossorigin",""),E(r,"href","https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&display=swap"),E(r,"rel","stylesheet"),E(g,"class","text-4xl font-semibold text-center text-gray-900 m-9"),E(b,"class","flex flex-row justify-between px-9 sm:justify-center sm:space-x-6"),E(d,"class","relative h-80"),E(j,"class","flex flex-col w-screen space-y-4 mt-9 px-9"),E(ut,"class","flex flex-col w-screen space-y-8 my-9 px-9"),E($,"class","flex flex-row bg-white transition-all svelte-1q761rw"),N($,"width","200%"),A($,"moveControls","adjustments"===t[11]),E(f,"class","w-screen overflow-x-hidden")},m(t,o){p(document.head,e),p(document.head,n),p(document.head,r),Z(i,document.head,null),v(t,a,o),Z(s,t,o),v(t,u,o),Z(c,t,o),v(t,h,o),v(t,f,o),p(f,d),p(d,g),p(d,_),p(d,b),Z(I,b,null),p(b,T),Z(k,b,null),p(b,x),Z(P,b,null),p(f,O),Z(L,f,null),p(f,F),p(f,$),p($,j),Z(U,j,null),p(j,W),Z(B,j,null),p(j,z),Z(K,j,null),p(j,et),Z(nt,j,null),p(j,it),Z(ot,j,null),p($,st),p($,ut),Z(ct,ut,null),p(ut,ft),Z(dt,ut,null),p(ut,mt),Z(gt,ut,null),p(ut,bt),Z(wt,ut,null),p(ut,Tt),Z(Et,ut,null),p(ut,Nt),Z(At,ut,null),p(ut,Rt),Z(Ot,ut,null),Dt=!0},p(t,e){const n={};!o&&512&e[0]&&(o=!0,n.data=t[9],q((()=>o=!1))),i.$set(n);const r={};983040&e[1]&&(r.$$scope={dirty:e,ctx:t}),s.$set(r);const a={};!l&&4096&e[0]&&(l=!0,a.showCustomUrlModal=t[12],q((()=>l=!1))),c.$set(a);const u={};!C&&1&e[0]&&(C=!0,u.selected=t[0],q((()=>C=!1))),I.$set(u);const h={};!S&&2&e[0]&&(S=!0,h.selected=t[1],q((()=>S=!1))),k.$set(h);const f={};!R&&4&e[0]&&(R=!0,f.selected=t[2],q((()=>R=!1))),P.$set(f);const d={};!M&&2048&e[0]&&(M=!0,d.activeTab=t[11],q((()=>M=!1))),L.$set(d);const p={};!V&&1024&e[0]&&(V=!0,p.selectedFrames=t[10],q((()=>V=!1))),U.$set(p);const v={};!H&&1024&e[0]&&(H=!0,v.selectedFrames=t[10],q((()=>H=!1))),B.$set(v);const m={};!G&&1024&e[0]&&(G=!0,m.selectedFrames=t[10],q((()=>G=!1))),K.$set(m);const g={};!rt&&1024&e[0]&&(rt=!0,g.selectedFrames=t[10],q((()=>rt=!1))),nt.$set(g);const y={};!at&&1024&e[0]&&(at=!0,y.selectedFrames=t[10],q((()=>at=!1))),ot.$set(y);const _={};!lt&&8&e[0]&&(lt=!0,_.value=t[3],q((()=>lt=!1))),!ht&&1024&e[0]&&(ht=!0,_.selectedFrames=t[10],q((()=>ht=!1))),ct.$set(_);const b={};!pt&&16&e[0]&&(pt=!0,b.value=t[4],q((()=>pt=!1))),!vt&&1024&e[0]&&(vt=!0,b.selectedFrames=t[10],q((()=>vt=!1))),dt.$set(b);const w={};!yt&&32&e[0]&&(yt=!0,w.value=t[5],q((()=>yt=!1))),!_t&&1024&e[0]&&(_t=!0,w.selectedFrames=t[10],q((()=>_t=!1))),gt.$set(w);const T={};!It&&64&e[0]&&(It=!0,T.value=t[6],q((()=>It=!1))),!Ct&&1024&e[0]&&(Ct=!0,T.selectedFrames=t[10],q((()=>Ct=!1))),wt.$set(T);const E={};!kt&&128&e[0]&&(kt=!0,E.value=t[7],q((()=>kt=!1))),!St&&1024&e[0]&&(St=!0,E.selectedFrames=t[10],q((()=>St=!1))),Et.$set(E);const N={};!xt&&256&e[0]&&(xt=!0,N.value=t[8],q((()=>xt=!1))),!Pt&&1024&e[0]&&(Pt=!0,N.selectedFrames=t[10],q((()=>Pt=!1))),At.$set(N),(!Dt||2048&e[0])&&A($,"moveControls","adjustments"===t[11])},i(t){Dt||(Y(i.$$.fragment,t),Y(s.$$.fragment,t),Y(c.$$.fragment,t),Y(I.$$.fragment,t),Y(k.$$.fragment,t),Y(P.$$.fragment,t),Y(L.$$.fragment,t),Y(U.$$.fragment,t),Y(B.$$.fragment,t),Y(K.$$.fragment,t),Y(nt.$$.fragment,t),Y(ot.$$.fragment,t),Y(ct.$$.fragment,t),Y(dt.$$.fragment,t),Y(gt.$$.fragment,t),Y(wt.$$.fragment,t),Y(Et.$$.fragment,t),Y(At.$$.fragment,t),Y(Ot.$$.fragment,t),Dt=!0)},o(t){X(i.$$.fragment,t),X(s.$$.fragment,t),X(c.$$.fragment,t),X(I.$$.fragment,t),X(k.$$.fragment,t),X(P.$$.fragment,t),X(L.$$.fragment,t),X(U.$$.fragment,t),X(B.$$.fragment,t),X(K.$$.fragment,t),X(nt.$$.fragment,t),X(ot.$$.fragment,t),X(ct.$$.fragment,t),X(dt.$$.fragment,t),X(gt.$$.fragment,t),X(wt.$$.fragment,t),X(Et.$$.fragment,t),X(At.$$.fragment,t),X(Ot.$$.fragment,t),Dt=!1},d(t){m(e),m(n),m(r),tt(i),t&&m(a),tt(s,t),t&&m(u),tt(c,t),t&&m(h),t&&m(f),tt(I),tt(k),tt(P),tt(L),tt(U),tt(B),tt(K),tt(nt),tt(ot),tt(ct),tt(dt),tt(gt),tt(wt),tt(Et),tt(At),tt(Ot)}}}function Cc(t,e,n){let r,i,o=[],a=!0,s=!0,u=!0,c=[100],l=[100],h=[100],f=[0],d=[0],p=[0];function v(t,e){if(!0===e)o.push(t),n(10,o);else for(var r=0;r<o.length;r++)o[r]===t&&(o.splice(r,1),n(10,o))}let m=!1;function g(t,e){if(void 0!==r)for(var i=0;i<o.length;i++)for(var a=0;a<r.frames.length;a++)r.frames[a].id===o[i]&&(n(9,r.frames[a].source.type=t,r),n(9,r.frames[a].source.content=e,r))}function y(t,e){if(void 0!==r)for(var i=0;i<o.length;i++)for(var a=0;a<r.frames.length;a++)r.frames[a].id===o[i]&&n(9,r.frames[a].adjustments[t]=e[0],r)}return t.$$.update=()=>{1&t.$$.dirty[0]&&v(1,a),2&t.$$.dirty[0]&&v(2,s),4&t.$$.dirty[0]&&v(3,u),8&t.$$.dirty[0]&&y("brightness",c),16&t.$$.dirty[0]&&y("contrast",l),32&t.$$.dirty[0]&&y("saturation",h),64&t.$$.dirty[0]&&y("grayScale",f),128&t.$$.dirty[0]&&y("hueRotate",d),256&t.$$.dirty[0]&&y("invert",p)},[a,s,u,c,l,h,f,d,p,r,o,i,m,function(){n(12,m=!m)},g,function(t){if(void 0!==r)for(var e=0;e<o.length;e++)for(var i=0;i<r.frames.length;i++)r.frames[i].id===o[e]&&(n(9,r.frames[i].source.type=t.detail.urlType,r),n(9,r.frames[i].source.content=t.detail.url,r))},function(){if(void 0!==r)for(var t=0;t<o.length;t++)for(var e=0;e<r.frames.length;e++)r.frames[e].id===o[t]&&(n(9,r.frames[e].adjustments.brightness=100,r),n(9,r.frames[e].adjustments.contrast=100,r),n(9,r.frames[e].adjustments.grayScale=0,r),n(9,r.frames[e].adjustments.hueRotate=0,r),n(9,r.frames[e].adjustments.saturation=100,r),n(9,r.frames[e].adjustments.invert=0,r))},function(t){r=t,n(9,r)},function(t){m=t,n(12,m)},function(t){a=t,n(0,a)},function(t){s=t,n(1,s)},function(t){u=t,n(2,u)},function(t){i=t,n(11,i)},function(t){o=t,n(10,o)},()=>g("figma","alpha"),function(t){o=t,n(10,o)},()=>g("figma","bravo"),function(t){o=t,n(10,o)},()=>g("figma","charlie"),function(t){o=t,n(10,o)},()=>g("figma","delta"),function(t){o=t,n(10,o)},function(t){c=t,n(3,c)},function(t){o=t,n(10,o)},function(t){l=t,n(4,l)},function(t){o=t,n(10,o)},function(t){h=t,n(5,h)},function(t){o=t,n(10,o)},function(t){f=t,n(6,f)},function(t){o=t,n(10,o)},function(t){d=t,n(7,d)},function(t){o=t,n(10,o)},function(t){p=t,n(8,p)},function(t){o=t,n(10,o)}]}class Tc extends rt{constructor(t){super(),nt(this,t,Cc,Ic,o,{},null,[-1,-1])}}function Ec(e){let n;return{c(){n=y("p"),n.textContent="frame source wrong"},m(t,e){v(t,n,e)},p:t,d(t){t&&m(n)}}}function kc(t){let e,n;return{c(){e=y("iframe"),E(e,"title","Sketchfab embed"),E(e,"frameborder","0"),e.allowFullscreen=!0,E(e,"mozallowfullscreen","true"),E(e,"webkitallowfullscreen","true"),E(e,"allow","fullscreen; autoplay; vr"),E(e,"xr-spatial-tracking",""),E(e,"execution-while-out-of-viewport",""),E(e,"execution-while-not-rendered",""),E(e,"web-share",""),N(e,"overflow","hidden"),N(e,"overflow-x","hidden"),N(e,"overflow-y","hidden"),N(e,"height","100%"),N(e,"width","100%"),N(e,"max-height","100vh"),N(e,"position","absolute"),N(e,"top","0px"),N(e,"left","0px"),N(e,"right","0px"),N(e,"bottom","0px"),s(e.src,n="https://sketchfab.com/models/"+t[12]+"/embed?autospin=1&autostart=1&camera=0&ui_hint=0")||E(e,"src",n)},m(t,n){v(t,e,n)},p(t,r){4096&r&&!s(e.src,n="https://sketchfab.com/models/"+t[12]+"/embed?autospin=1&autostart=1&camera=0&ui_hint=0")&&E(e,"src",n)},d(t){t&&m(e)}}}function Sc(t){let e,n;return{c(){e=y("iframe"),E(e,"title","Website Showcase"),s(e.src,n=t[11])||E(e,"src",n),E(e,"frameborder","0"),N(e,"overflow","hidden"),N(e,"overflow-x","hidden"),N(e,"overflow-y","hidden"),N(e,"height","100%"),N(e,"width","100%"),N(e,"max-height","100vh"),E(e,"height","100%"),E(e,"width","100%")},m(t,n){v(t,e,n)},p(t,r){2048&r&&!s(e.src,n=t[11])&&E(e,"src",n)},d(t){t&&m(e)}}}function Nc(t){let e,n,r,i,o,a,u;return{c(){e=y("video"),n=y("source"),i=y("source"),a=y("source"),s(n.src,r=t[10])||E(n,"src",r),E(n,"type","video/mp4"),s(i.src,o=t[10])||E(i,"src",o),E(i,"type","video/ogg"),s(a.src,u=t[10])||E(a,"src",u),E(a,"type","video/webm"),E(e,"class","w-full max-w-sreen h-full max-h-screen object-cover object-center"),e.autoplay=!0,e.loop=!0,e.muted=!0},m(t,r){v(t,e,r),p(e,n),p(e,i),p(e,a)},p(t,e){1024&e&&!s(n.src,r=t[10])&&E(n,"src",r),1024&e&&!s(i.src,o=t[10])&&E(i,"src",o),1024&e&&!s(a.src,u=t[10])&&E(a,"src",u)},d(t){t&&m(e)}}}function Ac(t){let e;return{c(){e=y("div"),E(e,"class","w-full h-full bg-cover bg-center"),N(e,"background-image","url("+t[9]+")")},m(t,n){v(t,e,n)},p(t,n){512&n&&N(e,"background-image","url("+t[9]+")")},d(t){t&&m(e)}}}function xc(t){let e;return{c(){e=y("div"),E(e,"class","w-full max-w-sreen h-full max-h-screen bg-cover bg-center"),N(e,"background-image","url("+t[8]+")")},m(t,n){v(t,e,n)},p(t,n){256&n&&N(e,"background-image","url("+t[8]+")")},d(t){t&&m(e)}}}function Pc(t){let e,n,r,i,o,a;function s(e){t[15](e)}let u={};function c(t,e){return"figma"===t[1]?xc:"image"===t[1]?Ac:"video"===t[1]?Nc:"iframe"===t[1]?Sc:"sketchfab"===t[1]?kc:Ec}void 0!==t[0]&&(u.data=t[0]),n=new cu({props:u}),D.push((()=>Q(n,"data",s)));let l=c(t),h=l(t);return{c(){e=w(),J(n.$$.fragment),i=w(),o=y("div"),h.c(),document.title="Office Gallery Frame",E(o,"class","wrapper w-screen h-screen pr-8 pt-10 bg-black"),N(o,"filter","brightness("+t[2]+"%) contrast("+t[3]+"%) grayscale("+t[4]+"%) hue-rotate("+t[5]+"deg) saturate("+t[6]+"%) invert("+t[7]+"%)")},m(t,r){v(t,e,r),Z(n,t,r),v(t,i,r),v(t,o,r),h.m(o,null),a=!0},p(t,[e]){const i={};!r&&1&e&&(r=!0,i.data=t[0],q((()=>r=!1))),n.$set(i),l===(l=c(t))&&h?h.p(t,e):(h.d(1),h=l(t),h&&(h.c(),h.m(o,null))),(!a||252&e)&&N(o,"filter","brightness("+t[2]+"%) contrast("+t[3]+"%) grayscale("+t[4]+"%) hue-rotate("+t[5]+"deg) saturate("+t[6]+"%) invert("+t[7]+"%)")},i(t){a||(Y(n.$$.fragment,t),a=!0)},o(t){X(n.$$.fragment,t),a=!1},d(t){t&&m(e),tt(n,t),t&&m(i),t&&m(o),h.d()}}}function Rc(t,e,n){let r,i,o,a,s,u,c,l,h,f,d,p,v,m,g,{frameID:y=1}=e;return t.$$set=t=>{"frameID"in t&&n(13,y=t.frameID)},t.$$.update=()=>{1&t.$$.dirty&&function(){if(void 0!==r)for(var t=0;t<r.frames.length;t++)r.frames[t].id===y&&(n(14,i=r.frames[t].source.content),n(1,o=r.frames[t].source.type),n(2,a=r.frames[t].adjustments.brightness),n(3,s=r.frames[t].adjustments.contrast),n(4,u=r.frames[t].adjustments.grayScale),n(5,c=r.frames[t].adjustments.hueRotate),n(6,l=r.frames[t].adjustments.saturation),n(7,h=r.frames[t].adjustments.invert))}(),24578&t.$$.dirty&&"figma"===o&&("alpha"===i?1===y?f="1:7":2===y?f="1:35":3===y&&(f="1:40"):"bravo"===i?1===y?f="1:52":2===y?f="1:80":3===y&&(f="1:85"):"charlie"===i?1===y?f="1:97":2===y?f="1:125":3===y&&(f="1:130"):"delta"===i&&(1===y?f="1:142":2===y?f="1:170":3===y&&(f="1:175")),async function(){let t=await fetch("https://api.figma.com/v1/images/BBFCiriAuhbSNwVvMBlEGV?ids="+f+"&scale=4",{method:"GET",headers:{"X-Figma-Token":"210457-300eb6ab-c9b5-44de-b892-bdc6fa5a14ac"}}),e=await t.json();n(8,d=e.images[f])}()),16386&t.$$.dirty&&"image"===o&&n(9,p=i),16386&t.$$.dirty&&"video"===o&&n(10,v=i),16386&t.$$.dirty&&"iframe"===o&&n(11,m=i),16386&t.$$.dirty&&"sketchfab"===o&&n(12,g=i)},[r,o,a,s,u,c,l,h,d,p,v,m,g,y,i,function(t){r=t,n(0,r)}]}class Oc extends rt{constructor(t){super(),nt(this,t,Rc,Pc,o,{frameID:13})}}function Dc(t){let e,n;return e=new Tc({}),{c(){J(e.$$.fragment)},m(t,r){Z(e,t,r),n=!0},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Lc(t){let e,n;return e=new Oc({props:{frameID:3}}),{c(){J(e.$$.fragment)},m(t,r){Z(e,t,r),n=!0},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Mc(t){let e,n;return e=new Oc({props:{frameID:2}}),{c(){J(e.$$.fragment)},m(t,r){Z(e,t,r),n=!0},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Fc(t){let e,n;return e=new Oc({props:{frameID:1}}),{c(){J(e.$$.fragment)},m(t,r){Z(e,t,r),n=!0},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function $c(e){let n,r,i,o;const a=[Fc,Mc,Lc,Dc],s=[];return n=function(t,e){return"frame1"===t[0]?0:"frame2"===t[0]?1:"frame3"===t[0]?2:3}(e),r=s[n]=a[n](e),{c(){r.c(),i=I()},m(t,e){s[n].m(t,e),v(t,i,e),o=!0},p:t,i(t){o||(Y(r),o=!0)},o(t){X(r),o=!1},d(t){s[n].d(t),t&&m(i)}}}function jc(t){Ie.initializeApp({apiKey:"AIzaSyAiCQby9fgvoDefSRHKpPc2Qe4vzIfJaRU",authDomain:"office-figallery.firebaseapp.com",projectId:"office-figallery",storageBucket:"office-figallery.appspot.com",messagingSenderId:"629005007950",appId:"1:629005007950:web:3b1170cc6b96f424c0171f"});let e=window.location.href,n=e?e.split("?")[1]:window.location.search.slice(1);return console.log(n),[n]}return new class extends rt{constructor(t){super(),nt(this,t,jc,$c,o,{})}}({target:document.body,props:{title:"Office Gallery"}})}();
//# sourceMappingURL=bundle.js.map
